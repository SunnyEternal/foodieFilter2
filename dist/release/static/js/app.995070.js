webpackJsonp([1],{"+idV":function(t,e,i){"use strict";var n=i("opSD");i.n(n).a},"+tZ4":function(t,e,i){t.exports=i.p+"static/img/theme.daf7e0.png"},"/ZgZ":function(t,e,i){"use strict";(function(t){var e=i("pFYg"),n=i.n(e);(function(){window.EXIF=function(t){return t instanceof EXIF?t:this instanceof EXIF?void(this.EXIFwrapped=t):new EXIF(t)},"undefined"!=typeof exports?(void 0!==t&&t.exports&&(exports=t.exports=EXIF),exports.EXIF=EXIF):this.EXIF=EXIF;var e=EXIF.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},a=EXIF.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},s=EXIF.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},r=EXIF.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},o=EXIF.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function c(t){return!!t.exifdata}function l(t,e){function i(i){var n=u(i);t.exifdata=n||{};var a=function(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;var i=2,n=t.byteLength,a=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};for(;i<n;){if(a(e,i)){var s=e.getUint8(i+7);s%2!=0&&(s+=1),0===s&&(s=4);var r=i+8+s,o=e.getUint16(i+6+s);return m(t,r,o)}i++}}(i);if(t.iptcdata=a||{},EXIF.isXmpEnabled){var s=function(t){if(!("DOMParser"in self))return;var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;var i=2,n=t.byteLength,a=new DOMParser;for(;i<n-4;){if("http"==f(e,i,4)){var s=i-1,r=e.getUint16(i-2)-1,o=f(e,s,r),c=o.indexOf("xmpmeta>")+8,l=(o=o.substring(o.indexOf("<x:xmpmeta"),c)).indexOf("x:xmpmeta")+10;o=o.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+o.slice(l);var u=a.parseFromString(o,"text/xml");return b(u)}i++}}(i);t.xmpdata=s||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))i(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),n=i.length,a=new ArrayBuffer(n),s=new Uint8Array(a),r=0;r<n;r++)s[r]=i.charCodeAt(r);return a}(t.src));else if(/^blob\:/i.test(t.src)){(a=new FileReader).onload=function(t){i(t.target.result)},function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}(t.src,function(t){a.readAsArrayBuffer(t)})}else{var n=new XMLHttpRequest;n.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";i(n.response),n=null},n.open("GET",t.src,!0),n.responseType="arraybuffer",n.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var a;(a=new FileReader).onload=function(t){i(t.target.result)},a.readAsArrayBuffer(t)}}function u(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var i=2,n=t.byteLength;i<n;){if(255!=e.getUint8(i))return!1;if(225==e.getUint8(i+1))return p(e,i+4,e.getUint16(i+2));i+=2+e.getUint16(i+2)}}var h={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function m(t,e,i){for(var n,a,s,r,o=new DataView(t),c={},l=e;l<e+i;)28===o.getUint8(l)&&2===o.getUint8(l+1)&&(r=o.getUint8(l+2))in h&&((s=o.getInt16(l+3))+5,a=h[r],n=f(o,l+5,s),c.hasOwnProperty(a)?c[a]instanceof Array?c[a].push(n):c[a]=[c[a],n]:c[a]=n),l++;return c}function d(t,e,i,n,a){var s,r,o=t.getUint16(i,!a),c={};for(r=0;r<o;r++)s=i+12*r+2,c[n[t.getUint16(s,!a)]]=g(t,s,e,i,a);return c}function g(t,e,i,n,a){var s,r,o,c,l,u,h=t.getUint16(e+2,!a),m=t.getUint32(e+4,!a),d=t.getUint32(e+8,!a)+i;switch(h){case 1:case 7:if(1==m)return t.getUint8(e+8,!a);for(s=m>4?d:e+8,r=[],c=0;c<m;c++)r[c]=t.getUint8(s+c);return r;case 2:return f(t,s=m>4?d:e+8,m-1);case 3:if(1==m)return t.getUint16(e+8,!a);for(s=m>2?d:e+8,r=[],c=0;c<m;c++)r[c]=t.getUint16(s+2*c,!a);return r;case 4:if(1==m)return t.getUint32(e+8,!a);for(r=[],c=0;c<m;c++)r[c]=t.getUint32(d+4*c,!a);return r;case 5:if(1==m)return l=t.getUint32(d,!a),u=t.getUint32(d+4,!a),(o=new Number(l/u)).numerator=l,o.denominator=u,o;for(r=[],c=0;c<m;c++)l=t.getUint32(d+8*c,!a),u=t.getUint32(d+4+8*c,!a),r[c]=new Number(l/u),r[c].numerator=l,r[c].denominator=u;return r;case 9:if(1==m)return t.getInt32(e+8,!a);for(r=[],c=0;c<m;c++)r[c]=t.getInt32(d+4*c,!a);return r;case 10:if(1==m)return t.getInt32(d,!a)/t.getInt32(d+4,!a);for(r=[],c=0;c<m;c++)r[c]=t.getInt32(d+8*c,!a)/t.getInt32(d+4+8*c,!a);return r}}function f(t,e,i){for(var n="",a=e;a<e+i;a++)n+=String.fromCharCode(t.getUint8(a));return n}function p(t,i){if("Exif"!=f(t,i,4))return!1;var n,c,l,u,h,m=i+6;if(18761==t.getUint16(m))n=!1;else{if(19789!=t.getUint16(m))return!1;n=!0}if(42!=t.getUint16(m+2,!n))return!1;var g=t.getUint32(m+4,!n);if(g<8)return!1;if((c=d(t,m,m+g,a,n)).ExifIFDPointer)for(l in u=d(t,m,m+c.ExifIFDPointer,e,n)){switch(l){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":u[l]=o[l][u[l]];break;case"ExifVersion":case"FlashpixVersion":u[l]=String.fromCharCode(u[l][0],u[l][1],u[l][2],u[l][3]);break;case"ComponentsConfiguration":u[l]=o.Components[u[l][0]]+o.Components[u[l][1]]+o.Components[u[l][2]]+o.Components[u[l][3]]}c[l]=u[l]}if(c.GPSInfoIFDPointer)for(l in h=d(t,m,m+c.GPSInfoIFDPointer,s,n)){switch(l){case"GPSVersionID":h[l]=h[l][0]+"."+h[l][1]+"."+h[l][2]+"."+h[l][3]}c[l]=h[l]}return c.thumbnail=function(t,e,i,n){var a=function(t,e,i){var n=t.getUint16(e,!i);return t.getUint32(e+2+12*n,!i)}(t,e+i,n);if(!a)return{};if(a>t.byteLength)return{};var s=d(t,e,e+a,r,n);if(s.Compression)switch(s.Compression){case 6:if(s.JpegIFOffset&&s.JpegIFByteCount){var o=e+s.JpegIFOffset,c=s.JpegIFByteCount;s.blob=new Blob([new Uint8Array(t.buffer,o,c)],{type:"image/jpeg"})}}else s.PhotometricInterpretation;return s}(t,m,g,n),c}function v(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);e["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var a=0;a<t.childNodes.length;a++){var s=t.childNodes.item(a),r=s.nodeName;if(null==e[r])e[r]=v(s);else{if(null==e[r].push){var o=e[r];e[r]=[],e[r].push(o)}e[r].push(v(s))}}return e}function b(t){try{var e={};if(t.children.length>0)for(var i=0;i<t.children.length;i++){var n=t.children.item(i),a=n.attributes;for(var s in a){var r=a[s],o=r.nodeName,c=r.nodeValue;void 0!==o&&(e[o]=c)}var l=n.nodeName;if(void 0===e[l])e[l]=v(n);else{if(void 0===e[l].push){var u=e[l];e[l]=[],e[l].push(u)}e[l].push(v(n))}}else e=t.textContent;return e}catch(t){}}EXIF.enableXmp=function(){EXIF.isXmpEnabled=!0},EXIF.disableXmp=function(){EXIF.isXmpEnabled=!1},EXIF.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(c(t)?e&&e.call(t):l(t,e),!0)},EXIF.getTag=function(t,e){if(c(t))return t.exifdata[e]},EXIF.getIptcTag=function(t,e){if(c(t))return t.iptcdata[e]},EXIF.getAllTags=function(t){if(!c(t))return{};var e,i=t.exifdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},EXIF.getAllIptcTags=function(t){if(!c(t))return{};var e,i=t.iptcdata,n={};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n},EXIF.pretty=function(t){if(!c(t))return"";var e,i=t.exifdata,a="";for(e in i)i.hasOwnProperty(e)&&("object"==n()(i[e])?i[e]instanceof Number?a+=e+" : "+i[e]+" ["+i[e].numerator+"/"+i[e].denominator+"]\r\n":a+=e+" : ["+i[e].length+" values]\r\n":a+=e+" : "+i[e]+"\r\n");return a},EXIF.readFromBinaryFile=function(t){return u(t)},"function"==typeof define&&i("nErl")&&define("exif-js",[],function(){return EXIF})}).call(this)}).call(e,i("f1Eh")(t))},"0e3M":function(t,e,i){"use strict";var n=i("lYRQ");i.n(n).a},"2CaA":function(t,e){t.exports={assetsPublicPath:"./",assetsRoot:"../dist/release/",scheme:"b612cn://",ajaxPrefix:"https://foodie.kajicam.com/fs/api",sitePrefix:"https://h5.kajicam.com/events/",uploadUrl:"https://b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",siteUrl:"http://h5.kajicam.com/events/2019splicePic/index.html",imagePrefix:"https://h5-template-prod.oss-cn-beijing.aliyuncs.com/",filterId:"235",categoryId:"20005",stickerId:"301197",activityDirName:"2019redPackets",downLink:"https://lnk0.com/easylink/ELdwFNRt"}},"2YCX":function(t,e){},"2YYa":function(t,e){},"2uFj":function(t,e,i){i("6rvf");var n=i("2CaA"),a=(i("TcyI"),i("TgpH"),null);a=n,t.exports=a},"3aV2":function(t,e){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABYAAD/4QMxaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRFQTlEMzFFMDdENzExRTk4RkIwRDJFMUJDMkQ4OTJFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRFQTlEMzFGMDdENzExRTk4RkIwRDJFMUJDMkQ4OTJFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REVBOUQzMUMwN0Q3MTFFOThGQjBEMkUxQkMyRDg5MkUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REVBOUQzMUQwN0Q3MTFFOThGQjBEMkUxQkMyRDg5MkUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAABAQEBAQEBAQEBAgEBAQICAgEBAgIDAgICAgIDBAMDAwMDAwQEBAQFBAQEBgYGBgYGCAgICAgJCQkJCQkJCQkJAQICAgMDAwUEBAUIBgUGCAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQn/wAARCAABAAEDAREAAhEBAxEB/8QASgABAAAAAAAAAAAAAAAAAAAACgEBAAAAAAAAAAAAAAAAAAAAABABAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AfwD/2Q=="},"5bTP":function(t,e){window.Canvas2Image=function(){var t,e,i=(t=document.createElement("canvas"),{canvas:!!(e=t.getContext("2d")),imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa});function n(t,e,i){var n=t.width,a=t.height;void 0==e&&(e=n),void 0==i&&(i=a);var s=document.createElement("canvas"),r=s.getContext("2d");return s.width=e,s.height=i,r.fillStyle="#ffffff",r.fillRect(0,0,e,i),r.drawImage(t,0,0,n,a,0,0,e,i),s}function a(t,e,i,a){return(t=n(t,i,a)).toDataURL(e)}function s(t){document.location.href=t}function r(t){var e=document.createElement("img");return e.src=t,e}function o(t){return"image/"+(t=t.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]}function c(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return btoa(e)}function l(t){var e=t.width,i=t.height;return t.getContext("2d").getImageData(0,0,e,i)}function u(t,e){return"data:"+e+";base64,"+t}var h=function(t){var e=t.width,i=t.height,n=e*i*3,a=n+54,s=[66,77,255&a,a>>8&255,a>>16&255,a>>24&255,0,0,0,0,54,0,0,0],r=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255,1,0,24,0,0,0,0,0,255&n,n>>8&255,n>>16&255,n>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=(4-3*e%4)%4,l=t.data,u="",h=e<<2,m=i,d=String.fromCharCode;do{for(var g=h*(m-1),f="",p=0;p<e;p++){var v=p<<2;f+=d(l[g+v+2])+d(l[g+v+1])+d(l[g+v])}for(var b=0;b<o;b++)f+=String.fromCharCode(0);u+=f}while(--m);return c(s.concat(r))+c(u)},m=function(t,e,r,c){if(i.canvas&&i.dataURL)if("string"==typeof t&&(t=document.getElementById(t)),void 0==c&&(c="png"),c=o(c),/bmp/.test(c)){var m=l(n(t,e,r));s(u(h(m),"image/octet-stream"))}else{s(a(t,c,e,r).replace(c,"image/octet-stream"))}},d=function(t,e,s,c){if(i.canvas&&i.dataURL){if("string"==typeof t&&(t=document.getElementById(t)),void 0==c&&(c="png"),c=o(c),/bmp/.test(c)){var m=l(n(t,e,s));return r(u(h(m),"image/bmp"))}return r(a(t,c,e,s))}};return{saveAsImage:m,saveAsPNG:function(t,e,i){return m(t,e,i,"png")},saveAsJPEG:function(t,e,i){return m(t,e,i,"jpeg")},saveAsGIF:function(t,e,i){return m(t,e,i,"gif")},saveAsBMP:function(t,e,i){return m(t,e,i,"bmp")},convertToImage:d,convertToPNG:function(t,e,i){return d(t,e,i,"png")},convertToJPEG:function(t,e,i){return d(t,e,i,"jpeg")},convertToGIF:function(t,e,i){return d(t,e,i,"gif")},convertToBMP:function(t,e,i){return d(t,e,i,"bmp")}}}()},"66ta":function(t,e){},"6CG8":function(t,e,i){"use strict";var n=i("UEJ9");i.n(n).a},"6rvf":function(t,e){t.exports={assetsPublicPath:"./",assetsRoot:"../dist/beta/",scheme:"b612cnb://",ajaxPrefix:"http://foodie-beta.kajicam.com/fs/api",sitePrefix:"http://h5-beta.kajicam.com/events/",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",siteUrl:"http://h5-beta.kajicam.com/events/2019splicePic/index.html",imagePrefix:"http://h5-template-beta.oss-cn-beijing.aliyuncs.com/",filterId:"235",categoryId:"20136",stickerId:"301197",activityDirName:"2019redPackets",downLink:"https://lnk0.com/easylink/ELdwFNRt"}},"6xpq":function(t,e,i){"use strict";var n=i("n5LQ");i.n(n).a},"78d6":function(t,e){},"89MH":function(t,e){},"8cf6":function(t,e){},"8ehl":function(t,e,i){"use strict";var n=i("JFQg");i.n(n).a},"9PT8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAJFBMVEX/2xX/+sf////95dv/2g3/4Sz/+87/9rP/51z/74r/+fD/+t5n2zxxAAARDElEQVR42u2dvW8bRxbAJ8DshSrXuCzJc5U1IMFUd+pcbbHEyR0NkBGVNNkAR1m4JjLO+nAa8yCZZNKIRmRSdicVtnTNnYAgNvzP3VIfF0vzZubN7MzsWthXxEDi7PK373O+3pDOLRGydUuE9G6JEP+WSAlSgpQgJUgJUoKUICVICVKClCAlSAlSgpQgJUgJUoKUICVICVKClCAlSAlSgpQgJUgJUoKUICVICVKClCAlSAlSgpQgJUgJUoKUICVICVKClCAlSAlSgpQgJUgJUoKUICVILiDXz24myecIkv5w369WPzlMW/X9IKX5nECC9OemCIfT4bDT6bQIIekfw+HocLK1NUP8TEBSiq2d6bBDiJcikJhQmv5j9mcK1B0dbm34NvRiGCRIdbEz7ZwjzH75daFRSucND2d6KTRI4Ptb071zNXAljiLiDScbs79cXI3sDFszS5JLqzvaKC7Izl6HRAQlceR1UpSkiCA7ey1CCVroBUrhQOrTDo2IkqQo3UnRQKYdkYOLUMZFAqnvteKI6AglnVFhQBJ1q/pEZkpJigASVFN1kAxCSXcQ5A8S7OxlUMdlLPZGm3mDpGYVZ+VIleJ1N5JcQdam2czqj/CV2VGygARre+2ImJG4O+nlBRLUs7vHp44y6OUDYpZj5iijIA+QlCMmRiUbCSkMR0rSzEBCisNxTtJzC5LGKwscM+vS9nhSJI4ZiW4UJlocB5RYElqZJM5AkimKg8bXJUKS6OV4DZBku42C8Drd4XA4Gh0ejtI/0/E8Ciai3c3ECUhvR1aXpBRed3g42Qg+noYX0viYzGYeOy0ES7y66QIkqD8X/5QZxWiyeRaysljdme61Y2mg0EknRD1gRWKMznByN+RK4/fDYUeG0tQIXUTZ0SPhdFV3tHEUimWxPpWg6Di8IkhP5Ohx1Bn9FCKksSYZj9FVZYcnig6yK3DxdMQaIqVRHwonXmJlN1EDWTuIBFY1OQrxspgO9mORmyQWQZJtKphAuBOqyVvhOLmiaFxEybDagjF3qCwN0dCMrgbWQNZ4GSRudp+EOvJWQOKpGRdRMSy+WZ2FerLINy+6rGRcJLthxV4/1JbGNt9RlIwLD5JwIlbsvQmzyDqXxFNJi2iQgBOx4ko2jjD8wCWpbFoAqT6Hq+7KszCrnHBJBuZBAtiwTHAISJY3jIPAnh4b4ZiRcPwP7+8ki6dT73VoRj5wSLyxYZBaG+R4Y4gjbDyGF7bpqmEQOKe/CM3JNmfKrm8SJKiBoXflyCBIA44mtGISBCyy6OpZaFIW4fhO+gZBwFxY+UtoVt7CJVDFHAiokOab0LR8yKISDAjoh/0j4yCNp5G+SjAgkPHOnYXmheMmfTMgYMjynoU25KSlHbiIXg7ph3ZkGzSusQmQoM4qhFoxrJnMg8a1akQjQKJqPgttyQmY3scGQICyl65Y44AjF6bikoH0WIXQ5Tv2QMKvobTobWQGWWOfG/0S2pTHkEoGSUaQgA0j9jz9KplE0NRQRpCEfWr0OrQr74G8FfWTTCBBHQi9R5ZBGvuAcc0F2UAO2ND7MrQtJ1RjzCsGqbbZSGidA1bJSpIBBHB1BwqBVSKbrCNiV2c9xAEHrBLJ/KkQZJ0pRiMXCgnDd0B9t6oPEjDlgv2Qxc8l3qY2yBqz8hn9HLqR98AcqjiViEDYJLJ85ghkHqi45nRB2Hlr+iJ0JV+p2hZRsazmE2cg99uKtiUAWXc5DmEEiMBzeiDsSMRR7L2MwIq2xQdJdnNz9XN331WzLT7IOmOlj+A0/N8gC+Bi8g/4PwBj3lUdELbO4rj6eqs50E+Ti9ttzmrqfTa7i4ZXfBAmuT4Ef+5CO9NYKx1FceYAGqxtRa80QBjLor9wLYBWdFVyPklKHyFTCRXU8lyQGs6yLlOwbjy7qA4rZ0jbqqhrhE3rsGXdP/9r9BtNkB8j/ncAbKv5ShmESeuc8uQytmgOUxrPZVZ740fwAzAPZJ3RKxyzfr38VHoReP7y2X8L+dpGDkoINvjC/ry4m6kKu3/5+2CzBXIiPwDzQJhS55FwglOzenknrhnYeovvJAQ5U0rhVLFwaYFUb8T129Xvu4Ost2Lu3ClBuoj3g8g2CP02EwjHARfaeCchyNE6Jyxd+aMmyH+ufh8MwgZgyt0vRJAu8p0VkO/FIEAA5joJDFJlPsVLMQixYlqQk/SVQJhCi+Mi/3d2ks3ZPc7SkYKTEFyh9TAUvyn6l17tK/lOQJVSUQJhCi1eLXWVEKNMCZEs86rnH9lya1MBJGDmfHmW08hWonwtLFFmKmOHiS8UQNjVBO7y52VcqWQqGrkKh8qtgQIIs0eAP+1wEVc4QyM5iKiMh2cced4OgjBjsy8lq8naE0XvZNMzv7J1I14jzKCKfide4KfaE0WLbcnEH+DtG3gQtK/PVpfaUZaV91pMqGgMgPZ20LTauEHV5U9pRyP9ia35A+qJztAA3t5HgzDbTzzRD21Ut7JM0M1vCc/7LWA3pkAgjwlqdOhm7YotgLsJFuQpPmjZXxfFhi2CmQn6U34gUNgaYzWiErSsy9/ZSflXWBAmaL3OEQQ7JCGISgsubRunF2IiEFw+6hQXf1eQII9vVlpQaXt6fLx0IQ8enGb059MHl49aOmY/ywJy6wAAUmOWvJinN64oLiSTVk6vPYr5KvPsVuBlHAg7g8LMA15/90y0SW58khkKsPBww0KQpsWUjDenghpLS8ZIjtlHPZAlEjD+EsRS1RdyDl2SY+hRDySFPMGBMGnkZhEPvvymRSANa0n+Uf5MUPUvQWyQ/Rbzci2VwN/k+kdhMyJ9hAJhB+zXE/s9gyBLCJDfCCqREPmA/QYI5ysu/dUcyBI09yUp5FkQ9rjIS1sgPCu9pt13uAMlLMhXRAxyz7FGTnCHlYg8H94otVw7OwDSRIGwxxOeoD6jTvi9h1Du/Qg1kcKaFrM0cnNd7J4xy+J9lOtVY4RK7US+rZ8pfo9N5UOOnR7JQAgGhB0fslW8MQ6Q5IazQSB9DEhLDsLoRJsDILkZNL4GjpNgQBImsTePZK/PNkg8Fn8SCOQRAqSKApmN665enX2se3rFAo01IZAVBEgdCXIO0zA3yXDEe4suCLubpulyTyYOZBWjkaKBLGiC1Nj080PRQMicHsidwmmkogVCnuQKAtRatCsHCViQKF+QE1zTASIfjpCXhQNZRmjkadFA3uuCsCb5c+FAvM8R5DeCGiJiQL7NFeR7YxoRbBdwIf80phH6xW0BmcuTA5iN1wbpHuUIAnav0XT25TxB5lvmQHKt4xeIbtQixSq27kd6GoFqrYKtsyM1AoEUbOeDdvVLi7UXBVk0AgOrgu0OQmoEAslxv9b8rkkQ76xY0Rc1Zq+TQsVfMPqiZlHqtFBh632E7HCKA/mmWEELBVJtFylswUELNfcLgizn5e3zYFtQ1LJCAv2v0Z1C+ToKxAd7Pr4ukq8jl96ggQz9pki+jgSBOilxz1jZ9nX4uhPU8jQM4uWztLDQygAC96rNZ9r0HewiuJ0PMEg+TvKUA4Lb5gT+v3MFchHc7iAf7kiei5MswF2y6RxuBx2cTF8XJ4sgd9BV4c/wKAeQfdiykHsafRgkh3JrnndpFm6Xqc9pRO9+cAUXWuh9v3BGdNm2TRJ8sVvKfc4lBw9dz0As8iwLPFJJEAdccxq43+ddY+YhTyvUOLHCtW19xXORCvIgDOe+Kte2xbUs+EQl5oxVPrbFtSz0GSufG74LEbNSG0efQ+Q8IveugKLWKKgjrnmsk7yLiEr0BUF44SLvzpmqZ3XZg4hXIC57mfJvhZ5Dn56uci+i7Ofv6pygBYNwI3iu/X7VOwwEXPt014GZqxBePyew5wNfr656Yu/yQTx8Fw5eteWwSzmfg9cFieAay7rdYNPgx161TjXVdr4qOeHHXp6vwyB3n/MfNJevQjiNEnj9tfje7kIlIoWo9ddiO6O4DFyLQoU8VOp4ti64hd3+jTCiS+i5LX85DSd3BY+yfUfPrkghvIZnvD6NB4KHWb41qSbkUOzT6AufZvUeq4W2iIPfg5n4yk7i/mYx/V6mwL0K18qd1/mEXn465Pf7FTmJ89v3EC7CbSUtdjlrIyyxYYnalHN7Yot9ztJFgifit2r0xBZmkvP8fpaDYYmuD8X3jb/ZwPLIdcQSFFoikMcSJVu4V/e9TB+iq1S4prUmM1dXNx1fMwMNkGBfoufIsJvIHUR0I4HK/SNsgjfpJo2DSAqyHOiArEs1TV6YI2lsE7msaF1t05Or2jPn8DUiVwgRWJYARG5bJDZG8qGF4FjWuzUJuHsPIHnmjkN415AIJNlFPLxiguSkFSNeRceaIAjbSoOwAZIPKA6xZQlv30PYVmpdlTduOMSWJQRJnmOen9Xja0gOyV2bwhsqMbaV2q43yJI/sBzL+jdU4mxrphPtXtLzB1gO2X20QpDePu4dtNnVc/m3ezRCcojqLClIUEO+hUbdsYZZ7XTQHNI7m8U3Ha/tYt+TmpfqbNfbKdqsUhlkuekYPCfKI4m6E5UacnFnjypweLJ7zSXXmiPd/VIpw020VdWHrTjCP1uSROQgyb7Cy+KoM/oJhbE27ChhSC9sloL4NZW30dS+RuMjqVGlGLESBnkou55dCoJ390uUuDOc3BUo4/fD1KgUMWS3HGNAkNn9D5IUpdkdTjahFPnv6uFwr61oVIisjgGRzqZAvhLHXnc4OtwKPl71Yjv9mGwdToedVBkRVX4gHSTZQYID9Q9IZyyx1+kOh8Pp9HA0Sv/c66T/kkaR+tMQsRcD4q+3NV6d5npKo/hToURDF7IZXxWQ3kFEdCV1h3OIiMb6D5GWWUgQTZWYE5RCMCD+fpQrCEohKJA6zVchvimQfFWCUwgOpN4uvEJwIP5BVHSFIEHyUwkuZKFBclMJxSoEC7LezockxioEC9I7iHNRSGXTNwvirz3PQyXRIDEN4m/TQisED+LvuVdJc5xYAKk79/do1fctgAQHtLiGpQTi3N/xnq4Ekvq72/y+GviWQHoujYt6Y98WiNtkomRYiiDBTsuZQtQMSxHET5wZl6JhqYKkxuUoFSoaljJIUG8VMGJpgPjBtgsH6W4mtkFSN7EPUhkrc6iDBNU96w4y6fn2QVIS2w4/CHwXILazCR2pO4geiJ9s2yRZ3dDh0AJJSai9gKXHoQfir00tkdDKuOc7BAkskdDKRJNDE8QSSQYOXZA0CJsnycKhDTLTifGEnoFDHyQlMT0hvBz4eYD4wb5hjUT9fECMrzXQ1XxAtiPTToJeQzALYmEmYpAHiIXld1rJA8TGUNF7lUMesbFmTVcS5yBVK/OnFfcaqVmpGvVtS7vWsrTOu+JcI5YG7hXXILb2PilPlWYFqRFL0ncMYmvDENiU2CaItbktTtcpWyAW96KNnYJYcxFeizlbsyj2dgtBN7TaA0msuQivn6QlkKrNheq+uynToGZxKVHTSfRAnlpUiGaVQgqVDi8yyaYzkDW7K6JjdyB2V9tXXC30WEyH5zLnSiN2fT319k1XGtm3CxKNHYFY38ehkxJJ8YKWnrfrgNRt7xiYc2Na9rej6Hg7KV7Q0svtpHhBa9YBxQmIg81ng8QJiP29Z186AbEetLTCFilg0NIKW6SAQUsrbGmY1o/2QcgrFyD7DkDG9jdnOtn6Gw9cgDjY+auxlqgOsu7AskQtMk2BBHUnIIF9EBdbsTFtNzKDPHUB4jkAcRF9CXEA8qsLDvrKOoibEyR0nFgHcXKAhA5uCYj6RAopZD50ABLUI1LI1K5+NOnWgLgxrYe2w6+bxK6xmVkVpOcmsauP2v8HGxZKpMgYs3wAAAAASUVORK5CYII="},"9uy+":function(t,e,i){"use strict";var n=i("MFjV");i.n(n).a},"D/xv":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAQlBMVEVHcEwwMDAwMDAwMDAwMDAwMDAxMTExMTE6OjowMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTEwMDAwMDAxMTE9gQP7AAAAFXRSTlMAFMSogNC8CwSQnC3r+98gsW5hVUrKctSHAAAArElEQVQoz33T6xLEEAwF4GiVqN633v9VN2XH0jr1R8w3YYaD2BMa1pzk5hNpFzT5af4gdTIBtyYq8KxNFx3zQvyolEslWmvnrVLpXwq/lOvD1iUcf+1vSiy+p6p/aurfsf4cavI+bIyeSPxFr53lkeAYgxmwi1oF3YkSIU+K3IXOpkrcYW15qU/XleYYAq1dh8He7098zKqaMY+RaWsKK5Oa2hpd8uEV/ILafgGkfwoa6boH0AAAAABJRU5ErkJggg=="},D3hR:function(t,e,i){"use strict";var n=i("8cf6");i.n(n).a},ERZr:function(t,e){!function(){function t(t){return t.preventDefault(),t.stopPropagation(),!1}var e=function(t,e,i){var n=this;this.containerDom=t,this.targetDom=e,this.targetMinWidth=i&&i.targetMinWidth||0,this.targetMinHeight=i&&i.targetMinHeight||0,this.gestureMouseEnabled=!1,this.gesturePanEnabled=!1,this.gesturePanFrom={x:0,y:0},this.gesturePanOrigin={x:0,y:0},this.gesturePinchEnabled=!1,this.gesturePinchFrom=0,this.gesturePinchOrigin={x:0,y:0},this.gesturePinchSize={width:0,height:0},this.targetDom.setAttribute("style","width:100%"),setTimeout(function(){n.targetDom.offsetWidth/n.targetDom.offsetHeight<n.targetMinWidth/n.targetMinHeight?(n.targetDom.style.height="auto",n.targetMinWidth=n.targetDom.offsetWidth,n.targetMinHeight=0,n.targetDom.style.width="100%"):(n.targetDom.style.height="100%",n.targetMinHeight=n.targetDom.offsetHeight,n.targetMinWidth=0,n.targetDom.style.width="auto")},30),this.bindEvents()};e.prototype.gestureTouchStart=function(e){var i=e.touches||e.originalEvent.touches,n=i[0],a={x:n.pageX,y:n.pageY};if(i.length>=2){var s=i[1],r={x:s.pageX,y:s.pageY};this.gesturePinchStart([a,r])}else this.gesturePanStart(a);return t(e)},e.prototype.gestureTouchMove=function(e){var i=e.touches||e.originalEvent.touches,n=i[0],a={x:n.pageX,y:n.pageY};if(i.length>=2){var s=i[1],r={x:s.pageX,y:s.pageY};this.gesturePinchChange([a,r])}else this.gesturePanMove(a);return t(e)},e.prototype.gestureTouchEnd=function(e){return this.gesturePanEnd(),this.gesturePinchEnd(),t(e)},e.prototype.gestureMouseDown=function(e){var i={x:e.pageX,y:e.pageY};return this.gesturePanStart(i),t(e)},e.prototype.gestureMouseMove=function(e){var i={x:e.pageX,y:e.pageY};return this.gesturePanMove(i),t(e)},e.prototype.gestureMouseUp=function(e){return this.gesturePanEnd(),t(e)},e.prototype.gesturePanStart=function(t){return this.gesturePinchEnabled=!1,this.gesturePanFrom=t,this.gesturePanOrigin.x=this.targetDom.offsetLeft,this.gesturePanOrigin.y=this.targetDom.offsetTop,this.gesturePanEnabled=!0,!1},e.prototype.gesturePanMove=function(t){if(this.gesturePanEnabled){var e=this.gesturePanOrigin.x+t.x-this.gesturePanFrom.x,i=this.gesturePanOrigin.y+t.y-this.gesturePanFrom.y;this.targetDom.style.left=[e,"px"].join(""),this.targetDom.style.top=[i,"px"].join("")}return!1},e.prototype.gesturePanEnd=function(){if(this.gesturePanEnabled){var t=this.targetDom.offsetLeft,e=this.targetDom.offsetTop;if(t>0)t=0;else{var i=this.targetDom.offsetWidth,n=this.containerDom.clientWidth;t+i<n&&(t=n-i)}if(e>0)e=0;else{var a=this.targetDom.offsetHeight,s=this.containerDom.clientHeight;e+a<s&&(e=s-a)}this.targetDom.style.left=[t,"px"].join(""),this.targetDom.style.top=[e,"px"].join(""),this.gesturePanEnabled=!1}return!1},e.prototype.gesturePinchStart=function(t){this.gesturePanEnabled=!1;var e=Math.abs(t[1].x-t[0].x),i=Math.abs(t[1].y-t[0].y);if(this.gesturePinchFrom=Math.sqrt(e*e+i*i),this.gesturePinchFrom>0){var n=this.targetDom.getBoundingClientRect(),a=.5*(t[0].x+t[1].x)-n.left,s=.5*(t[0].y+t[1].y)-n.top;this.gesturePinchOrigin.x=a/this.targetDom.offsetWidth,this.gesturePinchOrigin.y=s/this.targetDom.offsetHeight,this.gesturePinchSize.width=this.targetDom.offsetWidth,this.gesturePinchSize.height=this.targetDom.offsetHeight,this.gesturePinchEnabled=!0}return!1},e.prototype.gesturePinchChange=function(t){if(this.gesturePinchEnabled){var e=Math.abs(t[1].x-t[0].x),i=Math.abs(t[1].y-t[0].y),n=Math.sqrt(e*e+i*i)/this.gesturePinchFrom,a=this.gesturePinchSize.width*n,s=this.gesturePinchSize.height*n,r=this.containerDom.getBoundingClientRect(),o=.5*(t[0].x+t[1].x)-r.left,c=.5*(t[0].y+t[1].y)-r.top,l=o-a*this.gesturePinchOrigin.x,u=c-s*this.gesturePinchOrigin.y;this.targetDom.style.width=[a,"px"].join(""),this.targetDom.style.height=[s,"px"].join(""),this.targetDom.style.left=[l,"px"].join(""),this.targetDom.style.top=[u,"px"].join("")}return!1},e.prototype.gesturePinchEnd=function(){if(this.gesturePinchEnabled){var t=this.targetDom.offsetWidth,e=this.targetDom.offsetHeight,i=this.targetDom.offsetLeft,n=this.targetDom.offsetTop;if(t<this.targetMinWidth?(t=this.targetMinWidth,e="auto"):e<this.targetMinHeight&&(e=this.targetMinHeight,t="auto"),i>0)i=0;else{var a=this.containerDom.clientWidth;i+t<a&&(i=a-t)}if(n>0)n=0;else{var s=this.containerDom.clientHeight;n+this.targetDom.offsetHeight<s&&(n=0)}this.targetDom.style.width="auto"==t?"auto":[t,"px"].join(""),this.targetDom.style.height="auto"==e?"auto":[e,"px"].join(""),this.targetDom.style.left=[i,"px"].join(""),this.targetDom.style.top=[n,"px"].join(""),this.gesturePinchEnabled=!1}return!1},e.prototype.bindEvents=function(){var e=this;"createTouch"in document?(e.containerDom.ontouchstart=function(i){return e.gestureTouchStart(i),t(i)},e.containerDom.ontouchmove=function(i){return e.gestureTouchMove(i),t(i)},e.containerDom.ontouchend=function(i){return e.gestureTouchEnd(i),t(i)},e.containerDom.ontouchcancel=function(i){return e.gestureTouchEnd(i),t(i)}):(e.containerDom.onmousedown=function(i){return e.gestureMouseDown(i),t(i)},e.containerDom.onmousemove=function(i){return e.gestureMouseMove(i),t(i)},e.containerDom.onmouseup=function(i){return e.gestureMouseUp(i),t(i)},e.containerDom.onmouseout=function(i){return e.gestureMouseUp(i),t(i)})},e.prototype.unbindEvents=function(){"createTouch"in document?(this.containerDom.ontouchstart=null,this.containerDom.ontouchmove=null,this.containerDom.ontouchend=null):(this.containerDom.onmousedown=null,this.containerDom.onmousemove=null,this.containerDom.onmouseup=null)},window.EZGesture=e}()},EjCg:function(t,e){},"F+tC":function(t,e){},Fge1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABXCAMAAAC3HXLTAAAAP1BMVEVHcEz///////////////////////////////////////////////////////////////////////////////9KjZoYAAAAFHRSTlMAmSYXs8zmgE1mDDVbBUN3lIymwV5qOAoAAAJNSURBVBgZ7cHblqIwEAXQQ1WulYQA8v/fOqM2UkuxJ91kzZN7oxmFHPPI6ExCvBsLeio5bkb0NMYdoR+JSkY/FDVGNylqhG5S1BjdUNQE3ZSoBPxGYWLBixR3hGdCiQTfkRSukuBZiJuEJ5z9VWa8xWHDeFLGeJfwhKq/q4Q3JOwEzySFMCbBE/YPlXEshV1Co+x3GYdK0ARNxGuCIxw0RhPyGuEIBY3QJHkt4QgHjdGEvEY4UoJW0ES8JjiUwi6hUfa7jGMSdoJGXP2mMt7gsGE0o+rvKuEtSeEqCX6As7/KjO8UZi74IaFEgn8p+Pj4+D+ESNCBBD9NPjPuwmX9yyScRfNwM434q0zrl4pzaBo2CcC8PkScUebhYWKkdecYJ6RByVhWpeKEOCgeblUMTqiDMmHVLE6ogzLDrcoFJ+RBqbisyoQT0qAExFVJOKMOD3NBsevDglNkHr5MBIDd+sUKTilShxvPuOJlvZkFp1GuNSdsKE5TZHx8fHy0SZN1zuSCH0l+MYtPeKt4d3chtBNv7rzgjdltLKNVmcxmLjg0ut2CVtnsMg4ZpxDalMXsloID4rSINslohAPktBltRqONOEBO82gzGm3EgeK0jDZkNMKRwSmMRovZDThEbufRajS7Ecey2xhBs2o2Ee9k624mwQvO8zJFwqts7jLekziYxRNe5Yu9qQUvOPvZZ8ZvVLuZCjpKdhfR0WJ3F0E3bLURvZRktYxuRqtFdENWC+jHWIXRT7A7j47KbDeLoKfi7d3A6CzNxl7mEa3+ANOHLCpwctgpAAAAAElFTkSuQmCC"},GoLT:function(t,e,i){"use strict";var n=i("L36M");i.n(n).a},"ITX+":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAOBAMAAAAs4XpOAAAAHlBMVEW2trb29/rk5efJysvb293s7fDx8vW8vb3T1NbDw8M0+gpPAAAAXUlEQVQI12MQBAExA1MwLcAAphyYGRoRXHXOwGQGRRgXzAQKQbgiEIUOHGCuEIMZWL+gAQuQK2rABDVZqGCqAIMCC9xkEQYHhpBAhMkpAWSYDAZCBZOgJkOACIMCAMY+FYzw0hG7AAAAAElFTkSuQmCC"},JFQg:function(t,e){},JaCE:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqBAMAAAA37dRoAAAAG1BMVEWxsbFHcEyxsbGxsbGwsLCxsbGxsbGwsLCxsbFMJ7b8AAAACHRSTlNpAB1a66eJmpJ6+5oAAABOSURBVCjPYxCEAaE0RTibAc5S6XDCIsrR0TAqShVRi45mhKiQAQMYMEd0tMKYigwqHZjAiaECi2g7DlHsJmC3DbvLRuON6qLYcxZyLgQAVd5/o96tLwEAAAAASUVORK5CYII="},K39m:function(t,e,i){"use strict";var n=i("Th96");i.n(n).a},L36M:function(t,e){},LGUL:function(t,e,i){"use strict";var n=i("2YYa");i.n(n).a},LOy8:function(t,e){},LfRn:function(t,e,i){t.exports=i.p+"static/img/uploadBg.7a0ca2.png"},MFjV:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};i.d(n,"home",function(){return Le}),i.d(n,"imageUpload",function(){return Oe}),i.d(n,"tapLike",function(){return Me}),i.d(n,"imgList",function(){return Re}),i.d(n,"topicList",function(){return je}),i.d(n,"sendMsg",function(){return $e}),i.d(n,"verifyCode",function(){return Ge}),i.d(n,"userCome",function(){return He}),i.d(n,"registerUser",function(){return Qe}),i.d(n,"myWorkList",function(){return Ve}),i.d(n,"deleteWork",function(){return We}),i.d(n,"createAlbum",function(){return Je}),i.d(n,"editAlbum",function(){return ze}),i.d(n,"deleteAlbum",function(){return Ye}),i.d(n,"setAlbumCover",function(){return Xe}),i.d(n,"allAlbum",function(){return Ke}),i.d(n,"setLike",function(){return qe}),i.d(n,"getDynamicPicList",function(){return Ze}),i.d(n,"getAlbumPicList",function(){return ti}),i.d(n,"getTopicPicList",function(){return ei}),i.d(n,"getAllTopicPicList",function(){return ii});i("9mmO"),i("1uLP"),i("52Wt"),i("TFWu"),i("MyjO"),i("qtRy"),i("THnP"),i("K0JP"),i("NfZy"),i("dTzs"),i("+vXH"),i("MsuQ"),i("dSUw"),i("ZDXm"),i("V/H1"),i("CVR+"),i("vmSu"),i("4ZU1"),i("yx1U"),i("SPtU"),i("A52B"),i("PuTd"),i("dm+7"),i("JG34"),i("Rw4K"),i("9mGU"),i("bUY0"),i("mTp7"),i("y9m4"),i("A0n/"),i("VTn2"),i("W/IU"),i("Y5ex"),i("WpPb"),i("+yjc"),i("gPva"),i("C+4B"),i("W4Z6"),i("tJwI"),i("eC2H"),i("n12u"),i("nRs1"),i("jrHM"),i("EuXz"),i("F3sI"),i("bqOW"),i("Racj"),i("tqSY"),i("CvWX"),i("Y1S0"),i("Gh7F"),i("pd+2"),i("MfeA"),i("VjuZ"),i("mJx5"),i("qwQ3"),i("beEN"),i("xMpm"),i("9vc3"),i("WpTh"),i("U6qc"),i("No4x"),i("WgSQ"),i("yuXV"),i("XtiL"),i("A1ng"),i("LG56"),i("Stuz"),i("aJ2J"),i("WiIn"),i("v2lb"),i("7Jvp"),i("lyhN"),i("kBOG"),i("xONB"),i("LlNE"),i("9xIj"),i("m6Yj"),i("wrs0"),i("Lqg1"),i("pWGb"),i("1ip3"),i("N4KQ"),i("Hl+4"),i("MjHD"),i("SRCy"),i("H0mh"),i("gbyG"),i("YVn/"),i("FKfb"),i("zmx7"),i("smQ+"),i("m8F4"),i("v8VU"),i("dich"),i("fx22"),i("SldL"),i("Avvh"),i("0/sL"),i("wyjE"),i("2YCX"),i("/ZgZ"),i("ERZr"),i("5bTP");var a=i("cTzj"),s=i.n(a),r=i("7+uW"),o=i("woOf"),c=i.n(o),l=i("Zrlr"),u=i.n(l),h=i("wxAW"),m=i.n(h),d=i("Zx67"),g=i.n(d),f=i("zwoO"),p=i.n(f),v=i("Pf15"),b=i.n(v),A=i("mvHQ"),I=i.n(A),C=function(){function t(){u()(this,t)}return m()(t,[{key:"toString",value:function(t){return t?I()(this,function(t,e){return e||void 0}):I()(this)}}]),t}(),w={image:"image",video:"video",web:"web"},k=(function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";u()(this,e);var r=p()(this,(e.__proto__||g()(e)).call(this));if(!w[i])throw"[illegal type] "+i;return r.url=t,r.type=i,r.title=n,r.content=a,r.thumbnail=s,r}b()(e,t),m()(e,null,[{key:"types",get:function(){return w}}])}(C),function(){function t(){u()(this,t)}return m()(t,null,[{key:"isIos",value:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}},{key:"isAndroid",value:function(){return!!navigator.userAgent.match(/Android/i)}},{key:"isIosOrAndroid",value:function(){return t.isIos()||t.isAndroid()}},{key:"isIosLowerThan11",value:function(){var e=!1;t.isIos()&&(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]<=10);return e}},{key:"isIos8or9",value:function(){var t=navigator.userAgent;return t.indexOf("OS 8_")>=0||t.indexOf("OS 9_")>=-1}}]),t}()),y=i("yEsh"),_=i.n(y),P={bridgeNs1st:"B612",bridgeNs2nd:"Native",_initB612Context:function(){return window[this.bridgeNs1st]=window[this.bridgeNs1st]||{},window[this.bridgeNs1st][this.bridgeNs2nd]=window[this.bridgeNs1st][this.bridgeNs2nd]||{},window[this.bridgeNs1st][this.bridgeNs2nd]},getB612NativeContext:function(){var t=this._initB612Context();return t.namespace=this.bridgeNs1st+"."+this.bridgeNs2nd,t}},x=function(){function t(){return u()(this,t),null}return m()(t,[{key:"_initInstance",value:function(){this.className=this.constructor.name,this.fullName=P.getB612NativeContext().namespace+"."+this.className,this.callback={},this.callback.fullName=this.fullName+".callback",this._registerGlobal()}},{key:"_registerGlobal",value:function(){P.getB612NativeContext()[this.className]=P.getB612NativeContext()[this.className]||this}},{key:"_registerCallback",value:function(t,e,i){for(var n=arguments.length,a=Array(n>3?n-3:0),s=3;s<n;s++)a[s-3]=arguments[s];var r=this;return this.callback[t]=function(n){r._logResult(n,t);var s=i?i.from(n):n;e.apply(void 0,[s].concat(a))},this._makeNativeCallbackName(t)}},{key:"_makeNativeCallbackName",value:function(t){return this.callback.fullName+"."+t}},{key:"_logResult",value:function(t,e){"string"==typeof t&&t.substring(0,1e3)}},{key:"printThis",value:function(){}}],[{key:"getInstance",value:function(){return null}}]),t}(),S=null,D=function(t){function e(){var t;u()(this,e);var i=p()(this,(e.__proto__||g()(e)).call(this));return S||(S=i,_()(e.prototype.__proto__||g()(e.prototype),"_initInstance",i).call(i,S)),t=S,p()(i,t)}return b()(e,t),m()(e,[{key:"appInfo",value:function(t){}},{key:"save",value:function(t,e){}},{key:"shareWithCallback",value:function(t,e,i){}},{key:"eventCamera",value:function(t,e){}},{key:"eventCameraWithLandmarks",value:function(t,e){}},{key:"getCameraImage",value:function(t){}},{key:"getCameraImageWithLandmarks",value:function(t){}}]),e}(x),N=function(){function t(e,i,n,a,s){u()(this,t),this.app=e,this.os=i,this.deviceModel=n,this.language=a,this.country=s}return m()(t,null,[{key:"from",value:function(e){var i=JSON.parse(e);return new t(i.app,i.os,i.deviceModel,i.language,i.country)}}]),t}(),T=function(){function t(e){u()(this,t),this.success=e}return m()(t,null,[{key:"from",value:function(e){return new t(JSON.parse(e).success)}}]),t}(),E=function(){function t(e,i){u()(this,t),this.base64Image=e,this.success=i}return m()(t,null,[{key:"from",value:function(e){return new t(e,!!e)}}]),t}(),U=function(){function t(e,i){u()(this,t),this.base64Image=e,this.success=i}return m()(t,null,[{key:"from",value:function(e){return e?new t(e.replace(/\n/gi,""),!0):new t(e,!1)}}]),t}(),B=function(){function t(e){var i=e.success,n=e.base64Image,a=e.url,s=e.landmarks;u()(this,t),this.success=i,this.base64Image=n,this.url=a,this.landmarks=I()(s)}return m()(t,null,[{key:"from",value:function(e){return new t(JSON.parse(e))}}]),t}(),F=null,L=window.B612KajiBridgeInterface,O=function(t){function e(){var t;u()(this,e);var i=p()(this,(e.__proto__||g()(e)).call(this));return F||(F=i,_()(e.prototype.__proto__||g()(e.prototype),"_initInstance",i).call(i,F)),t=F,p()(i,t)}return b()(e,t),m()(e,[{key:"appInfo",value:function(t){var e=this._registerCallback("appInfo",t,N);L.appInfo(e)}},{key:"save",value:function(t,e){var i=this._registerCallback("save",e,T);L.save(i,t.toString())}},{key:"shareWithCallback",value:function(t,e,i){var n=this._registerCallback("sharePoppedCallback",e,T),a=this._registerCallback("shareMediaClickedCallback",i,T);L.shareWithCallback(n,a,t.toString())}},{key:"eventCamera",value:function(t,e){k.isAndroid()&&(t.categoryId=void 0,t.stickerId=void 0);var i=this._registerCallback("eventCamera",e,E,t.type,t.cameraPosition);L.eventCamera(i,t.toString(!0))}},{key:"eventCameraWithLandmarks",value:function(t,e){k.isAndroid()&&(t.categoryId=void 0,t.stickerId=void 0);var i=this._registerCallback("eventCameraWithLandmarks",e,B,t.type,t.cameraPosition);L.eventCameraWithLandmarks(i,t.toString(!0))}},{key:"getCameraImage",value:function(t){var e=this._registerCallback("getCameraImage",t,U);L.getCameraImage(e)}},{key:"getCameraImageWithLandmarks",value:function(t){var e=this._registerCallback("getCameraImageWithLandmarks",t,B);L.getCameraImageWithLandmarks(e)}},{key:"close",value:function(){L.close()}}]),e}(x),M=i("2uFj"),R=i.n(M),j=null,G=function(t){function e(){var t;u()(this,e);var i=p()(this,(e.__proto__||g()(e)).call(this));return j||(j=i,_()(e.prototype.__proto__||g()(e.prototype),"_initInstance",i).call(i,j)),t=j,p()(i,t)}return b()(e,t),m()(e,[{key:"appInfo",value:function(t){var e=this._registerCallback("appInfo",t,N);this._calliOSFunction("appInfo",null,e)}},{key:"save",value:function(t,e){var i=this._registerCallback("save",e,T);this._calliOSFunction("save",t,i)}},{key:"shareWithCallback",value:function(t,e,i){var n=this._registerCallback("sharePoppedCallback",e,T),a=this._registerCallback("shareMediaClickedCallback",i,T),s=JSON.parse(t.toString());s.clickShareButton=a,this._calliOSFunction("share",s,n)}},{key:"eventCamera",value:function(t,e){var i=this._registerCallback("eventCamera",e,B,t.type,t.cameraPosition);this._calliOSFunction("eventCamera",t,i)}},{key:"eventCameraWithLandmarks",value:function(t,e){var i=this._registerCallback("eventCameraWithLandmarks",e,B,t.type,t.cameraPosition);this._calliOSFunction("eventCameraWithLandmarks",t,i)}},{key:"getCameraImage",value:function(t){var e=this._registerCallback("getCameraImage",t,B);this._calliOSFunction("getCameraImage",null,e)}},{key:"getCameraImageWithLandmarks",value:function(t){var e=this._registerCallback("getCameraImageWithLandmarks",t,B);this._calliOSFunction("getCameraImageWithLandmarks",null,e)}},{key:"close",value:function(){this._calliOSFunction("close",null,null)}},{key:"_calliOSFunction",value:function(t,e,i){var n=R.a.b612Scheme+"native/",a={};a.functionName=t,i&&(a.success=i),e&&(a.args=e),n+=I()(a),this._openCustomURLinIFrame(n)}},{key:"_openCustomURLinIFrame",value:function(t){var e=document.documentElement,i=document.createElement("IFRAME");i.setAttribute("src",t),e.appendChild(i),i.parentNode.removeChild(i)}}]),e}(x),H=function(){function t(){u()(this,t)}return m()(t,null,[{key:"getBridge",value:function(){return k.isIos()?new G:void 0!=window.B612KajiBridgeInterface&&k.isAndroid()?new O:new D}}]),t}(),Q={imageCamera:"imageCamera",imageAlbum:"imageAlbum"},V={front:"0",back:"1"},W=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";u()(this,e);var o=p()(this,(e.__proto__||g()(e)).call(this));if(!Q[t])throw"[illegal type] "+t;return o.type=t,o.cameraPosition=i,o.filterId=n,o.categoryId=a,o.stickerId=s,o.collageId=r,o.autoDownload="true",o}return b()(e,t),m()(e,null,[{key:"types",get:function(){return Q}},{key:"cameraPositions",get:function(){return V}}]),e}(C),J=i("//Fk"),z=i.n(J),Y=i("Xxa5"),X=i.n(Y),K=i("exGp"),q=i.n(K),Z=i("pe4C"),tt=i.n(Z),et=(i("xLz0"),function(){function t(){u()(this,t)}return m()(t,null,[{key:"inputPath2url",value:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e}},{key:"createQr",value:function(t,e){return t.innerHTML="",new QRCode(t,{text:e,width:140*window.devicePixelRatio,height:140*window.devicePixelRatio,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})}},{key:"addQr",value:function(t){var e=document.createElement("canvas");e.style.width="750px",e.style.height="1000px";var i=e.getContext("2d"),n=i.backingStorePixelRatio||i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1,a=(window.devicePixelRatio||1)/n,s=a>2?a:2;return e.width=750*s,e.height=1e3*s,i.scale(s,s),i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i.drawImage(t,0,0,750,1e3),i.drawImage(qr,0,0,260,260,13,856,132,132),Canvas2Image.convertToJPEG(e,e.width,e.height)}},{key:"validationImageSize",value:function(e,i){if(0==e||0==i)return!1;if(e>=i&&i<t.imageRule.minWidth)return!1;if(e<i&&e<t.imageRule.minHeight)return!1;var n=e/i;return!(n<t.imageRule.minRatio||n>t.imageRule.maxRatio)}},{key:"cutAutoImage",value:function(t){return new z.a(function(e,i){var n=document.createElement("canvas"),a=n.getContext("2d");a.clearRect(0,0,n.width,n.height);var s=a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,r=(window.devicePixelRatio||1)/s,o=$("#dropArea").offset().width,c=$("#dropArea").offset().height,l=new Image;l.onload=function(){var t;t="100%"==$("#dropImg").css("width")?this.width/parseInt($("#dropImg").offset().width):this.height/parseInt($("#dropImg").offset().height);var i=Math.abs(parseInt($("#dropImg").css("left"))),s=Math.abs(parseInt($("#dropImg").css("top")));n.style.width=o+"px",n.style.height=c+"px";var l=r>2?r:2;n.width=o*l,n.height=c*l,a.scale(l,l),a.drawImage(this,i*t,s*t,o*t,c*t,0,0,o,c);var u=Canvas2Image.convertToJPEG(n,o*l,c*l),h=new Image;h.src=u.src,h.onload=function(){e(this)}},l.src=t})}},{key:"cutAutoImageA",value:function(t,e,i,n,a,s){return new z.a(function(r,o){var c=$("#dropArea").offset().width,l=$("#dropArea").offset().height,u=new Image;u.onload=function(){var t;t="100%"==$("#dropImg").css("width")?this.width/parseInt($("#dropImg").offset().width):this.height/parseInt($("#dropImg").offset().height);var o=Math.abs(parseInt($("#dropImg").css("left"))),u=Math.abs(parseInt($("#dropImg").css("top")));e.drawImage(this,o*t,u*t,c*t,l*t,i,n,a,s),setTimeout(function(){r()})},u.src=t})}}]),t}());et.imageRule={minWidth:200,minHeight:200,minRatio:.46,maxRatio:2.2};var it=et;function nt(t){var e=document.querySelector(".loading");t?(e.classList.add("run"),e.style.display="flex"):(e.style.display="none",e.classList.remove("run"))}var at="???";function st(t,e){if(lt.myApp.isInApp){var i=new W(W.types.imageCamera,W.cameraPositions.front,config.filterId,config.categoryId,config.stickerId,"","true"),n=new W(W.types.imageAlbum);showSelectBox(function(){$("#cameraBtn, #galleryBtn").off("click"),$("#cameraBtn").one("click",function(){lt.thisSelectFrom="userPic",H.getBridge().eventCamera(i,lt.eventCameraCallback),_hmt.push(["_trackEvent",at,"click","开始相机拍照"])}),$("#galleryBtn").on("click",function(){lt.thisSelectFrom="userPic",H.getBridge().eventCamera(n,lt.eventCameraCallback),_hmt.push(["_trackEvent",at,"click","开始相册选取"])})})}else $("#inputFile")[0].value="",$("#inputFile").off("change").trigger("click"),$("#inputFile").on("change",function(){return function(t,e){if(this.files.length<=0)return nt(0);if(!this.files[0].type.includes("image"))return e.$reminderMsg.show({text:"不支持此种类型的文件"});if(this.files[0].size>1e7)return e.$reminderMsg.show({text:"图片大小不得超过10M"});var i=new Image;i.onload=function(){var e=this;setTimeout(function(){t&&t(e)},0)},i.src=it.inputPath2url(this.files[0])}.call(this,t,e)}),_hmt.push(["_trackEvent",at,"click","开始选取照片"])}function rt(t,e){return new z.a(function(i,n){EXIF.getData(t,function(n){var a=EXIF.getAllTags(t).Orientation;new tt.a(t).render(e,{maxWidth:980,maxHeight:980,orientation:a},i)})})}var ot=function(){function t(){u()(this,t)}return m()(t,null,[{key:"assignMyApp",value:function(e){t.myApp=c()({},t.myApp,e)}},{key:"checkAppInfo",value:function(){return at=lt.myApp.eventName+lt.myApp.inState,void H.getBridge().appInfo(function(t){if(t.app){var e={isInApp:!0,version:t.app,inState:"-inApp"};at=lt.myApp.eventName+lt.myApp.inState,lt.assignMyApp(e)}})}},{key:"pickImg",value:function(t,e){st(t,e)}},{key:"renderFileChangedImg",value:function(t,e){return rt(t,e)}}]),t}();ot.myApp={isIos:k.isIos(),isAnd:k.isAndroid(),inState:"-outApp",isInApp:!1,version:"",dpr:window.devicePixelRatio,eventName:"filterAc"};var ct,lt=ot,ut=(i("t4Wa"),i("K1/g")),ht={name:"App",components:{loadingDom:Object(ut.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading mask",staticStyle:{display:"none","z-index":"999"}},[e("div",{staticClass:"cricle"},[e("div",{staticClass:"cricleWpr"},[e("img",{staticClass:"loadingIcon",staticStyle:{width:".44rem"},attrs:{src:i("Fge1"),alt:""}})])])])},[],!1,null,null,null).exports},data:function(){return{isInApp:!1,userInfo:{}}},beforeMount:function(){},mounted:function(){lt.checkAppInfo(),window.addEventListener("offline",function(){alert("请检查网络链接")})},watch:{$route:function(t,e){"/"==t.path?this.transitionName="slide-right":this.transitionName="slide-left",window.scrollTo(0,0)},userInfo:function(){this.$userState=c()({},this.$userState,this.userInfo)}},methods:{}},mt=(i("0e3M"),Object(ut.a)(ht,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("loadingDom"),this._v(" "),e("router-view",{staticClass:"child-view",attrs:{propUserInfo:this.userInfo}})],1)},[],!1,null,null,null).exports),dt=i("/ocq"),gt=i("Gu7T"),ft=i.n(gt),pt=(i("66ta"),{props:{filterObj:{type:Object,required:!0},actionUrl:{type:String}},data:function(){return{tapState1:!1,tapState2:!1}},mounted:function(){},methods:{handTouchstart1:function(){this.tapState1=!0},handTouchend1:function(){this.tapState1=!1},handTouchstart2:function(){this.tapState2=!0},handTouchend2:function(){this.tapState2=!1,_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"])},cancelFn:function(){this.$emit("parentHandNo",!1)},confirmFn:function(){this.$emit("parentHandNo",!0)}}}),vt=(i("6CG8"),Object(ut.a)(pt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"dialog"}},[i("div",{staticClass:"main"},[i("h4",[t._v("确定使用同款滤镜进行拍摄")]),t._v(" "),i("p",[i("img",{attrs:{src:t.filterObj.url}}),t._v(" "),i("span",[t._v(t._s(t.filterObj.name))])]),t._v(" "),i("div",{staticClass:"btnWrap"},[i("a",{staticClass:"noBtn",class:{tap1:t.tapState1},on:{touchstart:t.handTouchstart1,touchend:t.handTouchend1,click:t.cancelFn}},[t._v("取消")]),t._v(" "),i("a",{staticClass:"okBtn",class:{tap2:t.tapState2},attrs:{href:t.actionUrl},on:{touchstart:t.handTouchstart2,touchend:t.handTouchend2}},[t._v("确定")])])])])},[],!1,null,"5f1ce62e",null).exports),bt={props:{btnAttr:{type:Object,required:!1},eventName:String},data:function(){return{tapState:!1,url:""}},mounted:function(){},methods:{handTouchstart:function(t){this.tapState=!0},handTouchend:function(){this.tapState=!1},emitFn:function(){this.$emit(this.eventName)}}},At=(i("VUlv"),Object(ut.a)(bt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btnWrap",class:{tap:t.tapState}},[i("div",{staticClass:"btnCon",style:t.btnAttr.btnCon,on:{touchstart:t.handTouchstart,touchend:t.handTouchend,click:t.emitFn}},[i("div",{staticClass:"btnInfo"},[i("p",{staticClass:"midCon"},[i("span",{staticClass:"imgWrap",style:{backgroundImage:"url("+t.btnAttr.btnImg.bgUrl+")",display:t.btnAttr.btnImg.display}}),t._v(" "),i("span",{staticClass:"txtWrap"},[t._v("\n          "+t._s(t.btnAttr.val)+"\n        ")])])])])])},[],!1,null,null,null).exports),It={props:{btnAttr:{type:Object,required:!1},eventName:String,btnActionUrl:String},data:function(){return{tapState:!1,url:""}},mounted:function(){},methods:{handTouchstart:function(t){this.tapState=!0},handTouchend:function(){this.tapState=!1},emitFn:function(){this.$emit(this.eventName)}}},Ct=(i("qtba"),Object(ut.a)(It,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"btnWrap",class:{tap:t.tapState},attrs:{href:t.btnActionUrl}},[i("div",{staticClass:"btnCon",style:t.btnAttr.btnCon,on:{touchstart:t.handTouchstart,touchend:t.handTouchend,click:t.emitFn}},[i("span",{staticClass:"btnTxt"},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.btnAttr.showImg,expression:"btnAttr.showImg"}],staticClass:"btnImg",style:t.btnAttr.btnImg,attrs:{src:t.btnAttr.imgUrl}}),t._v("\n      "+t._s(t.btnAttr.val)+"\n    ")])])])},[],!1,null,"66c1993f",null).exports),wt={props:{propUserInfo:Object},components:{Dialog:vt,ImgBtn:At,ActionBtn:Ct},data:function(){return{cdnPrefix:"",hasLogin:!1,actRulesState:!1,bigPicState:!1,userInfo:{},bigPicObj:{},datas:[],lDatas:[],rDatas:[],actItem:{ilike:!1},liked:!1,filterObj:{url:"",name:" "},picBtn:{btnCon:{borderColor:"#434343",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"上传作品"},myPicBtn1:{btnCon:{},btnImg:{bgUrl:""},val:"我的作品"},myPicBtn2:{btnCon:{width:"3.44rem",fontSize:".3rem"},btnImg:{display:"block",bgUrl:""},val:""},knowBtn:{btnCon:{width:"3.4rem",fontSize:".34rem",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:" 知道了"},filterBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},showImg:!0,val:" ",imgUrl:" "},takeTopicBtn1:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"参与话题"},takeTopicBtn2:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"上传作品"},sortType:0,pageNo:1,busy:!0,actStyle:{},actImageUrl:"",topicList:[{topicId:0,topicName:"推荐"}],topicListL:[],topicListR:[],topicId:-1,topicName:"",curr:0,isLoading:!0,showDialog:!1,filterAction:"",partNum:null}},beforeCreate:function(){var t=this;this.$ajax.topicList().then(function(e){if(200===e.code){var i;(i=t.topicList).push.apply(i,ft()(e.result));var n=Math.floor(t.topicList.length/2);t.topicList.forEach(function(e,i){e.ind=i,e.className="color"+i%7,i<n?t.topicListL.push(e):t.topicListR.push(e)})}else 400===e.code&&t.$reminderMsg.show({text:e.message})}).catch(function(t){})},mounted:function(){this.userInfo=JSON.parse(this.$ut.lStorageGet("userInfo")),this.getInitHome(0,0,"推荐")},methods:{tapLike:function(t){var e=this;if(t.liked)return this.$reminderMsg.show({text:"您已经给此图点过赞啦"});this.$loading(1),this.$ajax.setLike({picId:t.id,um5:t.um5}).then(function(i){if(e.$loading(0),200===i.code||"200"===i.code){var n=JSON.parse(localStorage.getItem("$FoodieData"))||[];n.constructor!=Array&&(localStorage.removeItem("$FoodieData"),n=[]),n.push(t.id),localStorage.setItem("$FoodieData",I()(n)),t.likedNum+=1,t.liked=!0}}).catch(function(t){e.$loading(0)})},goUserCenter:function(){this.$router.push({name:"my"})},takeTopic:function(){},clearFn:function(){localStorage.clear()},getInitHome:function(t,e,i){var n=this;if(this.topicName=i,setTimeout(function(){window.scrollTo(0,2)},20),this.topicId!==t){this.datas=[],this.busy=!0,this.curr=e,this.topicId=t;var a=this.$ut.lStorageGet("htoken")||0;this.$loading(1),_hmt.push(["_trackEvent","filterAc_topicType","click","点击分类数"]),_hmt.push(["_trackEvent","filterAc_topicType"+t,"click","点击["+i+"]数"]);var s={hToken:a,topicId:t};this.$ajax.home(s).then(function(t){(n.$ut.lStoragePut("htoken",t.result.htoken),n.cdnPrefix=t.result.cdnPrefix,n.datas=t.result.pictureViews,n.busy=!1,0===n.datas.length?n.isLoading=!1:n.isLoading=!0,n.userInfo)?(n.hasLogin=!0,n.myPicBtn2.val=n.userInfo.userName,-1!=JSON.parse(I()(n.userInfo.headImg)).substring(0,40).indexOf("base64")?n.myPicBtn2.btnImg.bgUrl=n.userInfo.headImg||"":""!=n.userInfo.headImg&&(n.myPicBtn2.btnImg.bgUrl=n.cdnPrefix+n.userInfo.headImg)):n.hasLogin=!1;setTimeout(function(){n.$loading(0)},50)})}},loadMore:function(){var t=this;this.busy=!0;var e=this,i={hToken:this.$ut.lStorageGet("htoken")||0,topicId:this.topicId},n=setInterval(function(){return clearInterval(n),t.$ajax.home(i).then(function(i){if(200==i.code){var n;_hmt.push(["_trackEvent","filterAc_listNext","click","首页翻页数"]),0===t.topicId&&(t.topicName="推荐"),_hmt.push(["_trackEvent","filterAc_listNext"+t.topicId,"click","["+t.topicName+"]翻页数"]),e.cdnPrefix=i.result.cdnPrefix,e.$ut.lStoragePut("htoken",i.result.htoken),e.isHasLogin(e.cdnPrefix);var a=[];return i.result.pictureViews.forEach(function(t,e){a.push(t.id)}),0==a.length?setTimeout(function(){e.busy=!0},500):(e.busy=!1,(n=e.datas).push.apply(n,ft()(i.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)},picsFn:function(t){_hmt.push(["_trackEvent","filterAc_myPic","click","点击我的作品"]),this.$ut.lStoragePut("page",t);var e=this.$ut.lStorageGet("token");this.hasLogin?this.$router.push({name:"work"}):e?this.getUserCome(e,t):(this.$ut.lStoragePut("page","work"),this.$router.push({name:"login"}))},getUserCome:function(t,e){var i=this;this.$ajax.userCome(t).then(function(t){if(200===t.code||"200"===t.code)if(i.$ut.lStoragePut("userCome",t.result.come),!0===t.result.come||"true"===t.result.come){var n=i.$ut.lStorageGet("page")||e;i.$router.push({name:n})}else i.$router.push({name:"user"});else i.$reminderMsg.show({text:t.errMsg}),setTimeout(function(){i.$router.push({name:"login"})},1500)}).catch(function(t){})},uploadPicFn:function(t){this.$ut.lStoragePut("page",t);var e=this.$ut.lStorageGet("token");this.hasLogin?this.$router.push({name:"register"}):e?this.getUserCome(e,t):(this.$ut.lStoragePut("page","register"),this.$router.push({name:"login"}))},filterHand:function(t){this.showDialog=t||!1,t&&(this.showDialog=!1)},useFilter:function(t){this.showDialog=!0,""!==t.filterImage&&(this.filterObj={url:this.cdnPrefix+t.filterImage,name:t.filterName}),this.filterAction=t.filterAction},openFilter:function(){_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"]),this.filterAction=this.bigPicObj.filterAction},goMyWork:function(t){JSON.parse(this.$ut.lStorageGet("userInfo")).headImg;this.$router.push({name:"my"})},touchPrevent:function(t){},isHasLogin:function(t){this.$ut.lStorageGet("token"),this.$ut.lStorageGet("userCome"),this.$ut.lStorageGet("userPhone");this.userInfo?(this.hasLogin=!0,this.myPicBtn2.val=this.userInfo.userName,-1!=JSON.parse(I()(this.userInfo.headImg)).substring(0,40).indexOf("base64")?this.myPicBtn2.btnImg.bgUrl=this.userInfo.headImg:this.myPicBtn2.btnImg.bgUrl=t+this.userInfo.headImg):this.hasLogin=!1},checkFoodieMark:function(t){return new z.a(function(e,i){EXIF.getData(t,function(i){var n=EXIF.getAllTags(t);e(n)})})},toM2c1:function(t,e){var i=this;if(!e)return i.actImageUrl="",this.bigPicState=!this.bigPicState;this.$loading(1),this.actItem=t,this.filterBtn.val=t.filterName,this.filterBtn.imgUrl=t.filterImage,t.filterImage&&(this.filterBtn.imgUrl=this.cdnPrefix+t.filterImage),_hmt.push(["_trackEvent","filterAc_picDes","click","点击图片详情数"]),this.actItem=t;var n=new Image;n.src=this.cdnPrefix+this.actItem.picUrl+"?x-oss-process=image/resize,w_720",n.onload=function(){1.5*this.width>=this.height?(i.actStyle={width:"100%"},$(".imgParent").css({width:"100%"})):(i.actStyle={height:"100%"},$(".imgParent").css({height:"100%"})),i.actImageUrl=this.src,i.bigPicObj=t,i.$loading(0)},this.bigPicState=!this.bigPicState},showActRules:function(t){this.actRulesState=!!t,_hmt.push(["_trackEvent","filterAc_actRules","click","点击活动规则"]),t&&setTimeout(function(){$("#actRules").css({opacity:t})},80)},imgload:function(t){t.currentTarget.style.visibility="visible"},toUpload:function(){this.$router.push({name:"register"})},imgSize:function(t){1.5*t.currentTarget.width>=t.currentTarget.height?t.currentTarget.style.width="100%":t.currentTarget.style.height="100%"},bodySty:function(){$("body").addClass("bodySty")}},watch:{showDialog:{handler:function(t,e){},immediate:!0},datas:function(){var t=this;t.lDatas=[],t.rDatas=[];var e=0,i=0,n=$(".items.l").width(),a=JSON.parse(localStorage.getItem("$FoodieData"))||[];a.constructor!=Array&&(localStorage.setItem("$FoodieData","[]"),a=[]),this.datas.forEach(function(s,r){a.includes(s.id)&&(s.liked=!0);new Image;s.imgH=n*s.picHeight/s.picWidth,e<=i?(e+=s.imgH,t.lDatas.push(s)):(i+=s.imgH,t.rDatas.push(s))})}}},kt=(i("+idV"),Object(ut.a)(wt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"p5"}},[n("header",{staticClass:"head"},[n("div",{staticClass:"tip",on:{click:function(e){return t.showActRules(1)}}},[n("img",{staticClass:"activeRule",attrs:{src:i("YYkU")}}),t._v(" "),n("span",{staticClass:"activeTxt"},[t._v("社区规则")])]),t._v(" "),n("img",{staticClass:"theme",attrs:{src:i("+tZ4")},on:{click:t.clearFn}}),t._v(" "),n("div",{staticClass:"sort"},[t._l(t.topicListL,function(e,a){return n("button",{key:e.topicId,class:[e.className,{active:e.ind==t.curr}],attrs:{type:"button"},on:{click:function(i){return t.getInitHome(e.topicId,e.ind,e.topicName)}}},[2===e.hot?n("img",{staticClass:"hot",attrs:{src:i("Y+yO")}}):t._e(),t._v("\n        "+t._s(e.topicName)+"\n      ")])}),n("br"),t._v(" "),t._l(t.topicListR,function(e,a){return n("button",{key:e.topicId,class:[e.className,{active:e.ind==t.curr}],attrs:{type:"button"},on:{click:function(i){return t.getInitHome(e.topicId,e.ind,e.topicName)}}},[2===e.hot?n("img",{staticClass:"hot",attrs:{src:i("Y+yO")}}):t._e(),t._v("\n        "+t._s(e.topicName)+"\n      ")])})],2)]),t._v(" "),n("transition",[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{filterObj:t.filterObj,actionUrl:t.filterAction},on:{parentHandNo:t.filterHand}})],1),t._v(" "),n("div",{staticClass:"wpr"},[n("div",{ref:"leftWrp",staticClass:"items l"},t._l(t.lDatas,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),n("span",{staticClass:"like posz",class:{likeActive:e.liked},on:{click:function(i){return i.stopPropagation(),t.tapLike(e)}}},[t._v(" \n            "+t._s(e.likedNum)+"\n          ")])]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:t.goUserCenter}},[e.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(e.nickname))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),0),t._v(" "),n("div",{ref:"rightWrp",staticClass:"items r"},[t._l(t.rDatas,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),n("span",{staticClass:"like posz",class:{likeActive:e.liked},on:{click:function(i){return i.stopPropagation(),t.tapLike(e)}}},[t._v(" \n            "+t._s(e.likedNum)+"\n          ")])]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:t.goUserCenter}},[e.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(e.nickname))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),t._v(" "),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"-10"}})],2)]),t._v(" "),n("div",{staticClass:"btnGroup"},[n("ImgBtn",{attrs:{eventName:"handPicFn",btnAttr:t.picBtn},on:{handPicFn:function(e){return t.uploadPicFn("register")}}}),t._v(" "),t.hasLogin?n("ImgBtn",{attrs:{eventName:"myPicFn",btnAttr:t.myPicBtn2},on:{myPicFn:function(e){return t.picsFn("work")}}}):n("ImgBtn",{attrs:{eventName:"myPicFn",btnAttr:t.myPicBtn1},on:{myPicFn:function(e){return t.picsFn("work")}}})],1),t._v(" "),t.actRulesState?n("div",{staticClass:"mask",attrs:{id:"actRules"}},[n("div",{staticClass:"actRwpr"},[n("h4",[t._v("社区规则")]),t._v(" "),t._m(0),t._v(" "),n("ImgBtn",{staticStyle:{"margin-top":".45rem"},attrs:{btnAttr:t.knowBtn,eventName:"sHideActRules"},on:{sHideActRules:function(e){return t.showActRules(0)}}})],1)]):t._e(),t._v(" "),t.bigPicState?n("div",{staticClass:"bigPic mask",on:{touchmove:function(e){return e.preventDefault(),t.touchPrevent(e)}}},[n("div",{staticClass:"bigPicWpr"},[n("div",{staticClass:"imgParent"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"close",attrs:{src:i("dyQ0")},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("img",{staticClass:"big",style:t.actStyle,attrs:{src:t.actImageUrl},on:{click:function(e){return t.toM2c1(t.actItem,0)}}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"bigPicBot"},[n("div",{staticClass:"group"},[n("aside",[n("span",{staticClass:"like",class:{likeActive:t.actItem.liked},on:{click:function(e){return e.stopPropagation(),t.tapLike(t.actItem)}}},[t._v("\n                "+t._s(t.bigPicObj.likedNum)+"\n              ")])]),t._v(" "),t.filterBtn.imgUrl?n("aside",{staticClass:"filterWrap",staticStyle:{background:"#fff",color:"#333"},on:{click:function(e){return t.useFilter(t.filterAction)}}},[n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+t.filterBtn.imgUrl+")"}}),t._v(" "),n("span",{staticClass:"filterName"},[t._v(" \n                "+t._s(t.filterBtn.val)+"\n              ")])]):t._e()]),t._v(" "),n("p",{staticClass:"content"},[t._v(t._s(t.bigPicObj.picDescription))]),t._v(" "),t.bigPicObj.topicName?n("p",{staticClass:"topic topicDetail"},[t._v("#"+t._s(t.bigPicObj.topicName))]):t._e(),t._v(" "),n("p",{staticClass:"topic posiDetail"},[t._v(t._s(t.bigPicObj.position))]),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:function(e){return t.goMyWork(t.bigPicObj.headImg)}}},[t.bigPicObj.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.bigPicObj.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.bigPicObj.nickname))])])])]),t._v(" "),n("div",{staticClass:"filterBtnWpr"},[t.bigPicObj.topicName?n("ImgBtn",{attrs:{btnAttr:t.takeTopicBtn1,eventName:"handleTopic"},on:{handleTopic:t.takeTopic}}):n("ImgBtn",{attrs:{btnAttr:t.takeTopicBtn2,eventName:"handleTopic"},on:{handleTopic:t.takeTopic}})],1)])]):t._e(),t._v(" "),t.isLoading?n("div",{staticClass:"loading"},[n("img",{staticClass:"loadImg",attrs:{src:i("ITX+")}}),t._v(" "),n("p",{staticClass:"loadTxt"},[t._v("正在加载更多精彩内容...")])]):n("div",{staticClass:"loading"},[n("p",{staticClass:"loadTxt"},[t._v("没有更多内容了...")])])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"con"},[this._v("Foodie鼓励用户创造、分享自己的图片作品，并通过滤镜效果让作品更有价值！为了建立一个温暖、有爱的社区，和小F一起来了解下相关规则和注意事项吧👇"),e("br"),this._v("\n        1.作品分享：点击“上传作品”上传、分享话题作品，每次只能上传一张，每天可多次上传。"),e("br"),this._v("\n        2.作品要求：用户上传的作品必须使用Foodie拍摄，不良内容将会被过滤。"),e("br"),this._v("\n        3.作品展示：用户在上传作品- 关联话题 后，作品会在“我的作品”中保存，优秀作品不仅会在相关话题标签内展示，还将有机会上官方推荐哦！"),e("br"),this._v("\n        4.滤镜使用：用户可以点击作品右下方的滤镜标识，进行同款滤镜拍摄🌟"),e("br"),this._v(" "),e("br"),this._v("\n        任何问题可添加客服微信反馈：Cattemii")])}],!1,null,null,null).exports),yt={props:{sty:Object,eventName:String},data:function(){return{tapState:!1}},methods:{handTouchstart:function(t){this.tapState=!0},handTouchend:function(){this.tapState=!1},emitFn:function(){this.$emit(this.eventName)}},computed:{backgroundImg:function(){return"radial-gradient("+this.sty.sColor+" 0%,"+this.eColor+" 85%, "+this.sty.eColor+");}"}}},_t=(i("xTLl"),Object(ut.a)(yt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn"},[i("em",{class:{tap:t.tapState},style:{color:t.sty.color,width:t.sty.width,backgroundImage:"radial-gradient("+t.sty.sColor+" 0%,"+t.sty.eColor+" 85%,"+t.sty.eColor+")"},on:{touchstart:t.handTouchstart,touchend:t.handTouchend,click:t.emitFn}},[t._v("\n        "+t._s(t.sty.value)+"\n  ")])])},[],!1,null,null,null).exports),Pt={components:{Button:_t,ImgBtn:At},data:function(){return{userInfo:{},userName:"",userPhone:"",reminderMsg:"",reminderState:!0,visib:"visible",picked:!1,logined:!1,btnStlye:{btnCon:{width:"5.14rem",fontSize:".34rem",background:"#dcdcdc",borderColor:"#dcdcdc",color:"#fff"},btnImg:{bgUrl:""},val:"完成",bgUrl:""},btnStlyeActive:{btnCon:{width:"5.14rem",fontSize:".34rem",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"完成",bgUrl:""},backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem",borderColor:"#434343"},btnImg:{bgUrl:""},val:"返回首页",bgUrl:""},text:"",ajaxUpAble:!0,show:!1,content:"",topicId:"",topicName:"关联话题",isShow:!1,topicList:[],curr:0}},beforeCreate:function(){var t=this;this.$ajax.topicList().then(function(e){var i;200===e.code?(i=t.topicList).push.apply(i,ft()(e.result)):400===e.code&&t.$reminderMsg.show({text:e.message})}).catch(function(t){})},mounted:function(){localStorage.removeItem("page")},methods:{goListBtn:function(){this.$router.push({name:"list"})},showTopicList:function(){this.isShow=!0,this.isShow?$("body").css({overflow:"hidden"}):$("body").css({overflow:"visible"})},selectTopic:function(t){this.topicName=t.topicName,this.topicId=t.topicId,this.isShow=!1},handleContent:function(){},fnBlur:function(){document.querySelector("body").style.height="100%",setTimeout(function(){var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0))},100)},fnfocus:function(t){document.querySelector("body").style.height="99999px",setTimeout(function(){document.body.scrollTop=document.documentElement.scrollTop=document.querySelector("#p2 .showBox").offsetWidth/2+30},120)},ajaxUp:function(){var t=this;this.$loading(1),this.ajaxUpAble=!1,_hmt.push(["_trackEvent","filterAc_uploadPic","click","点击上传作品"]);var e=this,i=this.$ut.lStorageGet("token"),n=$("#inputFile")[0].files[0];if(n.size>1024e4)return this.$loading(0),this.$reminderMsg.show({text:"上传图片大小不能超过10M"});this.$ajax.imageUpload({topicId:this.topicId,desc:encodeURI(this.content),token:i,file:n}).then(function(i){e.$loading(0),i&&200==i.code?(e.logined=!0,e.ajaxUpAble=!0,e.$router.push({name:"work"})):i&&10005==i.code?(e.$reminderMsg.show({text:i.message}),setTimeout(function(){e.$router.push({name:"login"})}),_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"])):i&&10003==i.code?(e.$reminderMsg.show({text:i.message||"上传失败，请重新上传"}),_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"])):(e.$reminderMsg.show({text:i.message||"上传失败，请重新上传"}),_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"]),setTimeout(function(){t.$router.go(0)},1500))}).catch(function(i){_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"]),e.$loading(0),e.ajaxUpAble=!0,"timeout"==i&&t.$reminderMsg.show({text:"上传超时，请检查网络"})})},registerFn:function(){if(!this.picked)return this.$reminderMsg.show({text:"请选择照片"});try{this.userInfo&&this.ajaxUpAble&&this.ajaxUp()}catch(e){if(this.$loading(0),(e+"").toLowerCase().includes("urierror"))return this.$reminderMsg.show({text:"用户名格式不支持"});var t=(e+"").substr(7);this.$reminderMsg.show({text:t})}},checkFoodieMark:function(t){return new z.a(function(e,i){EXIF.getData(t,function(i){var n=EXIF.getAllTags(t);e(n)})})},pickImg:function(){var t,e=this,i=this;try{lt.pickImg((t=q()(X.a.mark(function t(n){return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.$loading(1),t.next=3,i.checkFoodieMark(n).then(function(t){t.hasOwnProperty("Model")&&t.Model.toLowerCase().includes("foodie")?($("#bridgeImg")[0].src=n.src,lt.renderFileChangedImg(n,$("#bridgeImg")[0]).then(function(){i.$loading(0);var t=new Image;t.src=$("#bridgeImg")[0].src,t.onload=function(){i.visib="hidden",i.picked=!0,this.width>=this.height?$("#pickImg").css({width:"100%",height:"auto"}):$("#pickImg").css({height:"100%",width:"auto"})},$("#pickImg")[0].src=$("#bridgeImg")[0].src}).catch(function(t){i.$loading(0)})):(i.$reminderMsg.show({text:"该照片非foodie拍摄<br />请使用foodie拍摄或编辑后的照片"}),e.$loading(0))}).catch(function(t){});case 3:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}),i)}catch(t){}}},watch:{isShow:{handler:function(t,e){t?$("body").css("overflow","hidden"):$("body").css("overflow","visible")},immediate:!0}}},xt=(i("QV1Y"),Object(ut.a)(Pt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"p2"}},[n("transition",[n("section",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"topicGroup"},[n("div",{staticClass:"main"},[n("h3",[t._v("关联话题"),n("img",{staticClass:"closeTopic",attrs:{src:i("D/xv")},on:{click:function(e){t.isShow=!1}}})]),t._v(" "),n("ul",t._l(t.topicList,function(e,i){return n("li",{key:i,on:{click:function(i){return t.selectTopic(e)}}},[t._v(t._s(e.topicName))])}),0)])])]),t._v(" "),n("div",{staticClass:"showBox"},[n("img",{staticClass:"placeh",style:{visibility:t.visib},attrs:{src:i("LfRn")},on:{click:t.pickImg}}),t._v(" "),n("img",{staticClass:"pickImg",attrs:{src:i("3aV2"),id:"pickImg"},on:{click:t.pickImg}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.picked,expression:"picked"}],staticClass:"plus",attrs:{src:i("eyNm")},on:{click:t.pickImg}}),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.picked,expression:"picked"}],staticClass:"reChoose",on:{click:t.pickImg}},[t._v("重新上传")])]),t._v(" "),t.logined?t._e():n("div",[n("div",{staticClass:"inp"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.content,expression:"content",modifiers:{trim:!0}}],staticClass:"content",attrs:{type:"text",placeholder:"说点什么（不超过20个汉字）",maxlength:"20"},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value.trim())},t.handleContent],blur:[t.fnBlur,function(e){return t.$forceUpdate()}],focus:t.fnfocus}})]),t._v(" "),n("div",{staticClass:"inp",staticStyle:{position:"relative"}},[n("p",{staticClass:"relevant",class:{selected:"关联话题"!==t.topicName},on:{click:t.showTopicList}},[t._v(t._s(t.topicName))]),t._v(" "),n("img",{staticClass:"arrow",attrs:{src:i("Ng7G")}})])]),t._v(" "),n("div",{staticClass:"_btn"},[n("ImgBtn",{staticClass:"submitBtn",attrs:{btnAttr:t.picked?t.btnStlyeActive:t.btnStlye,eventName:"submitImg"},on:{submitImg:t.registerFn}}),t._v(" "),n("ImgBtn",{staticStyle:{"margin-top":".2rem"},attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.goListBtn}})],1)],1)},[],!1,null,null,null).exports),St={},Dt=(i("6xpq"),Object(ut.a)(St,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"errPage"},[e("h1",[this._v("\n    4 0 4"),e("br"),this._v(" "),e("small",[this._v("您访问的页面不存在哦...")])])])}],!1,null,null,null).exports),Nt={props:{},components:{ImgBtn:At},data:function(){return{userInfo:{},userPhone:null,verifyCode:null,restTime:120,content:"发送验证码",isSend:!1,isAble:!0,reminderMsg:"",reminderState:!0,visib:"visible",picked:!1,logined:!1,btnStlye:{btnCon:{width:"5.14rem",color:"#fff",background:"#dcdcdc",fontSize:".34rem"},btnImg:{bgUrl:""},val:"提交"},btnStlyeActive:{btnCon:{width:"5.14rem",background:"#434343",color:"#fff",fontSize:".34rem"},btnImg:{bgUrl:""},val:"提交"},backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem",borderColor:"#434343"},btnImg:{bgUrl:""},val:"返回首页",bgUrl:""},text:"",ajaxUpAble:!0}},beforeMount:function(){},mounted:function(){},methods:{handleInput:function(t){this.userPhone=t.target.value.replace(/\D*/g,"")},handleCode:function(t){this.verifyCode=t.target.value.replace(/\D*/g,"")},goListBtn:function(){this.$router.push({name:"list"})},submitUser:function(){return this.userPhone?this.verifyCode?(this.$ut.lStoragePut("userPhone",this.userPhone),void this.submitCode()):this.$reminderMsg.show({text:"请输入验证码"}):this.$reminderMsg.show({text:"请输入手机号"})},modifyUserInfoRight:function(t){var e=this;this.$ajax.userCome(t).then(function(t){if(200==t.code)if(1==t.result.come){var i=e.$ut.lStorageGet("page")||"my";e.$router.push({name:i})}else e.$router.push({name:"user"});else e.$reminderMsg.show({text:t.errMsg}),setTimeout(function(){e.$router.go(0)},1500)}).catch(function(t){})},checkPhoneNum:function(t){var e=!1;return!!/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(t)||(this.$reminderMsg.show({text:"请填写有效手机号"}),e)},checkNum:function(t){var e=!1;return!!/^[0-9]*$/.test(t)||(this.$reminderMsg.show({text:"验证码错误"}),e)},countDown:function(){var t=this;this.restTime=120,this.isSend=!0;var e=null;this.getCode(),clearInterval(e),e=window.setInterval(function(){t.restTime--,0==t.restTime&&(t.restTime=0,t.isSend=!1,t.content="发送验证码",clearInterval(e))},1e3)},getCode:function(){var t=this;this.$ajax.sendMsg({mobile:this.userPhone}).then(function(e){t.$reminderMsg.show({text:e.message})}).catch(function(t){})},submitCode:function(){var t=this;this.checkNum(this.verifyCode)&&this.$ajax.verifyCode({mobile:this.userPhone,code:this.verifyCode}).then(function(e){if(3e4===e.code){var i=e.result;t.$ut.lStoragePut("token",e.result),_hmt.push(["_trackEvent","filterAc_verifyCode","click","验证短信验证码通过"]),t.modifyUserInfoRight(i)}else 30001===e.code?(t.$reminderMsg.show({text:e.message}),_hmt.push(["_trackEvent","filterAc_failVerifyCode","click","验证短信验证码失败"])):30002===e.code?(t.$reminderMsg.show({text:e.message}),_hmt.push(["_trackEvent","filterAc_failVerifyCode","click","验证短信验证码失败"])):(e.code,t.$reminderMsg.show({text:e.message}),_hmt.push(["_trackEvent","filterAc_failVerifyCode","click","验证短信验证码失败"]))}).catch(function(t){_hmt.push(["_trackEvent","filterAc_failVerifyCode","click","验证短信验证码失败"])})}},watch:{userPhone:function(t,e){t.length>7?this.isAble=!1:this.isAble=!0}}},Tt=(i("Z16d"),Object(ut.a)(Nt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"login"}},[i("h3",{staticClass:"head"},[t._v("手机号登录")]),t._v(" "),i("div",{staticClass:"loginInfo"},[i("div",{staticClass:"text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userPhone,expression:"userPhone"}],attrs:{type:"text",maxlength:"11",placeholder:"输入手机号码"},domProps:{value:t.userPhone},on:{input:[function(e){e.target.composing||(t.userPhone=e.target.value)},t.handleInput]}})]),t._v(" "),i("div",{staticClass:"text"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.verifyCode,expression:"verifyCode",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"4",placeholder:"输入验证码"},domProps:{value:t.verifyCode},on:{input:[function(e){e.target.composing||(t.verifyCode=e.target.value.trim())},t.handleCode],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:!t.isSend,expression:"!isSend"}],staticClass:"sendCode",class:{forbid:t.isSend,disSty:t.isAble},attrs:{disabled:t.isAble},on:{click:t.countDown}},[t._v("\n      "+t._s(t.content)+"\n    ")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.isSend,expression:"isSend"}],staticClass:"sendCode",class:{forbid:t.isSend},attrs:{disabled:t.isSend},on:{click:t.countDown}},[t._v("\n      "+t._s(t.restTime+"s后发送")+"\n    ")])]),t._v(" "),i("ImgBtn",{attrs:{btnAttr:t.userPhone&&t.verifyCode?t.btnStlyeActive:t.btnStlye,eventName:"submit"},on:{submit:t.submitUser}}),t._v(" "),i("ImgBtn",{staticStyle:{"margin-top":".15rem"},attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.goListBtn}})],1)},[],!1,null,"12d6c54c",null).exports),Et={props:{txtVal:String},data:function(){return{tapState1:!1,tapState2:!1}},mounted:function(){},methods:{handTouchstart1:function(){this.tapState1=!0},handTouchend1:function(){this.tapState1=!1},handTouchstart2:function(){this.tapState2=!0},handTouchend2:function(){this.tapState2=!1},cancelFn:function(){this.$emit("confirmHand",!1)},confirmFn:function(){this.$emit("confirmHand",!0)}}},Ut=(i("d684"),Object(ut.a)(Et,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"dialog"}},[i("div",{staticClass:"main"},[i("div",{staticClass:"block"},[i("h4",{domProps:{innerHTML:t._s(t.txtVal)}})]),t._v(" "),i("div",{staticClass:"btnWrap"},[i("a",{staticClass:"noBtn",class:{tap1:t.tapState1},on:{touchstart:t.handTouchstart1,touchend:t.handTouchend1,click:t.cancelFn}},[t._v("取消")]),t._v(" "),i("a",{staticClass:"okBtn",class:{tap2:t.tapState2},on:{touchstart:t.handTouchstart2,touchend:t.handTouchend2,click:t.confirmFn}},[t._v("确定")])])])])},[],!1,null,"0592c17b",null).exports),Bt={components:{Button:_t,ImgBtn:At,ConfSubmit:Ut},data:function(){return{userInfo:{},userName:"",userPhone:"",verifyCode:"",restTime:8,content:"发送验证码",isSend:!1,showInfo:!1,reminderMsg:"",reminderState:!0,visib:"visible",picked:!1,logined:!1,btnStlye:{btnCon:{width:"5.14rem",fontSize:".34rem",borderColor:"#dcdcdc",background:"#dcdcdc",color:"#fff"},btnImg:{bgUrl:""},val:"提交",bgUrl:""},btnStlyeActive:{btnCon:{width:"5.14rem",fontSize:".34rem",borderColor:"#434343",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"提交",bgUrl:""},backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem",borderColor:"#434343"},btnImg:{bgUrl:""},showImg:!1,val:"返回首页",bgUrl:""},text:"",ajaxUpAble:!0,show:!1}},created:function(){this.userPhone=this.$ut.lStorageGet("userPhone")},mounted:function(){},methods:{goListBtn:function(){this.$router.push({name:"list"})},registerFn:function(){var t=this,e=this.$ut.lStorageGet("token");this.$ajax.registerUser({userName:this.userName,imageBase64:$("#bridgeImg")[0].src,token:e}).then(function(e){t.$ut.lStoragePut("userInfo",I()({userName:t.userName,headImg:$("#bridgeImg")[0].src}));var i=t.$ut.lStorageGet("page")||"work";200===e.code||"200"===e.code?(_hmt.push(["_trackEvent","filterAc_userInfo","click","用户头像昵称设置成功"]),t.$router.push({name:i})):400===e.code||"400"===e.code?(_hmt.push(["_trackEvent","filterAc_userInfo","click","用户头像昵称设置失败"]),t.$router.push({name:i})):(_hmt.push(["_trackEvent","filterAc_userInfo","click","用户头像昵称设置失败"]),t.$reminderMsg.show({text:e.message}))}).catch(function(t){_hmt.push(["_trackEvent","filterAc_userInfo","click","用户头像昵称设置失败"])})},submitUserInfo:function(){return this.picked?this.userName?void(this.showInfo=!0):this.$reminderMsg.show({text:"请输入昵称"}):this.$reminderMsg.show({text:"请选择照片"})},confirmSubFn:function(t){var e=this;if(this.showInfo=!1,t){try{this.userPhone&&this.userName?($(".submitBtn").attr("disabled"),this.registerFn()):(this.$reminderMsg.show({text:"您还未注册，请先注册"}),setTimeout(function(){e.$router.push({name:"login"})},1500))}catch(t){if(this.$loading(0),(t+"").toLowerCase().includes("urierror"))return this.$reminderMsg.show({text:"用户名格式不支持"});var i=(t+"").substr(7);this.$reminderMsg.show({text:i})}}},ajaxUp:function(){this.$loading(1),this.ajaxUpAble=!1;var t=this;this.$ajax.imageUpload({userName:this.userName,imageBase64:$("#bridgeImg")[0].src}).then(function(e){t.$loading(0),e&&200==e.code?(t.logined=!0,t.ajaxUpAble=!0):e&&e.errMsg&&t.$reminderMsg.show({text:e.errMsg})})},pickImg:function(){var t=this,e=this;try{lt.pickImg(function(i){e.$loading(1),$("#bridgeImg")[0].src=i.src,lt.renderFileChangedImg(i,$("#bridgeImg")[0]).then(function(){e.$loading(0);var i=new Image;i.src=$("#bridgeImg")[0].src,i.onload=function(){e.visib="hidden",e.picked=!0,this.width>=this.height?$("#pickImg").css({height:"100%",width:"auto"}):$("#pickImg").css({width:"100%",height:"auto"})},$("#pickImg")[0].src=$("#bridgeImg")[0].src,t.$ut.lStoragePut("usrImg",$("#pickImg")[0].src)}).catch(function(t){})},e)}catch(t){}}}},Ft=(i("GoLT"),Object(ut.a)(Bt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"user"}},[n("h3",{staticClass:"head"},[t._v("个人信息")]),t._v(" "),n("div",{staticClass:"wrap"},[t.logined?n("div",{staticClass:"portrait"},[n("img",{attrs:{src:i("9PT8")}})]):n("div",{staticClass:"pickPortrait"},[n("img",{staticClass:"pickImg",attrs:{src:i("3aV2"),id:"pickImg",alt:""},on:{click:t.pickImg}}),t._v(" "),n("p",{staticClass:"title",on:{click:t.pickImg}},[t._v("上传头像")])])]),t._v(" "),n("div",{staticClass:"loginInfo"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",maxlength:"8",placeholder:"昵称（不超过8个汉字）"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),n("ImgBtn",{staticClass:"submitBtn",attrs:{btnAttr:t.userName?t.btnStlyeActive:t.btnStlye,eventName:"sHideActRules"},on:{sHideActRules:t.submitUserInfo}}),t._v(" "),n("ImgBtn",{staticStyle:{"margin-top":".15rem"},attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.goListBtn}}),t._v(" "),n("transition",{attrs:{name:"confSubmit"}},[n("ConfSubmit",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}],attrs:{txtVal:"手机号和昵称一旦填写<br/>本次活动期间将不能修改"},on:{confirmHand:t.confirmSubFn}})],1)],1)},[],!1,null,"696fd124",null).exports),Lt=[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"noData"},[e("img",{attrs:{src:i("kDhU"),alt:""}})])}],Ot=i("bOdI"),Mt=i.n(Ot),Rt={components:{loading:nt,Dialog:vt,ImgBtn:At,ActionBtn:Ct,ConfirmDel:Ut},data:function(){var t;return t={cdnPrefix:"",userInfo:{userName:"",headImg:""},datas:[],lDatas:[],rDatas:[],initFlag:!0,isLoading:!1,showDialog:!1,filterObj:{url:i("Oa2a"),name:"YU3"},showConfirm:!1,deleteId:"",bigPicObj:{},bigPicState:!1,actStyle:{},actImageUrl:"",filterAction:"",pageNo:1,pageSize:10},Mt()(t,"isLoading",!0),Mt()(t,"busy",!1),Mt()(t,"filterBtn",{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{width:".49rem",height:".49rem",top:".18rem"},showImg:!0,val:"使用YU3滤镜",imgUrl:i("Oa2a")}),Mt()(t,"backBtn",{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"}),t},created:function(){},mounted:function(){localStorage.removeItem("page"),this.sort()},methods:{goUploadFn:function(){this.$router.push({name:"register"})},deleteMyWork:function(t){this.showConfirm=!this.showConfirm,this.deleteId=t,_hmt.push(["_trackEvent","filterAc_deletePic","click","删除我的作品"])},goListBtn:function(){this.$router.push({name:"list"})},filterHand:function(t){this.showDialog=t||!1,t&&(this.showDialog=!1)},confirmDelete:function(t){var e=this;if(this.showConfirm=t||!1,this.actImageUrl="",t){this.showConfirm=!1;var i=this.$ut.lStorageGet("token");this.$ajax.deleteWork({token:i,id:this.deleteId}).then(function(t){200===t.code||"200"===t.code?(e.bigPicState=!e.bigPicState,e.datas=e.datas.filter(function(t,i){return t.id!=e.deleteId}),0===e.datas.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):($(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"}))):(400===t.code||t.code,e.$reminderMsg.show({text:t.message}))}).catch(function(t){})}},openFilter:function(){_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"]),this.filterAction=this.bigPicObj.filterAction},useFilter:function(t){this.showDialog=!0,""!==t.filterImage&&(this.filterObj={url:this.cdnPrefix+t.filterImage,name:t.filterName}),this.filterAction=t.filterAction},imgload:function(t){t.currentTarget.style.visibility="visible"},toM2c1:function(t,e){var n=this;if(!e)return n.actImageUrl="",this.bigPicState=!this.bigPicState;this.filterBtn.val="使用"+t.filterName+"滤镜",t.filterImage?this.filterBtn.imgUrl=this.cdnPrefix+t.filterImage:this.filterBtn.imgUrl=i("Oa2a"),_hmt.push(["_trackEvent","filterAc_picDes","click","点击图片详情数"]),this.$loading(1),this.actItem=t;var a=new Image;a.src=this.cdnPrefix+this.actItem.picUrl+"?x-oss-process=image/resize,w_720",a.onload=function(){1.5*this.width>=this.height?(n.actStyle={width:"100%"},$(".imgParent").css({width:"100%"})):(n.actStyle={height:"100%"},$(".imgParent").css({height:"100%"})),n.actImageUrl=this.src,n.bigPicObj=t,n.bigPicObj.headImg=n.userInfo.headImg,n.bigPicObj.nickname=n.userInfo.userName,n.$loading(0)},this.bigPicState=!this.bigPicState},sort:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop||0;this.datas=[],this.pageNo=1,this.busy=!1,setTimeout(function(){window.scrollTo(0,e+1)},200),this.$loading(1),this.$ajax.myWorkList({pageNo:this.pageNo,pageSize:this.pageSize,token:this.$ut.lStorageGet("token")}).then(function(e){200===e.code||"200"===e.code?(t.cdnPrefix=e.result.cdnPrefix,t.userInfo={userName:e.result.nickname,headImg:e.result.headImageUrl},t.$ut.lStoragePut("userInfo",I()(t.userInfo)),t.datas=c()(t.datas,e.result.pictureViews),t.$set(t,"datas",e.result.pictureViews),0===e.result.pictureViews.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):e.result.pictureViews.length<10&&e.result.pictureViews.length>0?(t.busy=!0,t.isLoading=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})):(t.busy=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})),t.initFlag=!1):10005===e.code||"1005"===e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})},1500)):t.$reminderMsg.show({text:e.message}),t.$loading(0)})},loadMore:function(){var t=this;if(!this.initFlag){this.busy=!0,this.pageNo++;var e=this,i=setInterval(function(){return clearInterval(i),t.$ajax.myWorkList({pageNo:t.pageNo,pageSize:t.pageSize,token:t.$ut.lStorageGet("token")}).then(function(t){if(200==t.code){var i;e.cdnPrefix=t.result.cdnPrefix;var n=[];return t.result.pictureViews.forEach(function(t,e){n.push(t.id)}),0==n.length?(e.isLoading=!1,setTimeout(function(){e.busy=!0},500)):((i=e.datas).push.apply(i,ft()(t.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)}}},watch:{datas:function(){var t=this;t.lDatas=[],t.rDatas=[];var e=0,i=0,n=$(".items.l").width();this.datas.forEach(function(a,s){new Image;a.imgH=n*a.picHeight/a.picWidth,e<=i?(e+=a.imgH,t.lDatas.push(a)):(i+=a.imgH,t.rDatas.push(a))})}}},jt=(i("tkK8"),Object(ut.a)(Rt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"works"}},[n("header",[n("span",{staticClass:"headImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}),t._v(" "),n("span",{staticClass:"nickname"},[t._v(t._s(t.userInfo.userName))])]),t._v(" "),n("div",{staticClass:"wpr"},[n("div",{ref:"leftWrp",staticClass:"items l"},t._l(t.lDatas,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),2===e.picQuality?n("img",{staticClass:"recommend",attrs:{src:i("tTJh")}}):t._e()]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[t.userInfo.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.userInfo.userName))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),0),t._v(" "),n("div",{ref:"rightWrp",staticClass:"items r"},[t._l(t.rDatas,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),2===e.picQuality?n("img",{staticClass:"recommend",attrs:{src:i("tTJh")}}):t._e()]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.userInfo.userName))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[(e.filterImage,n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}})),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),t._v(" "),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"40"}})],2)]),t._v(" "),n("transition",{attrs:{name:"dialog"}},[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{filterObj:t.filterObj,actionUrl:t.filterAction},on:{parentHandNo:t.filterHand}})],1),t._v(" "),n("transition",[t.bigPicState?n("div",{staticClass:"bigPic mask",on:{touchmove:function(e){return e.preventDefault(),t.touchPrevent(e)}}},[n("div",{staticClass:"bigPicWpr"},[n("div",{staticClass:"imgParent"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"close",attrs:{src:i("dyQ0")},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("img",{staticClass:"big",style:t.actStyle,attrs:{src:t.actImageUrl},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"delete",on:{click:function(e){return t.deleteMyWork(t.actItem.id)}}},[t._v("删除")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"bigPicBot"},[n("p",{staticClass:"content",class:{noTopic:t.bigPicObj.topicName}},[t._v(t._s(t.bigPicObj.picDescription))]),t._v(" "),t.bigPicObj.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(t.bigPicObj.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[t.bigPicObj.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.bigPicObj.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.bigPicObj.nickname))])])])]),t._v(" "),t.bigPicObj.filterAction?n("div",{staticClass:"filterBtnWpr"},[n("ActionBtn",{attrs:{btnAttr:t.filterBtn,eventName:"handleFilter",btnActionUrl:t.filterAction},on:{handleFilter:t.openFilter}})],1):t._e()])]):t._e()]),t._v(" "),t.isLoading?n("div",{staticClass:"loadingBg"},[n("img",{staticClass:"loadImg",attrs:{src:i("ITX+")}}),t._v(" "),n("p",{staticClass:"loadTxt"},[t._v("正在加载更多精彩内容...")])]):n("div",{staticClass:"loadingBg"},[n("p",{staticClass:"loadTxt"},[t._v("没有更多内容了...")])]),t._v(" "),n("transition",{attrs:{name:"confirmDel"}},[n("ConfirmDel",{directives:[{name:"show",rawName:"v-show",value:t.showConfirm,expression:"showConfirm"}],attrs:{txtVal:"是否确定删除"},on:{confirmHand:t.confirmDelete}})],1),t._v(" "),n("div",{staticClass:"goHome"},[n("ImgBtn",{attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.goListBtn}})],1),t._v(" "),n("div",{staticClass:"noDataGroup"},[t._m(0),t._v(" "),n("p",[t._v("您还没有上传过作品")]),t._v(" "),n("p",{staticClass:"last"},[t._v("点击上传分享吧")]),t._v(" "),n("button",{on:{click:t.goUploadFn}},[t._v("上传")])])],1)},Lt,!1,null,null,null).exports),$t={components:{ImgBtn:At},data:function(){return{cdnPrefix:"",userInfo:{userName:"",headImg:""},backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"},pageNo:1,pageSize:10}},mounted:function(){localStorage.removeItem("page"),this.sort()},methods:{goUploadFn:function(){this.$router.push({name:"register"})},goListBtn:function(){this.$router.push({name:"list"})},sort:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop||0;this.datas=[],this.pageNo=1,this.busy=!1,setTimeout(function(){window.scrollTo(0,e+1)},200),this.$loading(1),this.$ajax.myWorkList({pageNo:this.pageNo,pageSize:this.pageSize,token:this.$ut.lStorageGet("token")}).then(function(e){200===e.code||"200"===e.code?(t.cdnPrefix=e.result.cdnPrefix,t.userInfo={userName:e.result.nickname,headImg:e.result.headImageUrl},t.$ut.lStoragePut("userInfo",I()(t.userInfo)),t.datas=c()(t.datas,e.result.pictureViews),t.$set(t,"datas",e.result.pictureViews),0===e.result.pictureViews.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):e.result.pictureViews.length<10&&e.result.pictureViews.length>0?(t.busy=!0,t.isLoading=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})):(t.busy=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})),t.initFlag=!1):10005===e.code||"1005"===e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})},1500)):t.$reminderMsg.show({text:e.message}),t.$loading(0)})}}},Gt=(i("8ehl"),Object(ut.a)($t,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"my"}},[i("header",[i("div",{staticClass:"head"},[i("div",{staticClass:"headGroup"},[i("span",{staticClass:"headImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}),t._v(" "),i("span",{staticClass:"nickname"},[t._v(t._s(t.userInfo.userName))])]),t._v(" "),t._m(0)]),t._v(" "),i("ul",{staticClass:"tab"},[i("router-link",{staticClass:"active",staticStyle:{float:"left"},attrs:{tag:"li",to:"/my/dynamic"}},[t._v("动态")]),t._v(" "),i("router-link",{staticStyle:{float:"left"},attrs:{tag:"li",to:"/my/gallery"}},[t._v("相册")]),t._v(" "),i("router-link",{staticStyle:{float:"left"},attrs:{tag:"li",to:"/my/myTopic"}},[t._v("话题")])],1)]),t._v(" "),i("div",[i("router-view")],1),t._v(" "),i("div",{staticClass:"goHome"},[i("ImgBtn",{attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.goListBtn}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"getThumb"},[e("span",{staticClass:"thumbNum"},[this._v("122")]),this._v(" "),e("span",{staticClass:"txt"},[this._v("获赞")])])}],!1,null,"322c6223",null).exports),Ht=i("BO1k"),Qt=i.n(Ht),Vt=i("c/Tr"),Wt=i.n(Vt),Jt=i("u4Bf"),zt=i.n(Jt),Yt=i("7QTg"),Xt=i.n(Yt),Kt=i("mtWM"),qt=i.n(Kt),Zt={props:["cdnPrefix","albumList"],data:function(){return{showAlbum:!1,album3List:[],backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"},currAllAlbum:0,albumObj:{}}},components:{ImgBtn:At},mounted:function(){this.album3List=this.albumList.slice(0,3)},methods:{confirmAlbumFn:function(){this.$emit("selectAlbumFn",this.albumObj),this.$emit("closeAllAlbFn")},closeAllAlbFn:function(){this.$emit("closeAllAlbFn")},selectAlbFn:function(t,e){this.currAllAlbum=e,this.albumObj.albumId=t.id,this.albumObj.albumName=t.name}}},te=(i("iWqf"),Object(ut.a)(Zt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[n("div",[n("h4",[t._v("\n      全部相册\n      "),n("span",{staticClass:"closeAlb",on:{click:t.closeAllAlbFn}},[n("img",{attrs:{src:i("sX15"),alt:""}})])]),t._v(" "),n("div",{staticClass:"gallery"},[n("ul",t._l(t.albumList,function(e,i){return n("li",{key:i,class:{selActive:t.currAllAlbum===i},style:{backgroundImage:"url("+(t.cdnPrefix+e.coverUrl)+")"},on:{click:function(n){return t.selectAlbFn(e,i)}}},[n("p",[t._v(t._s(e.name))])])}),0),t._v(" "),n("button",{staticClass:"confirmBtn",on:{click:t.confirmAlbumFn}},[t._v("确定")])])])])},[],!1,null,"d2b5e188",null).exports),ee={props:["isEdit","alb"],components:{ConfirmDel:Ut},data:function(){return{showConfirm:!1,albumName:"",albumDesc:"",albumId:this.$route.query.id}},mounted:function(){this.isEdit&&(this.albumName=this.alb.name,this.albumDesc=this.alb.description)},methods:{closeAlbFn:function(){this.$emit("closeAlbFn")},createAlbFn:function(){var t=this;this.$ajax.createAlbum({name:this.albumName,description:this.albumDesc,token:this.$ut.lStorageGet("token")}).then(function(e){200!==e.code&&"200"!==e.code||(t.$emit("closeAlbFn"),t.$router.go(0))}).catch(function(t){})},editAlbFn:function(){var t=this;this.$ajax.editAlbum({albumId:this.albumId,name:this.albumName,description:this.albumDesc,token:this.$ut.lStorageGet("token")}).then(function(e){200!==e.code&&"200"!==e.code||t.$emit("closeAlbFn")}).catch(function(t){})},deleteAlbFn:function(){this.showConfirm=!this.showConfirm},confirmDelete:function(){this.$ajax.deleteAlbum({albumId:this.albumId,token:this.$ut.lStorageGet("token")}).then(function(t){200===t.code||t.code})}}},ie=(i("t4Cc"),Object(ut.a)(ee,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"createAlbum"}},[n("div",{staticClass:"createAlb"},[t.isEdit?n("button",{staticClass:"delAlb",on:{click:t.deleteAlbFn}},[t._v("删除相册")]):t._e(),t._v(" "),n("span",{staticClass:"closeAlb",on:{click:t.closeAlbFn}},[n("img",{attrs:{src:i("sX15"),alt:""}})]),t._v(" "),n("div",{staticClass:"albumCover"}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.albumName,expression:"albumName"}],staticClass:"albName",attrs:{type:"text",placeholder:"相册名（如美食、生活、旅行等）"},domProps:{value:t.albumName},on:{input:function(e){e.target.composing||(t.albumName=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.albumDesc,expression:"albumDesc"}],staticClass:"albDesc",attrs:{placeholder:"大概是一本关于什么的相册呢"},domProps:{value:t.albumDesc},on:{input:function(e){e.target.composing||(t.albumDesc=e.target.value)}}}),t._v(" "),t.isEdit?n("button",{staticClass:"create",class:{createActive:t.albumName},attrs:{disabled:!t.albumName},on:{click:t.editAlbFn}},[t._v("完成")]):n("button",{staticClass:"create",class:{createActive:t.albumName},attrs:{disabled:!t.albumName},on:{click:t.createAlbFn}},[t._v("制成")])])]),t._v(" "),n("transition",{attrs:{name:"confirmDel"}},[n("ConfirmDel",{directives:[{name:"show",rawName:"v-show",value:t.showConfirm,expression:"showConfirm"}],attrs:{txtVal:"是否确定删除"},on:{confirmHand:t.confirmDelete}})],1)],1)},[],!1,null,"9674750c",null).exports),ne={props:["topicList"],data:function(){return{topicObj:{}}},methods:{childSelect:function(t){this.topicObj.topicName=t.topicName,this.topicObj.topicId=t.topicId,this.$emit("selectTopicFn",this.topicObj),this.$emit("closeTopicFn")},childClose:function(){this.$emit("closeTopicFn")}}},ae=(i("Z6Dd"),Object(ut.a)(ne,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[n("section",{staticClass:"topicGroup"},[n("div",{staticClass:"main"},[n("h3",[t._v("关联话题"),n("img",{staticClass:"closeTopic",attrs:{src:i("D/xv")},on:{click:t.childClose}})]),t._v(" "),n("ul",t._l(t.topicList,function(e,i){return n("li",{key:i,on:{click:function(i){return t.childSelect(e)}}},[t._v(t._s(e.topicName))])}),0)])])])},[],!1,null,"83857356",null).exports);ct=q()(X.a.mark(function t(e,i){var n,a,s,r,o;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(i);case 2:return n=t.sent,a=750,s=n.width>a?a:n.width,r=n.width>a?a/n.width:1,o=n.height*r,t.next=9,window.imageConversion.compress(e,{quality:.8,type:e.type,width:s,height:o});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));function se(t){var e=new FileReader;return e.readAsDataURL(t),new z.a(function(i,n){e.onload=function(t){i(t.target.result)},e.onerror=function(e){n(new Error("Could not load image at "+t.name),e)}})}function re(t){var e=new Image;return e.setAttribute("crossOrigin","anonymous"),e.src=t,new z.a(function(t,i){e.onload=function(){t(e)},e.onerror=function(t){i(new Error("Could not load image at "+url),t)}})}function oe(t){return window.URL?window.URL.createObjectURL(t):window.webkitURL?window.webkitURL.createObjectURL(t):null}function ce(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),i=e.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=e.charCodeAt(a);return n.buffer}function le(t,e){var i=oe(e);return new z.a(function(e,n){var a=document.createElement("canvas");re(i).then(function(i){var n=i.naturalWidth>750?750:i.naturalWidth,s=i.naturalWidth>750?750/i.naturalWidth:1,r=i.naturalHeight*s,o=90*Math.PI/180,c=a.getContext("2d");if(t)switch(t){case 1:a.width=n,a.height=r,c.drawImage(i,0,0,n,r);break;case 6:a.width=r,a.height=n,c.rotate(o),c.drawImage(i,0,-r,n,r);break;case 8:a.width=r,a.height=n,c.rotate(3*o),c.drawImage(i,-r,0,r,n);break;case 3:a.width=n,a.height=r,c.rotate(2*o),c.drawImage(i,-n,-r,n,r);break;default:a.width=n,a.height=r,c.drawImage(i,0,0,n,r)}else a.width=n,a.height=r,c.drawImage(i,0,0,n,r);a.toBlob(function(t){e(t)},"image/jpeg")})})}var ue={name:"addPic",components:{draggable:zt.a,swiper:Yt.swiper,swiperItem:Yt.swiperSlide,ImgBtn:At,AllAlbum:te,Album:ie,TopicList:ae},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination",type:"fraction"}},showAlt:!1,showModel:!1,delNum:"",maxNum:9,cW:"375px",cH:"500px",tempFilePaths:[],dragOptions:{animation:200,group:"description",disabled:!1,ghostClass:"ghost"},drag:!1,isUploading:!1,files:[],progress:1,uploaded:0,cdnPrefix:"",topicList:[],topic3List:[],showTopic:!1,currTopic:-1,topicAct:!1,showDialog:!1,showAlbum:!1,isEdit:!1,currAlbum:-1,albumAct:!1,showAllAlbum:!1,allAlbumPageNum:1,album6List:[],albumList:[],albumId:"",position:" ",topicId:0,content:" ",ajaxUpAble:!1,showAllAlbFlag:!0,backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem",borderColor:"#434343"},btnImg:{bgUrl:""},val:"返回首页",bgUrl:""},btnStlyeActive:{btnCon:{width:"5.14rem",background:"#434343",color:"#fff",fontSize:".34rem"},btnImg:{bgUrl:""},val:"完成"},btnStlye:{btnCon:{width:"5.14rem",color:"#fff",background:"#dcdcdc",fontSize:".34rem"},btnImg:{bgUrl:""},val:"完成"}}},beforeCreate:function(){var t=this;this.$ajax.topicList().then(function(e){if(200===e.code){if(t.topicList=e.result,t.topic3List=t.topicList.slice(0,3),t.topicAct=!0,t.$route.query.topicId){var i=t.$route.query,n=i.topicId,a=i.topicName;t.topic3List.filter(function(e,i){if(n===e.topicId)return t.currTopic=i,e}).length||(t.topic3List.unshift({topicId:n,topicName:a}),t.topic3List=t.topic3List.slice(0,3),t.currTopic=0)}}else 400===e.code&&t.$reminderMsg.show({text:e.message})}).catch(function(t){})},mounted:function(){this.initAlbumFn(),this.getPositionFn()},methods:{getPositionFn:function(){var t=this;document.querySelector(".myPosi").innerText="get loading...",AMap.plugin("AMap.Geolocation",function(){new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB",buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0}).getCurrentPosition(function(e,i){"complete"==e?document.querySelector(".addInfo").innerText=i.formattedAddress:t.onError(i)})})},onError:function(t){var e="定位失败："+t.message;alert(e)},initAlbumFn:function(){var t=this;this.$ajax.allAlbum({pageNum:this.allAlbumPageNum,token:this.$ut.lStorageGet("token")}).then(function(e){200!==e.code&&"200"!==e.code||(t.cdnPrefix=e.result.cdnPrefix,t.albumList=e.result.albumViews,t.albumList.length>6?t.album6List=t.albumList.slice(0,6):t.album6List=t.albumList)}).catch(function(t){})},selectedTopicFn:function(t,e){this.currTopic===t?(this.currTopic=-1,this.topicAct=!1):(this.currTopic=t,this.topicAct=!0,this.topicId=e)},selectTopicFn:function(t){var e=this;this.topicAct=!0;this.topic3List.filter(function(i,n){if(i.topicId===t.topicId)return e.currTopic=n,i}).length||(this.topic3List.unshift({topicId:t.topicId,topicName:t.topicName}),this.topic3List=this.topic3List.slice(0,3),this.currTopic=0)},relateTopicFn:function(){this.showDialog=!0,this.showTopic=!0},closeTopicFn:function(){this.showDialog=!1,this.showTopic=!1},myPosiFn:function(){this.$router.push({name:"position"})},putAlbumFn:function(){this.showDialog=!0,this.showAlbum=!0},closeAlbFn:function(){this.showDialog=!1,this.showAlbum=!1},allAlbFn:function(){this.showDialog=!0,this.showAllAlbum=!0},closeAllAlbFn:function(){this.showDialog=!1,this.showAllAlbum=!1},selectedAlbumFn:function(t,e){this.albumId=e,this.currAlbum===t?(this.currAlbum=-1,this.albumAct=!1):(this.currAlbum=t,this.albumAct=!0,this.albumId=e)},selectAlbumFn:function(t){var e=this;if(this.albumList.length>6){this.albumAct=!0;this.album6List.filter(function(i,n){if(i.albumId===t.albumId)return e.currAlbum=n,i}).length||(this.album6List.unshift({albumId:t.albumId,albumName:t.albumName}),this.album6List=this.album6List.slice(0,6),this.currAlbum=0)}},choose:function(){document.body.scrollTop=document.documentElement.scrollTop=0,this.fileUpload.click()},onFileChange:function(t){var e,i=this,n=this.fileUpload.files;if((e=this.files).push.apply(e,ft()(n)),n.length){var a=Wt()(n),s=this.tempFilePaths.length,r=function(t,e){if(t.length>e)return t.slice(0,e);return t}(a,this.maxNum-s);this.isUploading=!0,this.uploadImg(r).then(function(){i.isUploading=!1}).catch(function(t){i.isUploading=!1})}},submitUser:function(){},goListBtn:function(){this.$router.push({name:"list"})},previewImage:function(t){this.imgSwiper.slideTo(t),this.showModel=!0},hideDialog:function(){var t=this;setTimeout(function(){t.showAlt=!1},100)},deletePic:function(t){var e=this;setTimeout(function(){e.showAlt=!0,e.delNum=t},100)},handleDel:function(){var t=this;setTimeout(function(){var e=t.delNum;t.tempFilePaths.splice(e,1),t.files.splice(e,1),t.showAlt=!1},100)},dragStart:function(t){this.drag=!0},onEnd:function(){this.drag=!1},fnBlur:function(){},fnfocus:function(t){},submit:function(){var t=this;this.$loading(1);var e=this.$ut.lStorageGet("token"),i=new FormData,n=!0,a=!1,s=void 0;try{for(var r,o=Qt()(this.files);!(n=(r=o.next()).done);n=!0){var c=r.value;i.append("file",c)}}catch(t){a=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(a)throw s}}this.$ajax.imageUpload({topicId:this.topicId,albumId:this.albumId,desc:encodeURI(this.content),position:encodeURI(this.position),token:e,formData:i}).then(function(e){t.$loading(0),e&&200==e.code?(t.logined=!0,t.ajaxUpAble=!0,t.$router.push({name:"work"})):e&&10005==e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})}),_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"])):(e&&e.code,t.$reminderMsg.show({text:e.message||"上传失败，请重新上传"}),_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"]))}).catch(function(e){_hmt.push(["_trackEvent","filterAc_failUpload","click","上传作品失败"]),t.$loading(0),t.ajaxUpAble=!0,"timeout"==e&&t.$reminderMsg.show({text:"上传超时，请检查网络"})}),this.$loading(0)},uploadImg:function(t){var e=this;return q()(X.a.mark(function i(){var n,a,s,r,o,c,l,u,h,m,d,g;return X.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.$loading(1),n=!0,a=!1,s=void 0,i.prev=4,r=Qt()(t);case 6:if(n=(o=r.next()).done){i.next=23;break}return c=o.value,i.next=10,se(c);case 10:return l=i.sent,u=ce(l),h=EXIF.readFromBinaryFile(u),m=h.Orientation,i.next=15,le(m,c);case 15:d=i.sent,l=oe(d),g={src:l},e.tempFilePaths.push(g);case 20:n=!0,i.next=6;break;case 23:i.next=29;break;case 25:i.prev=25,i.t0=i.catch(4),a=!0,s=i.t0;case 29:i.prev=29,i.prev=30,!n&&r.return&&r.return();case 32:if(i.prev=32,!a){i.next=35;break}throw s;case 35:return i.finish(32);case 36:return i.finish(29);case 37:e.$loading(0);case 38:case"end":return i.stop()}},i,e,[[4,25,29,37],[30,,32,36]])}))()}},computed:{fileUpload:function(){return this.$refs.fileUpload},imgSwiper:function(){return this.$refs.imgSwiper.swiper},list:{get:function(){return this.tempFilePaths}}},watch:{isUploading:function(t,e){t&&this.$loading("图片上传中")}}},he=(i("XK7a"),Object(ut.a)(ue,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"addPic"}},[n("div",{staticClass:"release_box",class:{missing:0!=t.uploaded}},[t.tempFilePaths.length<t.maxNum?n("div",{staticClass:"nullPic clearfix",on:{click:t.choose}},[n("img",{attrs:{src:i("JaCE")}}),t._v(" "),n("div",{staticClass:"imgNum"},[t._v(t._s(t.tempFilePaths.length+"/"+t.maxNum))]),t._v(" "),n("input",{ref:"fileUpload",staticClass:"file-upload",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.onFileChange}})]):t._e(),t._v(" "),n("draggable",t._b({staticClass:"list-group",attrs:{tag:"div"},on:{start:t.dragStart,end:t.onEnd},model:{value:t.tempFilePaths,callback:function(e){t.tempFilePaths=e},expression:"tempFilePaths"}},"draggable",t.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:t.drag?null:"flip-list"}},t._l(t.tempFilePaths,function(e,a){return n("div",{key:a,staticClass:"elem"},[n("div",{staticClass:"pic_box item"},[n("img",{staticClass:"gays_pic_C",attrs:{src:e.src,mode:"widthFix"},on:{click:function(e){return t.previewImage(a)}}}),t._v(" "),n("img",{staticClass:"del_pic",attrs:{src:i("rD4D")},on:{touchstart:function(e){return e.stopPropagation(),t.deletePic(a)}}})])])}),0)],1),t._v(" "),n("canvas",{staticClass:"canvas",style:{width:t.cW,height:t.cH},attrs:{width:"100%","canvas-id":"myCanvas_A"}})],1),t._v(" "),n("section",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.content,expression:"content",modifiers:{trim:!0}}],staticClass:"desc",attrs:{placeholder:"说点什么（不超过20个汉字）",maxlength:"20"},domProps:{value:t.content},on:{blur:[t.fnBlur,function(e){return t.$forceUpdate()}],focus:t.fnfocus,input:function(e){e.target.composing||(t.content=e.target.value.trim())}}}),t._v(" "),n("div",{staticClass:"relatedTopic"},[n("p",{staticClass:"topic",class:{topicActive:t.topicAct}},[t._v("关联话题")]),t._v(" "),n("ul",{staticClass:"topicItem"},t._l(t.topic3List,function(e,i){return n("li",{key:e.topicId,class:{sel:t.currTopic===i},on:{click:function(n){return t.selectedTopicFn(i,e.topicId)}}},[t._v(t._s(e.topicName))])}),0),t._v(" "),n("span",{staticClass:"moreTopic",on:{click:t.relateTopicFn}},[n("img",{attrs:{src:i("Ng7G"),alt:""}})])]),t._v(" "),n("div",{staticClass:"myPosi posiActive",on:{click:t.myPosiFn}},[t._v("\n      我的位置\n      "),n("img",{attrs:{src:i("Ng7G"),alt:""}})]),t._v(" "),n("div",{staticClass:"putInAlbum"},[n("p",{staticClass:"put"},[t._v("放入相册")]),t._v(" "),n("div",{staticClass:"album_box"},[n("div",{staticClass:"addAlbum",on:{click:t.putAlbumFn}}),t._v(" "),t._l(t.album6List,function(e,i){return e.coverId&&0!=e.coverId?n("div",{key:i,staticClass:"albumEle",class:{selActive:t.currAlbum===i},style:{backgroundImage:"url("+(t.cdnPrefix+e.coverUrl)+")"},on:{click:function(n){return t.selectedAlbumFn(i,e.id)}}},[n("p",[t._v(t._s(e.name))])]):t._e()}),t._v(" "),t._l(t.album6List,function(e,i){return 0==e.coverId?n("div",{key:i,staticClass:"albumEle",class:{selActive:t.currAlbum===i},on:{click:function(n){return t.selectedAlbumFn(i,e.id)}}},[n("p",[t._v(t._s(e.name))])]):t._e()}),t._v(" "),t.showAllAlbFlag?n("div",{staticClass:"allAlb",on:{click:t.allAlbFn}},[n("p",{staticClass:"all"},[t._v("全部相册")])]):t._e()],2)])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showAlt,expression:"showAlt"}],staticClass:"alertBox"},[n("div",{staticClass:"content"},[n("div",{staticClass:"alertTxt"},[t._v("确定删除该图片?")]),t._v(" "),n("div",{staticClass:"alertBot"},[n("button",{staticClass:"alertBtn cancel",on:{touchstart:function(e){return e.stopPropagation(),t.hideDialog(e)}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"alertBtn handle",on:{touchstart:function(e){return e.stopPropagation(),t.handleDel(e)}}},[t._v("确定")])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showModel,expression:"showModel"}],staticClass:"preview-img"},[n("swiper",{ref:"imgSwiper",staticClass:"swi-img",attrs:{options:t.swiperOption}},t._l(t.tempFilePaths,function(e,i){return n("swiper-item",{key:i},[n("img",{staticClass:"slide-image",attrs:{src:e.src,mode:"widthFix"},on:{click:function(e){t.showModel=!1}}})])}),1),t._v(" "),n("div",{staticClass:"swiper-pagination"})],1),t._v(" "),n("ImgBtn",{attrs:{btnAttr:t.btnStlyeActive,eventName:"submit"},on:{submit:t.submit}}),t._v(" "),n("ImgBtn",{staticStyle:{"margin-top":".15rem"},attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.goListBtn}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"albumMask"},[t.albumList?n("AllAlbum",{directives:[{name:"show",rawName:"v-show",value:t.showAllAlbum,expression:"showAllAlbum"}],attrs:{cdnPrefix:t.cdnPrefix,albumList:t.albumList},on:{selectAlbumFn:t.selectAlbumFn,closeAllAlbFn:t.closeAllAlbFn}}):t._e(),t._v(" "),n("Album",{directives:[{name:"show",rawName:"v-show",value:t.showAlbum,expression:"showAlbum"}],attrs:{isEdit:t.isEdit},on:{closeAlbFn:t.closeAlbFn}}),t._v(" "),n("TopicList",{directives:[{name:"show",rawName:"v-show",value:t.showTopic,expression:"showTopic"}],attrs:{topicList:t.topicList},on:{selectTopicFn:t.selectTopicFn,closeTopicFn:t.closeTopicFn}})],1)],1)},[],!1,null,"8065d4a0",null).exports),me={props:{propUserInfo:Object},components:{Dialog:vt,ImgBtn:At,ActionBtn:Ct},data:function(){return{cdnPrefix:"",hasLogin:!1,actRulesState:!1,bigPicState:!1,userInfo:{},bigPicObj:{},datas:[],lDatas:[],rDatas:[],actItem:{ilike:!1},filterObj:{url:i("Oa2a"),name:"YU3"},picBtn:{btnCon:{borderColor:"#434343",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"上传作品"},myPicBtn1:{btnCon:{},btnImg:{bgUrl:""},val:"我的作品"},myPicBtn2:{btnCon:{width:"3.44rem",fontSize:".3rem"},btnImg:{display:"block",bgUrl:""},val:""},knowBtn:{btnCon:{width:"3.4rem",fontSize:".34rem",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:" 知道了"},filterBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},showImg:!0,val:"使用YU3滤镜",imgUrl:i("Oa2a")},sortType:0,pageNo:1,busy:!0,actStyle:{},actImageUrl:"",topicList:[{topicId:0,topicName:"推荐"}],topicId:-1,topicName:"",curr:0,isLoading:!0,showDialog:!1,filterAction:"",topics:[],topicListL:[],topicListR:[]}},beforeCreate:function(){var t=this;this.$ajax.topicList().then(function(e){if(200===e.code){var i;(i=t.topics).push.apply(i,[{topicId:0,topicName:"推荐"},{topicId:1,topicName:"晴天白云"},{topicId:2,topicName:"好看的人喜欢自拍"},{topicId:3,topicName:"一绝食堂"},{topicId:4,topicName:"吃草的日子"},{topicId:5,topicName:"人物"},{topicId:6,topicName:"爱茉莉"},{topicId:7,topicName:"风景"},{topicId:8,topicName:"美食"},{topicId:9,topicName:"奶茶"}]);var n=t;n.topicListL=[],n.topicListR=[];var a=0,s=0;t.topics.forEach(function(t,e){a<=s?(a+=t.topicName.length,n.topicListL.push(t)):(s+=t.topicName.length,n.topicListR.push(t))})}else 400===e.code&&t.$reminderMsg.show({text:e.message})}).catch(function(t){})},mounted:function(){this.userInfo=JSON.parse(this.$ut.lStorageGet("userInfo")),this.getInitHome(0,0,"推荐")},methods:{clearFn:function(){localStorage.clear()},getInitHome:function(t,e,i){var n=this;if(this.topicName=i,setTimeout(function(){window.scrollTo(0,2)},20),this.topicId!==t){this.datas=[],this.busy=!0,this.curr=e,this.topicId=t;var a=this.$ut.lStorageGet("htoken")||0;this.$loading(1),_hmt.push(["_trackEvent","filterAc_topicType","click","点击分类数"]),_hmt.push(["_trackEvent","filterAc_topicType"+t,"click","点击["+i+"]数"]);var s={hToken:a,topicId:t};this.$ajax.home(s).then(function(t){(n.$ut.lStoragePut("htoken",t.result.htoken),n.cdnPrefix=t.result.cdnPrefix,n.datas=t.result.pictureViews,n.busy=!1,0===n.datas.length?n.isLoading=!1:n.isLoading=!0,n.userInfo)?(n.hasLogin=!0,n.myPicBtn2.val=n.userInfo.userName,-1!=JSON.parse(I()(n.userInfo.headImg)).substring(0,40).indexOf("base64")?n.myPicBtn2.btnImg.bgUrl=n.userInfo.headImg||"":""!=n.userInfo.headImg&&(n.myPicBtn2.btnImg.bgUrl=n.cdnPrefix+n.userInfo.headImg)):n.hasLogin=!1;setTimeout(function(){n.$loading(0)},50)})}},loadMore:function(){var t=this;this.busy=!0;var e=this,i={hToken:this.$ut.lStorageGet("htoken")||0,topicId:this.topicId},n=setInterval(function(){return clearInterval(n),t.$ajax.home(i).then(function(i){if(200==i.code){var n;_hmt.push(["_trackEvent","filterAc_listNext","click","首页翻页数"]),0===t.topicId&&(t.topicName="推荐"),_hmt.push(["_trackEvent","filterAc_listNext"+t.topicId,"click","["+t.topicName+"]翻页数"]),e.cdnPrefix=i.result.cdnPrefix,e.$ut.lStoragePut("htoken",i.result.htoken),e.isHasLogin(e.cdnPrefix);var a=[];return i.result.pictureViews.forEach(function(t,e){a.push(t.id)}),0==a.length?setTimeout(function(){e.busy=!0},500):(e.busy=!1,(n=e.datas).push.apply(n,ft()(i.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)},picsFn:function(t){_hmt.push(["_trackEvent","filterAc_myPic","click","点击我的作品"]),this.$ut.lStoragePut("page",t);var e=this.$ut.lStorageGet("token");this.hasLogin?this.$router.push({name:"work"}):e?this.getUserCome(e,t):(this.$ut.lStoragePut("page","work"),this.$router.push({name:"login"}))},getUserCome:function(t,e){var i=this;this.$ajax.userCome(t).then(function(t){if(200===t.code||"200"===t.code)if(i.$ut.lStoragePut("userCome",t.result.come),!0===t.result.come||"true"===t.result.come){var n=i.$ut.lStorageGet("page")||e;i.$router.push({name:n})}else i.$router.push({name:"user"});else i.$reminderMsg.show({text:t.errMsg}),setTimeout(function(){i.$router.push({name:"login"})},1500)}).catch(function(t){})},uploadPicFn:function(t){this.$ut.lStoragePut("page",t);var e=this.$ut.lStorageGet("token");this.hasLogin?this.$router.push({name:"register"}):e?this.getUserCome(e,t):(this.$ut.lStoragePut("page","register"),this.$router.push({name:"login"}))},filterHand:function(t){this.showDialog=t||!1,t&&(this.showDialog=!1)},useFilter:function(t){this.showDialog=!0,""!==t.filterImage&&(this.filterObj={url:this.cdnPrefix+t.filterImage,name:t.filterName}),this.filterAction=t.filterAction},openFilter:function(){_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"]),this.filterAction=this.bigPicObj.filterAction},goMyWork:function(t){t==JSON.parse(this.$ut.lStorageGet("userInfo")).headImg&&this.$router.push({name:"work"})},touchPrevent:function(t){},isHasLogin:function(t){this.$ut.lStorageGet("token"),this.$ut.lStorageGet("userCome"),this.$ut.lStorageGet("userPhone");this.userInfo?(this.hasLogin=!0,this.myPicBtn2.val=this.userInfo.userName,-1!=JSON.parse(I()(this.userInfo.headImg)).substring(0,40).indexOf("base64")?this.myPicBtn2.btnImg.bgUrl=this.userInfo.headImg:this.myPicBtn2.btnImg.bgUrl=t+this.userInfo.headImg):this.hasLogin=!1},checkFoodieMark:function(t){return new z.a(function(e,i){EXIF.getData(t,function(i){var n=EXIF.getAllTags(t);e(n)})})},toM2c1:function(t,e){var n=this;if(!e)return n.actImageUrl="",this.bigPicState=!this.bigPicState;this.$loading(1),this.filterBtn.val="使用"+(""==t.filterName?"同款":t.filterName)+"滤镜",t.filterImage?this.filterBtn.imgUrl=this.cdnPrefix+t.filterImage:this.filterBtn.imgUrl=i("Oa2a"),_hmt.push(["_trackEvent","filterAc_picDes","click","点击图片详情数"]),this.actItem=t;var a=new Image;a.src=this.cdnPrefix+this.actItem.picUrl+"?x-oss-process=image/resize,w_720",a.onload=function(){1.5*this.width>=this.height?(n.actStyle={width:"100%"},$(".imgParent").css({width:"100%"})):(n.actStyle={height:"100%"},$(".imgParent").css({height:"100%"})),n.actImageUrl=this.src,n.bigPicObj=t,n.$loading(0)},this.bigPicState=!this.bigPicState},showActRules:function(t){this.actRulesState=!!t,_hmt.push(["_trackEvent","filterAc_actRules","click","点击活动规则"]),t&&setTimeout(function(){$("#actRules").css({opacity:t})},80)},imgload:function(t){t.currentTarget.style.visibility="visible"},toUpload:function(){this.$router.push({name:"register"})},imgSize:function(t){1.5*t.currentTarget.width>=t.currentTarget.height?t.currentTarget.style.width="100%":t.currentTarget.style.height="100%"},bodySty:function(){$("body").addClass("bodySty")}},watch:{showDialog:{handler:function(t,e){},immediate:!0},datas:function(){var t=this;t.lDatas=[],t.rDatas=[];var e=0,i=0,n=$(".items.l").width();this.datas.forEach(function(a,s){new Image;a.imgH=n*a.picHeight/a.picWidth,e<=i?(e+=a.imgH,t.lDatas.push(a)):(i+=a.imgH,t.rDatas.push(a))})}}},de=(i("sOei"),Object(ut.a)(me,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"p5"}},[n("header",{staticClass:"head"},[n("div",{staticClass:"tip",on:{click:function(e){return t.showActRules(1)}}},[n("img",{staticClass:"activeRule",attrs:{src:i("YYkU")}}),t._v(" "),n("span",{staticClass:"activeTxt"},[t._v("社区规则")])]),t._v(" "),n("img",{staticClass:"theme",attrs:{src:i("+tZ4")},on:{click:t.clearFn}}),t._v(" "),n("div",{staticClass:"sort"},t._l(t.topicList,function(e,i){return n("button",{key:i,class:{active:i==t.curr},attrs:{type:"button"},on:{click:function(n){return t.getInitHome(e.topicId,i,e.topicName)}}},[n("var",{class:{active:i==t.curr}},[t._v(t._s(e.topicName))])])}),0)]),t._v(" "),n("transition",[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{filterObj:t.filterObj,actionUrl:t.filterAction},on:{parentHandNo:t.filterHand}})],1),t._v(" "),n("div",{staticClass:"wpr"},[n("div",{ref:"leftWrp",staticClass:"items l"},t._l(t.lDatas,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}})]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[e.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(e.nickname))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),0),t._v(" "),n("div",{ref:"rightWrp",staticClass:"items r"},[t._l(t.rDatas,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}})]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[e.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(e.nickname))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),t._v(" "),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"-10"}})],2)]),t._v(" "),n("div",{staticClass:"btnGroup"},[n("ImgBtn",{attrs:{eventName:"handPicFn",btnAttr:t.picBtn},on:{handPicFn:function(e){return t.uploadPicFn("register")}}}),t._v(" "),t.hasLogin?n("ImgBtn",{attrs:{eventName:"myPicFn",btnAttr:t.myPicBtn2},on:{myPicFn:function(e){return t.picsFn("work")}}}):n("ImgBtn",{attrs:{eventName:"myPicFn",btnAttr:t.myPicBtn1},on:{myPicFn:function(e){return t.picsFn("work")}}})],1),t._v(" "),t.actRulesState?n("div",{staticClass:"mask",attrs:{id:"actRules"}},[n("div",{staticClass:"actRwpr"},[n("h4",[t._v("社区规则")]),t._v(" "),t._m(0),t._v(" "),n("ImgBtn",{staticStyle:{"margin-top":".45rem"},attrs:{btnAttr:t.knowBtn,eventName:"sHideActRules"},on:{sHideActRules:function(e){return t.showActRules(0)}}})],1)]):t._e(),t._v(" "),t.bigPicState?n("div",{staticClass:"bigPic mask",on:{touchmove:function(e){return e.preventDefault(),t.touchPrevent(e)}}},[n("div",{staticClass:"bigPicWpr"},[n("div",{staticClass:"imgParent"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"close",attrs:{src:i("dyQ0")},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("img",{staticClass:"big",style:t.actStyle,attrs:{src:t.actImageUrl},on:{click:function(e){return t.toM2c1(t.actItem,0)}}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"bigPicBot"},[n("p",{staticClass:"content"},[t._v(t._s(t.bigPicObj.picDescription))]),t._v(" "),t.bigPicObj.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(t.bigPicObj.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:function(e){return t.goMyWork(t.bigPicObj.headImg)}}},[t.bigPicObj.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.bigPicObj.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.bigPicObj.nickname))])])])]),t._v(" "),t.bigPicObj.filterAction?n("div",{staticClass:"filterBtnWpr"},[n("ActionBtn",{attrs:{btnAttr:t.filterBtn,eventName:"handFilter",btnActionUrl:t.filterAction},on:{handFilter:t.openFilter}})],1):t._e()])]):t._e(),t._v(" "),t.isLoading?n("div",{staticClass:"loading"},[n("img",{staticClass:"loadImg",attrs:{src:i("ITX+")}}),t._v(" "),n("p",{staticClass:"loadTxt"},[t._v("正在加载更多精彩内容...")])]):n("div",{staticClass:"loading"},[n("p",{staticClass:"loadTxt"},[t._v("没有更多内容了...")])])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"con"},[this._v("Foodie鼓励用户创造、分享自己的图片作品，并通过滤镜效果让作品更有价值！为了建立一个温暖、有爱的社区，和小F一起来了解下相关规则和注意事项吧👇"),e("br"),this._v("\n        1.作品分享：点击“上传作品”上传、分享话题作品，每次只能上传一张，每天可多次上传。"),e("br"),this._v("\n        2.作品要求：用户上传的作品必须使用Foodie拍摄，不良内容将会被过滤。"),e("br"),this._v("\n        3.作品展示：用户在上传作品- 关联话题 后，作品会在“我的作品”中保存，优秀作品不仅会在相关话题标签内展示，还将有机会上官方推荐哦！"),e("br"),this._v("\n        4.滤镜使用：用户可以点击作品右下方的滤镜标识，进行同款滤镜拍摄🌟"),e("br"),this._v(" "),e("br"),this._v("\n        任何问题可添加客服微信反馈：Cattemii")])}],!1,null,null,null).exports,[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"noData"},[e("img",{attrs:{src:i("kDhU"),alt:""}})])}]),ge={components:{loading:nt,Dialog:vt,ImgBtn:At,ActionBtn:Ct,ConfirmDel:Ut},data:function(){var t;return t={cdnPrefix:"",userInfo:{userName:"",headImg:""},datas:[],lDatas:[],rDatas:[],initFlag:!0,isLoading:!1,showDialog:!1,filterObj:{url:i("Oa2a"),name:"YU3"},showConfirm:!1,deleteId:"",bigPicObj:{},bigPicState:!1,actStyle:{},actImageUrl:"",filterAction:"",pageNo:1,pageSize:10},Mt()(t,"isLoading",!0),Mt()(t,"busy",!1),Mt()(t,"filterBtn",{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{width:".49rem",height:".49rem",top:".18rem"},showImg:!0,val:"使用YU3滤镜",imgUrl:i("Oa2a")}),Mt()(t,"backBtn",{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"}),t},created:function(){},mounted:function(){localStorage.removeItem("page"),this.sort()},methods:{goUploadFn:function(){this.$router.push({name:"register"})},deleteMyWork:function(t){this.showConfirm=!this.showConfirm,this.deleteId=t,_hmt.push(["_trackEvent","filterAc_deletePic","click","删除我的作品"])},goListBtn:function(){this.$router.push({name:"list"})},filterHand:function(t){this.showDialog=t||!1,t&&(this.showDialog=!1)},confirmDelete:function(t){var e=this;if(this.showConfirm=t||!1,this.actImageUrl="",t){this.showConfirm=!1;var i=this.$ut.lStorageGet("token");this.$ajax.deleteWork({token:i,id:this.deleteId}).then(function(t){200===t.code||"200"===t.code?(e.bigPicState=!e.bigPicState,e.datas=e.datas.filter(function(t,i){return t.id!=e.deleteId}),0===e.datas.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):($(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"}))):(400===t.code||t.code,e.$reminderMsg.show({text:t.message}))}).catch(function(t){})}},openFilter:function(){_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"]),this.filterAction=this.bigPicObj.filterAction},useFilter:function(t){this.showDialog=!0,""!==t.filterImage&&(this.filterObj={url:this.cdnPrefix+t.filterImage,name:t.filterName}),this.filterAction=t.filterAction},imgload:function(t){t.currentTarget.style.visibility="visible"},toM2c1:function(t,e){var n=this;if(!e)return n.actImageUrl="",this.bigPicState=!this.bigPicState;this.filterBtn.val="使用"+t.filterName+"滤镜",t.filterImage?this.filterBtn.imgUrl=this.cdnPrefix+t.filterImage:this.filterBtn.imgUrl=i("Oa2a"),_hmt.push(["_trackEvent","filterAc_picDes","click","点击图片详情数"]),this.$loading(1),this.actItem=t;var a=new Image;a.src=this.cdnPrefix+this.actItem.picUrl+"?x-oss-process=image/resize,w_720",a.onload=function(){1.5*this.width>=this.height?(n.actStyle={width:"100%"},$(".imgParent").css({width:"100%"})):(n.actStyle={height:"100%"},$(".imgParent").css({height:"100%"})),n.actImageUrl=this.src,n.bigPicObj=t,n.bigPicObj.headImg=n.userInfo.headImg,n.bigPicObj.nickname=n.userInfo.userName,n.$loading(0)},this.bigPicState=!this.bigPicState},sort:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop||0;this.datas=[],this.pageNo=1,this.busy=!1,setTimeout(function(){window.scrollTo(0,e+1)},200),this.$loading(1),this.$ajax.myWorkList({pageNo:this.pageNo,pageSize:this.pageSize,token:this.$ut.lStorageGet("token")}).then(function(e){200===e.code||"200"===e.code?(t.cdnPrefix=e.result.cdnPrefix,t.userInfo={userName:e.result.nickname,headImg:e.result.headImageUrl},t.$ut.lStoragePut("userInfo",I()(t.userInfo)),t.datas=c()(t.datas,e.result.pictureViews),t.$set(t,"datas",e.result.pictureViews),0===e.result.pictureViews.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):e.result.pictureViews.length<10&&e.result.pictureViews.length>0?(t.busy=!0,t.isLoading=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})):(t.busy=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})),t.initFlag=!1):10005===e.code||"1005"===e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})},1500)):t.$reminderMsg.show({text:e.message}),t.$loading(0)})},loadMore:function(){var t=this;if(!this.initFlag){this.busy=!0,this.pageNo++;var e=this,i=setInterval(function(){return clearInterval(i),t.$ajax.myWorkList({pageNo:t.pageNo,pageSize:t.pageSize,token:t.$ut.lStorageGet("token")}).then(function(t){if(200==t.code){var i;e.cdnPrefix=t.result.cdnPrefix;var n=[];return t.result.pictureViews.forEach(function(t,e){n.push(t.id)}),0==n.length?(e.isLoading=!1,setTimeout(function(){e.busy=!0},500)):((i=e.datas).push.apply(i,ft()(t.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)}}},watch:{datas:function(){var t=this;t.lDatas=[],t.rDatas=[];var e=0,i=0,n=$(".items.l").width();this.datas.forEach(function(a,s){new Image;a.imgH=n*a.picHeight/a.picWidth,e<=i?(e+=a.imgH,t.lDatas.push(a)):(i+=a.imgH,t.rDatas.push(a))})}}},fe=(i("yns3"),Object(ut.a)(ge,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dynamic",attrs:{id:"dynamic"}},[n("div",{staticClass:"wpr"},[n("div",{ref:"leftWrp",staticClass:"items l"},t._l(t.lDatas,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),2===e.picQuality?n("img",{staticClass:"recommend",attrs:{src:i("tTJh")}}):t._e()]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[t.userInfo.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.userInfo.userName))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),0),t._v(" "),n("div",{ref:"rightWrp",staticClass:"items r"},[t._l(t.rDatas,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),2===e.picQuality?n("img",{staticClass:"recommend",attrs:{src:i("tTJh")}}):t._e()]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.userInfo.userName))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[(e.filterImage,n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}})),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),t._v(" "),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"40"}})],2)]),t._v(" "),n("transition",{attrs:{name:"dialog"}},[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{filterObj:t.filterObj,actionUrl:t.filterAction},on:{parentHandNo:t.filterHand}})],1),t._v(" "),n("transition",[t.bigPicState?n("div",{staticClass:"bigPic mask",on:{touchmove:function(e){return e.preventDefault(),t.touchPrevent(e)}}},[n("div",{staticClass:"bigPicWpr"},[n("div",{staticClass:"imgParent"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"close",attrs:{src:i("dyQ0")},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("img",{staticClass:"big",style:t.actStyle,attrs:{src:t.actImageUrl},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"delete",on:{click:function(e){return t.deleteMyWork(t.actItem.id)}}},[t._v("删除")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"bigPicBot"},[n("p",{staticClass:"content",class:{noTopic:t.bigPicObj.topicName}},[t._v(t._s(t.bigPicObj.picDescription))]),t._v(" "),t.bigPicObj.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(t.bigPicObj.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[t.bigPicObj.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.bigPicObj.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.bigPicObj.nickname))])])])]),t._v(" "),t.bigPicObj.filterAction?n("div",{staticClass:"filterBtnWpr"},[n("ActionBtn",{attrs:{btnAttr:t.filterBtn,eventName:"handleFilter",btnActionUrl:t.filterAction},on:{handleFilter:t.openFilter}})],1):t._e()])]):t._e()]),t._v(" "),t.isLoading?n("div",{staticClass:"loadingBg"},[n("img",{staticClass:"loadImg",attrs:{src:i("ITX+")}}),t._v(" "),n("p",{staticClass:"loadTxt"},[t._v("正在加载更多精彩内容...")])]):n("div",{staticClass:"loadingBg"},[n("p",{staticClass:"loadTxt"},[t._v("没有更多内容了...")])]),t._v(" "),n("transition",{attrs:{name:"confirmDel"}},[n("ConfirmDel",{directives:[{name:"show",rawName:"v-show",value:t.showConfirm,expression:"showConfirm"}],attrs:{txtVal:"是否确定删除"},on:{confirmHand:t.confirmDelete}})],1),t._v(" "),n("div",{staticClass:"noDataGroup"},[t._m(0),t._v(" "),n("p",[t._v("您还没有上传过作品")]),t._v(" "),n("p",{staticClass:"last"},[t._v("点击上传分享吧")]),t._v(" "),n("button",{on:{click:t.goUploadFn}},[t._v("上传")])])],1)},de,!1,null,"7bec1acc",null).exports),pe={name:"gallery",props:["isAlbums"],components:{ImgBtn:At,Album:ie},data:function(){return{backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"},curr:0,albumList:[],allAlbumPageNum:1,cdnPrefix:"",isEdit:!1,showAlbum:!1,showDialog:!1}},mounted:function(){this.initAlbumFn()},methods:{initAlbumFn:function(){var t=this;this.$ajax.allAlbum({pageNum:this.allAlbumPageNum,token:this.$ut.lStorageGet("token")}).then(function(e){200!==e.code&&"200"!==e.code||(t.cdnPrefix=e.result.cdnPrefix,t.albumList=e.result.albumViews)}).catch(function(t){})},viewAlbContFn:function(t){this.$ut.lStoragePut("albumDesc",t),this.$router.push({name:"galleryList",query:{id:t.id}})},createAlbFn:function(){this.showAlbum=!0,this.showDialog=!0},closeAlbFn:function(){this.showDialog=!1,this.showAlbum=!1},selectAlbFn:function(t){this.curr=t}}},ve=(i("9uy+"),Object(ut.a)(pe,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"gallery",attrs:{id:"gallery"}},[i("ul",[i("li",{staticClass:"select",on:{click:t.createAlbFn}}),t._v(" "),t._l(t.albumList,function(e,n){return i("li",{key:n,style:{backgroundImage:"url("+(t.cdnPrefix+e.coverUrl)+")"},on:{click:function(i){return t.viewAlbContFn(e)}}},[i("p",[t._v(t._s(e.name))])])})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"albumMask"},[i("Album",{directives:[{name:"show",rawName:"v-show",value:t.showAlbum,expression:"showAlbum"}],attrs:{isEdit:t.isEdit},on:{closeAlbFn:t.closeAlbFn}})],1)])},[],!1,null,"584ef6b2",null).exports),be={name:"myTopic",components:{},data:function(){return{cdnPrefix:"",backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"},pictureViews:[]}},mounted:function(){this.myAllTopicPicList()},methods:{topicAllPicFn:function(t){this.$router.push({name:"myAllTopicPic",query:{topicId:t.topicId,topicName:t.topicId}})},myAllTopicPicList:function(){var t=this;this.$ajax.getAllTopicPicList({token:this.$ut.lStorageGet("token")}).then(function(e){200!==e.code&&"200"!==e.code||(t.cdnPrefix=e.result.cdnPrefix,t.pictureViews=e.result.pictureViews,t.pictureViews.forEach(function(t,e){t.className="color"+e%7}))})},goListBtn:function(){this.$router.push({name:"list"})},viewMoreFn:function(t){this.$router.push({name:"topicPage",query:{topicId:t}})},bigPicFn:function(){}}},Ae=(i("NauE"),Object(ut.a)(be,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"myTopic"}},t._l(t.pictureViews,function(e,a){return n("section",{key:a},[n("button",{class:[e.className,{hot:2===e.topicView.hot}],attrs:{type:"button"},on:{click:function(i){return t.topicAllPicFn(e.topicView)}}},[2===e.hot?n("img",{staticClass:"hot",attrs:{src:i("Y+yO")}}):t._e(),t._v("\n      "+t._s(e.topicView.topicName)+"\n    ")]),t._v(" "),n("ul",[t._l(e.pictureViews,function(e){return n("li",{key:e.id,staticClass:"topicEle",style:{backgroundImage:"url("+(t.cdnPrefix+e.picUrl)+")"},on:{click:t.bigPicFn}},[t._v("\n        "+t._s(t.pictureViews.hasMore)+"\n      ")])}),t._v(" "),e.hasMore?n("li",{staticClass:"moreTopic",on:{click:function(i){return t.viewMoreFn(e.topicView.topicId)}}},[n("p",{staticClass:"all"},[t._v("查看全部")])]):t._e()],2)])}),0)},[],!1,null,"7252aea8",null).exports),Ie={data:function(){return{}},mounted:function(){},methods:{cancelPosi:function(){}}},Ce=(i("K39m"),Object(ut.a)(Ie,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"posi"}},[e("div",{staticClass:"search_box"},[e("input",{staticClass:"search",attrs:{type:"text",placeholder:"搜所地点"}}),e("span",{staticClass:"cancel",on:{click:this.cancelPosi}},[this._v("取消")])]),this._v(" "),e("p",{staticStyle:{height:".06rem",background:"#f6f7fa"}}),this._v(" "),this._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ul",{staticClass:"posi_box"},[e("li",{staticClass:"posiList"},[e("p",{staticClass:"pName"},[this._v("远洋·光华国际A座")])])])])}],!1,null,"7dd58097",null).exports),we=[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"noData"},[e("img",{attrs:{src:i("kDhU"),alt:""}})])}],ke={props:["pageType"],components:{loading:nt,Dialog:vt,ImgBtn:At,ActionBtn:Ct,ConfirmDel:Ut},data:function(){var t;return t={cdnPrefix:"",userInfo:{userName:"",headImg:""},datas:[],lDatas:[],rDatas:[],initFlag:!0,isLoading:!1,showDialog:!1,filterObj:{url:i("Oa2a"),name:"YU3"},showConfirm:!1,deleteId:"",bigPicObj:{},bigPicState:!1,actStyle:{},actImageUrl:"",filterAction:"",pageNo:1,pageSize:10},Mt()(t,"isLoading",!0),Mt()(t,"busy",!1),Mt()(t,"getUrl",""),Mt()(t,"filterBtn",{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{width:".49rem",height:".49rem",top:".18rem"},showImg:!0,val:"使用YU3滤镜",imgUrl:i("Oa2a")}),Mt()(t,"backBtn",{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回首页"}),Mt()(t,"cursor",0),Mt()(t,"topicId",0),Mt()(t,"albumId",0),t},created:function(){},mounted:function(){this.topicId=this.$route.query.topicId?this.$route.query.topicId:0,this.albumId=this.$route.query.id?this.$route.query.id:0,"isAlbum"==this.pageType?this.myAlbumPicList():"isTopic"==this.pageType||this.pageType,localStorage.removeItem("page")},methods:{goUploadFn:function(){this.$router.push({name:"register"})},setCoverFn:function(){this.$ajax.setAlbumCover({albumId:this.bigPicObj.albumId,picId:this.bigPicObj.id,token:this.$ut.lStorageGet("token")}).then(function(t){200===t.code||t.code}).catch(function(t){})},deleteMyWork:function(t){this.showConfirm=!this.showConfirm,this.deleteId=t,_hmt.push(["_trackEvent","filterAc_deletePic","click","删除我的作品"])},goListBtn:function(){this.$router.push({name:"list"})},filterHand:function(t){this.showDialog=t||!1,t&&(this.showDialog=!1)},confirmDelete:function(t){var e=this;if(this.showConfirm=t||!1,this.actImageUrl="",t){this.showConfirm=!1;var i=this.$ut.lStorageGet("token");this.$ajax.deleteWork({token:i,id:this.deleteId}).then(function(t){200===t.code||"200"===t.code?(e.bigPicState=!e.bigPicState,e.datas=e.datas.filter(function(t,i){return t.id!=e.deleteId}),0===e.datas.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):($(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"}))):(400===t.code||t.code,e.$reminderMsg.show({text:t.message}))}).catch(function(t){})}},openFilter:function(){_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"]),this.filterAction=this.bigPicObj.filterAction},useFilter:function(t){this.showDialog=!0,""!==t.filterImage&&(this.filterObj={url:this.cdnPrefix+t.filterImage,name:t.filterName}),this.filterAction=t.filterAction},imgload:function(t){t.currentTarget.style.visibility="visible"},toM2c1:function(t,e){var n=this;if(!e)return n.actImageUrl="",this.bigPicState=!this.bigPicState;this.filterBtn.val="使用"+t.filterName+"滤镜",t.filterImage?this.filterBtn.imgUrl=this.cdnPrefix+t.filterImage:this.filterBtn.imgUrl=i("Oa2a"),_hmt.push(["_trackEvent","filterAc_picDes","click","点击图片详情数"]),this.$loading(1),this.actItem=t;var a=new Image;a.src=this.cdnPrefix+this.actItem.picUrl+"?x-oss-process=image/resize,w_720",a.onload=function(){1.5*this.width>=this.height?(n.actStyle={width:"100%"},$(".imgParent").css({width:"100%"})):(n.actStyle={height:"100%"},$(".imgParent").css({height:"100%"})),n.actImageUrl=this.src,n.bigPicObj=t,n.bigPicObj.headImg=n.userInfo.headImg,n.bigPicObj.nickname=n.userInfo.userName,n.$loading(0)},this.bigPicState=!this.bigPicState},myTopicPicList:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop||0;this.datas=[],this.pageNo=1,this.busy=!1,setTimeout(function(){window.scrollTo(0,e+1)},200),this.$loading(1),this.$ajax.getTopicPicList({topicId:this.topicId,cursor:this.cursor,token:this.$ut.lStorageGet("token")}).then(function(e){200===e.code||"200"===e.code?(t.cdnPrefix=e.result.cdnPrefix,t.userInfo={userName:e.result.nickname,headImg:e.result.headImageUrl},t.$ut.lStoragePut("userInfo",I()(t.userInfo)),t.datas=c()(t.datas,e.result.pictureViews),t.$set(t,"datas",e.result.pictureViews),0===e.result.pictureViews.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):e.result.pictureViews.length<10&&e.result.pictureViews.length>0?(t.busy=!0,t.isLoading=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})):(t.busy=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})),t.initFlag=!1):10005===e.code||"1005"===e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})},1500)):t.$reminderMsg.show({text:e.message}),t.$loading(0)})},myAlbumPicList:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop||0;this.datas=[],this.busy=!1,setTimeout(function(){window.scrollTo(0,e+1)},200),this.$loading(1),this.$ajax.getAlbumPicList({albumId:this.albumId,cursor:this.cursor,token:this.$ut.lStorageGet("token")}).then(function(e){200===e.code||"200"===e.code?(t.cdnPrefix=e.result.cdnPrefix,t.userInfo={userName:e.result.nickname,headImg:e.result.headImageUrl},t.$ut.lStoragePut("userInfo",I()(t.userInfo)),t.datas=c()(t.datas,e.result.pictureViews),t.$set(t,"datas",e.result.pictureViews),0===e.result.pictureViews.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):e.result.pictureViews.length<10&&e.result.pictureViews.length>0?(t.busy=!0,t.isLoading=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})):(t.busy=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})),t.initFlag=!1):10005===e.code||"1005"===e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})},1500)):t.$reminderMsg.show({text:e.message}),t.$loading(0)})},dynamicPicList:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop||0;this.datas=[],this.pageNo=1,this.busy=!1,setTimeout(function(){window.scrollTo(0,e+1)},200),this.$loading(1),this.$ajax.myWorkList({pageNo:this.pageNo,pageSize:this.pageSize,token:this.$ut.lStorageGet("token")}).then(function(e){200===e.code||"200"===e.code?(t.cdnPrefix=e.result.cdnPrefix,t.userInfo={userName:e.result.nickname,headImg:e.result.headImageUrl},t.$ut.lStoragePut("userInfo",I()(t.userInfo)),t.datas=c()(t.datas,e.result.pictureViews),t.$set(t,"datas",e.result.pictureViews),0===e.result.pictureViews.length?($(".loadingBg").css({display:"none"}),$(".noDataGroup").css({display:"block"})):e.result.pictureViews.length<10&&e.result.pictureViews.length>0?(t.busy=!0,t.isLoading=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})):(t.busy=!1,$(".loadingBg").css({display:"block"}),$(".noDataGroup").css({display:"none"})),t.initFlag=!1):10005===e.code||"1005"===e.code?(t.$reminderMsg.show({text:e.message}),setTimeout(function(){t.$router.push({name:"login"})},1500)):t.$reminderMsg.show({text:e.message}),t.$loading(0)})},loadMoreAlbum:function(){var t=this;if(!this.initFlag){this.busy=!0;var e=this,i=setInterval(function(){return clearInterval(i),t.$ajax.getAlbumPicList({albumId:t.albumId,cursor:t.cursor,token:t.$ut.lStorageGet("token")}).then(function(t){if(200==t.code){var i;e.cdnPrefix=t.result.cdnPrefix;var n=[];return t.result.pictureViews.forEach(function(t,e){n.push(t.id)}),0==n.length?(e.isLoading=!1,setTimeout(function(){e.busy=!0},500)):((i=e.datas).push.apply(i,ft()(t.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)}},loadMoreTopicList:function(){var t=this;if(!this.initFlag){this.busy=!0,this.pageNo++;var e=this,i=setInterval(function(){return clearInterval(i),t.$ajax.myWorkList({pageNo:t.pageNo,pageSize:t.pageSize,token:t.$ut.lStorageGet("token")}).then(function(t){if(200==t.code){var i;e.cdnPrefix=t.result.cdnPrefix;var n=[];return t.result.pictureViews.forEach(function(t,e){n.push(t.id)}),0==n.length?(e.isLoading=!1,setTimeout(function(){e.busy=!0},500)):((i=e.datas).push.apply(i,ft()(t.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)}},loadMoreDynamic:function(){var t=this;if(!this.initFlag){this.busy=!0,this.pageNo++;var e=this,i=setInterval(function(){return clearInterval(i),t.$ajax.myWorkList({pageNo:t.pageNo,pageSize:t.pageSize,token:t.$ut.lStorageGet("token")}).then(function(t){if(200==t.code){var i;e.cdnPrefix=t.result.cdnPrefix;var n=[];return t.result.pictureViews.forEach(function(t,e){n.push(t.id)}),0==n.length?(e.isLoading=!1,setTimeout(function(){e.busy=!0},500)):((i=e.datas).push.apply(i,ft()(t.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)}}},watch:{datas:function(){var t=this;t.lDatas=[],t.rDatas=[];var e=0,i=0,n=$(".items.l").width();this.datas.forEach(function(a,s){new Image;a.imgH=n*a.picHeight/a.picWidth,e<=i?(e+=a.imgH,t.lDatas.push(a)):(i+=a.imgH,t.rDatas.push(a))})}}},ye=(i("D3hR"),Object(ut.a)(ke,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dynamic",attrs:{id:"dynamic"}},[n("div",{staticClass:"wpr"},[n("div",{ref:"leftWrp",staticClass:"items l"},t._l(t.lDatas,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),2===e.picQuality?n("img",{staticClass:"recommend",attrs:{src:i("tTJh")}}):t._e()]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[t.userInfo.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.userInfo.userName))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),0),t._v(" "),n("div",{ref:"rightWrp",staticClass:"items r"},[t._l(t.rDatas,function(e,a){return n("div",{key:a,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),2===e.picQuality?n("img",{staticClass:"recommend",attrs:{src:i("tTJh")}}):t._e()]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.userInfo.headImg)+")"}}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.userInfo.userName))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[(e.filterImage,n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}})),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),t._v(" "),"isAlbum"==t.pageType?n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMoreAlbum,expression:"loadMoreAlbum"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"40"}}):t._e()],2)]),t._v(" "),n("transition",{attrs:{name:"dialog"}},[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{filterObj:t.filterObj,actionUrl:t.filterAction},on:{parentHandNo:t.filterHand}})],1),t._v(" "),n("transition",[t.bigPicState?n("div",{staticClass:"bigPic mask",on:{touchmove:function(e){return e.preventDefault(),t.touchPrevent(e)}}},[n("div",{staticClass:"bigPicWpr"},[n("div",{staticClass:"imgParent"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"close",attrs:{src:i("dyQ0")},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("img",{staticClass:"big",style:t.actStyle,attrs:{src:t.actImageUrl},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("p",{staticClass:"setCover",on:{click:t.setCoverFn}},[t._v("设为封面")]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"delete",on:{click:function(e){return t.deleteMyWork(t.actItem.id)}}},[t._v("删除")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"bigPicBot"},[n("p",{staticClass:"content",class:{noTopic:t.bigPicObj.topicName}},[t._v(t._s(t.bigPicObj.picDescription))]),t._v(" "),t.bigPicObj.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(t.bigPicObj.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",[t.bigPicObj.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.bigPicObj.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.bigPicObj.nickname))])])])]),t._v(" "),t.bigPicObj.filterAction?n("div",{staticClass:"filterBtnWpr"},[n("ActionBtn",{attrs:{btnAttr:t.filterBtn,eventName:"handleFilter",btnActionUrl:t.filterAction},on:{handleFilter:t.openFilter}})],1):t._e()])]):t._e()]),t._v(" "),t.isLoading?n("div",{staticClass:"loadingBg"},[n("img",{staticClass:"loadImg",attrs:{src:i("ITX+")}}),t._v(" "),n("p",{staticClass:"loadTxt"},[t._v("正在加载更多精彩内容...")])]):n("div",{staticClass:"loadingBg"},[n("p",{staticClass:"loadTxt"},[t._v("没有更多内容了...")])]),t._v(" "),n("transition",{attrs:{name:"confirmDel"}},[n("ConfirmDel",{directives:[{name:"show",rawName:"v-show",value:t.showConfirm,expression:"showConfirm"}],attrs:{txtVal:"是否确定删除"},on:{confirmHand:t.confirmDelete}})],1),t._v(" "),n("div",{staticClass:"noDataGroup"},[t._m(0),t._v(" "),n("p",[t._v("您还没有上传过作品")]),t._v(" "),n("p",{staticClass:"last"},[t._v("点击上传分享吧")]),t._v(" "),n("button",{on:{click:t.goUploadFn}},[t._v("上传")])])],1)},we,!1,null,"250edcfc",null).exports),_e={name:"galleryList",components:{ImgBtn:At,Album:ie,ComPicList:ye},data:function(){return{pageType:"isAlbum",backBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"返回相册"},isEdit:!0,showDialog:!1,showAlbum:!1,albumId:"",albumObj:{}}},created:function(){this.albumId=this.$route.query.id,this.albumObj=this.$ut.lStorageGet("albumDesc")},mounted:function(){},methods:{putFn:function(){},editAlbFn:function(){this.showDialog=!0,this.showAlbum=!0},closeAlbFn:function(){this.showDialog=!1,this.showAlbum=!1},backFn:function(){this.$router.back()}}},Pe=(i("guCZ"),Object(ut.a)(_e,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"galleryList"}},[i("header",[i("div",{staticClass:"top"},[i("div",{staticClass:"cover"}),t._v(" "),i("div",{staticClass:"cont"},[i("h4",[t._v(t._s(t.albumObj.name))]),t._v(" "),i("p",{staticClass:"num"},[t._v(t._s(t.albumObj.pictureNum)+"张")]),t._v(" "),i("p",{staticClass:"time"},[t._v(t._s(t.albumObj.createDate)+"制成")]),t._v(" "),i("div",{staticClass:"albumBtn"},[i("button",{staticClass:"putImg"},[t._v("放入照片")]),t._v(" "),i("button",{staticClass:"editAlbum",on:{click:t.editAlbFn}},[t._v("编辑相册")])])])]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(t.albumObj.description))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],staticClass:"albumMask"},[i("Album",{directives:[{name:"show",rawName:"v-show",value:t.showAlbum,expression:"showAlbum"}],attrs:{isEdit:t.isEdit,alb:t.albumObj},on:{closeAlbFn:t.closeAlbFn}})],1),t._v(" "),i("ComPicList",{attrs:{pageType:t.pageType}}),t._v(" "),i("div",{staticClass:"goHome"},[i("ImgBtn",{attrs:{btnAttr:t.backBtn,eventName:"goHome"},on:{goHome:t.backFn}})],1)],1)},[],!1,null,"5e882382",null).exports),xe={name:"topicPage",components:{Dynamic:fe,ImgBtn:At,ComPicList:ye},data:function(){return{topicId:" ",topicName:" ",pageType:"isTopic",joinTopic:{btnCon:{borderColor:"#434343",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"参与话题"},backBtn:{btnCon:{},btnImg:{bgUrl:""},val:"返回"}}},mounted:function(){},methods:{joinTopicFn:function(){this.$router.push({name:"addPic",query:{topicId:this.topicId,topicName:this.topicName}})},backFn:function(){this.$router.back()}}},Se=(i("qtDI"),Object(ut.a)(xe,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"topicPage"}},[t._m(0),t._v(" "),i("ComPicList",{staticStyle:{marginTop:"-1.52rem !important"},attrs:{pageType:t.pageType}}),t._v(" "),i("div",{staticClass:"btnGroup"},[i("ImgBtn",{attrs:{eventName:"joinTopic",btnAttr:t.joinTopic},on:{joinTopic:t.joinTopicFn}}),t._v(" "),i("ImgBtn",{attrs:{eventName:"back",btnAttr:t.backBtn},on:{back:t.backFn}})],1)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"topicPage"},[e("h3",[this._v("我的话题作品")])])}],!1,null,"216032a7",null).exports),De={props:{propUserInfo:Object},components:{Dialog:vt,ImgBtn:At},data:function(){return{cdnPrefix:"",hasLogin:!1,bigPicState:!1,userInfo:{},bigPicObj:{},datas:[],lDatas:[],rDatas:[],actItem:{ilike:!1},liked:!1,joinTopic:{btnCon:{borderColor:"#434343",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"参与话题"},backBtn:{btnCon:{},btnImg:{bgUrl:""},val:"返回"},filterObj:{url:"",name:" "},picBtn:{btnCon:{borderColor:"#434343",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:"上传作品"},myPicBtn1:{btnCon:{},btnImg:{bgUrl:""},val:"我的作品"},myPicBtn2:{btnCon:{width:"3.44rem",fontSize:".3rem"},btnImg:{display:"block",bgUrl:""},val:""},knowBtn:{btnCon:{width:"3.4rem",fontSize:".34rem",background:"#434343",color:"#fff"},btnImg:{bgUrl:""},val:" 知道了"},filterBtn:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},showImg:!0,val:" ",imgUrl:" "},takeTopicBtn1:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"参与话题"},takeTopicBtn2:{btnCon:{width:"5.14rem",fontSize:".34rem"},btnImg:{bgUrl:""},val:"上传作品"},sortType:0,pageNo:1,busy:!0,actStyle:{},actImageUrl:"",topicList:[{topicId:0,topicName:"推荐"}],topicListL:[],topicListR:[],topicId:-1,topicName:"",curr:0,isLoading:!0,showDialog:!1,filterAction:"",partNum:null}},mounted:function(){this.userInfo=JSON.parse(this.$ut.lStorageGet("userInfo")),this.topicId=this.$route.query.topicId,this.topicName=this.$route.query.topicName,this.getInitHome(0,0,"推荐")},methods:{joinTopicFn:function(){this.$router.push({name:"addPic",query:{topicId:this.topicId,topicName:this.topicName}})},backFn:function(){this.$router.back()},tapLike:function(t){var e=this;if(t.liked)return this.$reminderMsg.show({text:"您已经给此图点过赞啦"});this.$loading(1),this.$ajax.setLike({picId:t.id,um5:t.um5}).then(function(i){if(e.$loading(0),200===i.code||"200"===i.code){var n=JSON.parse(localStorage.getItem("$FoodieData"))||[];n.constructor!=Array&&(localStorage.removeItem("$FoodieData"),n=[]),n.push(t.id),localStorage.setItem("$FoodieData",I()(n)),t.likedNum+=1,t.liked=!0}}).catch(function(t){e.$loading(0)})},goUserCenter:function(){this.$router.push({name:"my"})},takeTopic:function(){},getInitHome:function(t,e,i){var n=this;if(this.topicName=i,setTimeout(function(){window.scrollTo(0,2)},20),this.topicId!==t){this.datas=[],this.busy=!0,this.curr=e,this.topicId=t;var a=this.$ut.lStorageGet("htoken")||0;this.$loading(1),_hmt.push(["_trackEvent","filterAc_topicType","click","点击分类数"]),_hmt.push(["_trackEvent","filterAc_topicType"+t,"click","点击["+i+"]数"]);var s={hToken:a,topicId:t};this.$ajax.home(s).then(function(t){(n.$ut.lStoragePut("htoken",t.result.htoken),n.cdnPrefix=t.result.cdnPrefix,n.datas=t.result.pictureViews,n.busy=!1,0===n.datas.length?n.isLoading=!1:n.isLoading=!0,n.userInfo)?(n.hasLogin=!0,n.myPicBtn2.val=n.userInfo.userName,-1!=JSON.parse(I()(n.userInfo.headImg)).substring(0,40).indexOf("base64")?n.myPicBtn2.btnImg.bgUrl=n.userInfo.headImg||"":""!=n.userInfo.headImg&&(n.myPicBtn2.btnImg.bgUrl=n.cdnPrefix+n.userInfo.headImg)):n.hasLogin=!1;setTimeout(function(){n.$loading(0)},50)})}},loadMore:function(){var t=this;this.busy=!0;var e=this,i={hToken:this.$ut.lStorageGet("htoken")||0,topicId:this.topicId},n=setInterval(function(){return clearInterval(n),t.$ajax.home(i).then(function(i){if(200==i.code){var n;_hmt.push(["_trackEvent","filterAc_listNext","click","首页翻页数"]),0===t.topicId&&(t.topicName="推荐"),_hmt.push(["_trackEvent","filterAc_listNext"+t.topicId,"click","["+t.topicName+"]翻页数"]),e.cdnPrefix=i.result.cdnPrefix,e.$ut.lStoragePut("htoken",i.result.htoken),e.isHasLogin(e.cdnPrefix);var a=[];return i.result.pictureViews.forEach(function(t,e){a.push(t.id)}),0==a.length?setTimeout(function(){e.busy=!0},500):(e.busy=!1,(n=e.datas).push.apply(n,ft()(i.result.pictureViews)),setTimeout(function(){e.busy=!1},500))}})},50)},getUserCome:function(t,e){var i=this;this.$ajax.userCome(t).then(function(t){if(200===t.code||"200"===t.code)if(i.$ut.lStoragePut("userCome",t.result.come),!0===t.result.come||"true"===t.result.come){var n=i.$ut.lStorageGet("page")||e;i.$router.push({name:n})}else i.$router.push({name:"user"});else i.$reminderMsg.show({text:t.errMsg}),setTimeout(function(){i.$router.push({name:"login"})},1500)}).catch(function(t){})},filterHand:function(t){this.showDialog=t||!1,t&&(this.showDialog=!1)},useFilter:function(t){this.showDialog=!0,""!==t.filterImage&&(this.filterObj={url:this.cdnPrefix+t.filterImage,name:t.filterName}),this.filterAction=t.filterAction},openFilter:function(){_hmt.push(["_trackEvent","filterAc_useFilter","click","使用同款滤镜总数"]),this.filterAction=this.bigPicObj.filterAction},goMyWork:function(t){JSON.parse(this.$ut.lStorageGet("userInfo")).headImg;this.$router.push({name:"my"})},touchPrevent:function(t){},isHasLogin:function(t){this.$ut.lStorageGet("token"),this.$ut.lStorageGet("userCome"),this.$ut.lStorageGet("userPhone");this.userInfo?(this.hasLogin=!0,this.myPicBtn2.val=this.userInfo.userName,-1!=JSON.parse(I()(this.userInfo.headImg)).substring(0,40).indexOf("base64")?this.myPicBtn2.btnImg.bgUrl=this.userInfo.headImg:this.myPicBtn2.btnImg.bgUrl=t+this.userInfo.headImg):this.hasLogin=!1},checkFoodieMark:function(t){return new z.a(function(e,i){EXIF.getData(t,function(i){var n=EXIF.getAllTags(t);e(n)})})},toM2c1:function(t,e){var i=this;if(!e)return i.actImageUrl="",this.bigPicState=!this.bigPicState;this.$loading(1),this.actItem=t,this.filterBtn.val=t.filterName,this.filterBtn.imgUrl=t.filterImage,t.filterImage&&(this.filterBtn.imgUrl=this.cdnPrefix+t.filterImage),_hmt.push(["_trackEvent","filterAc_picDes","click","点击图片详情数"]),this.actItem=t;var n=new Image;n.src=this.cdnPrefix+this.actItem.picUrl+"?x-oss-process=image/resize,w_720",n.onload=function(){1.5*this.width>=this.height?(i.actStyle={width:"100%"},$(".imgParent").css({width:"100%"})):(i.actStyle={height:"100%"},$(".imgParent").css({height:"100%"})),i.actImageUrl=this.src,i.bigPicObj=t,i.$loading(0)},this.bigPicState=!this.bigPicState},imgload:function(t){t.currentTarget.style.visibility="visible"},toUpload:function(){this.$router.push({name:"register"})},imgSize:function(t){1.5*t.currentTarget.width>=t.currentTarget.height?t.currentTarget.style.width="100%":t.currentTarget.style.height="100%"},bodySty:function(){$("body").addClass("bodySty")}},watch:{showDialog:{handler:function(t,e){},immediate:!0},datas:function(){var t=this;t.lDatas=[],t.rDatas=[];var e=0,i=0,n=$(".items.l").width(),a=JSON.parse(localStorage.getItem("$FoodieData"))||[];a.constructor!=Array&&(localStorage.setItem("$FoodieData","[]"),a=[]),this.datas.forEach(function(s,r){a.includes(s.id)&&(s.liked=!0);new Image;s.imgH=n*s.picHeight/s.picWidth,e<=i?(e+=s.imgH,t.lDatas.push(s)):(i+=s.imgH,t.rDatas.push(s))})}}},Ne=(i("LGUL"),Object(ut.a)(De,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"p6"}},[n("div",{staticClass:"topicPage"},[n("h3",[t._v("#"+t._s(t.topicName))])]),t._v(" "),n("transition",[n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.showDialog,expression:"showDialog"}],attrs:{filterObj:t.filterObj,actionUrl:t.filterAction},on:{parentHandNo:t.filterHand}})],1),t._v(" "),n("div",{staticClass:"wpr"},[n("div",{ref:"leftWrp",staticClass:"items l"},t._l(t.lDatas,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),n("span",{staticClass:"like posz",class:{likeActive:e.liked},on:{click:function(i){return i.stopPropagation(),t.tapLike(e)}}},[t._v(" \n            "+t._s(e.likedNum)+"\n          ")])]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:t.goUserCenter}},[e.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(e.nickname))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),0),t._v(" "),n("div",{ref:"rightWrp",staticClass:"items r"},[t._l(t.rDatas,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"top"},[n("img",{staticClass:"mediaImg",style:{height:e.imgH+"px"},attrs:{src:t.cdnPrefix+e.picUrl+"?x-oss-process=image/resize,w_400",alt:""},on:{load:t.imgload,click:function(i){return t.toM2c1(e,1)}}}),t._v(" "),n("span",{staticClass:"like posz",class:{likeActive:e.liked},on:{click:function(i){return i.stopPropagation(),t.tapLike(e)}}},[t._v(" \n            "+t._s(e.likedNum)+"\n          ")])]),t._v(" "),n("div",{staticClass:"bot"},[n("p",{staticClass:"content"},[t._v(t._s(e.picDescription))]),t._v(" "),e.topicName?n("p",{staticClass:"topic"},[t._v("#"+t._s(e.topicName))]):t._e(),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:t.goUserCenter}},[e.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(e.nickname))])])]),t._v(" "),e.filterAction?n("aside",{staticClass:"filterWrap",on:{click:function(i){return t.useFilter(e)}}},[e.filterImage?n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+(t.cdnPrefix+e.filterImage)+")"}}):n("span",{staticClass:"filterImg"}),t._v(" "),n("span",{staticClass:"filterName"},[t._v("\n                "+t._s(e.filterName)+"\n              ")])]):t._e()])])])}),t._v(" "),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"-10"}})],2)]),t._v(" "),n("div",{staticClass:"btnGroup"},[n("ImgBtn",{attrs:{eventName:"joinTopic",btnAttr:t.joinTopic},on:{joinTopic:t.joinTopicFn}}),t._v(" "),n("ImgBtn",{attrs:{eventName:"back",btnAttr:t.backBtn},on:{back:t.backFn}})],1),t._v(" "),t.bigPicState?n("div",{staticClass:"bigPic mask",on:{touchmove:function(e){return e.preventDefault(),t.touchPrevent(e)}}},[n("div",{staticClass:"bigPicWpr"},[n("div",{staticClass:"imgParent"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"close",attrs:{src:i("dyQ0")},on:{click:function(e){return t.toM2c1(t.actItem,0)}}}),t._v(" "),n("img",{staticClass:"big",style:t.actStyle,attrs:{src:t.actImageUrl},on:{click:function(e){return t.toM2c1(t.actItem,0)}}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.actImageUrl,expression:"actImageUrl"}],staticClass:"bigPicBot"},[n("div",{staticClass:"group"},[n("aside",[n("span",{staticClass:"like",class:{likeActive:t.actItem.liked},on:{click:function(e){return e.stopPropagation(),t.tapLike(t.actItem)}}},[t._v("\n                "+t._s(t.bigPicObj.likedNum)+"\n              ")])]),t._v(" "),t.filterBtn.imgUrl?n("aside",{staticClass:"filterWrap",staticStyle:{background:"#fff",color:"#333"},on:{click:function(e){return t.useFilter(t.filterAction)}}},[n("span",{staticClass:"filterImg",style:{backgroundImage:"url("+t.filterBtn.imgUrl+")"}}),t._v(" "),n("span",{staticClass:"filterName"},[t._v(" \n                "+t._s(t.filterBtn.val)+"\n              ")])]):t._e()]),t._v(" "),n("p",{staticClass:"content"},[t._v(t._s(t.bigPicObj.picDescription))]),t._v(" "),t.bigPicObj.topicName?n("p",{staticClass:"topic topicDetail"},[t._v("#"+t._s(t.bigPicObj.topicName))]):t._e(),t._v(" "),n("p",{staticClass:"topic posiDetail"},[t._v(t._s(t.bigPicObj.position))]),t._v(" "),n("div",{staticClass:"group"},[n("aside",{on:{click:function(e){return t.goMyWork(t.bigPicObj.headImg)}}},[t.bigPicObj.headImg?n("span",{staticClass:"itemHeadImg",style:{backgroundImage:"url("+(t.cdnPrefix+t.bigPicObj.headImg)+")"}}):n("span",{staticClass:"itemHeadImg"}),t._v(" "),n("span",{staticClass:"itemUserName"},[n("var",[t._v(t._s(t.bigPicObj.nickname))])])])]),t._v(" "),n("div",{staticClass:"filterBtnWpr"},[t.bigPicObj.topicName?n("ImgBtn",{attrs:{btnAttr:t.takeTopicBtn1,eventName:"handleTopic"},on:{handleTopic:t.takeTopic}}):n("ImgBtn",{attrs:{btnAttr:t.takeTopicBtn2,eventName:"handleTopic"},on:{handleTopic:t.takeTopic}})],1)])]):t._e(),t._v(" "),t.isLoading?n("div",{staticClass:"loading"},[n("img",{staticClass:"loadImg",attrs:{src:i("ITX+")}}),t._v(" "),n("p",{staticClass:"loadTxt"},[t._v("正在加载更多精彩内容...")])]):n("div",{staticClass:"loading"},[n("p",{staticClass:"loadTxt"},[t._v("没有更多内容了...")])])],1)},[],!1,null,null,null).exports);r.a.use(dt.a);var Te=new dt.a({routes:[{path:"/",redirect:{name:"list"}},{path:"/login",name:"login",component:Tt},{path:"/user",name:"user",component:Ft},{path:"/work",name:"work",component:jt},{path:"/register",name:"register",component:xt},{path:"/position",name:"position",component:Ce},{path:"/gList",name:"galleryList",component:Pe},{path:"/topicPage",name:"topicPage",component:Se},{path:"/my",name:"my",component:Gt,children:[{path:"dynamic",name:"dynamic",component:fe},{path:"gallery",name:"gallery",component:ve},{path:"myTopic",name:"myTopic",component:Ae},{path:"/my",redirect:{name:"dynamic"}}]},{path:"/addPic",name:"addPic",component:he},{path:"/myAllTopicPic",name:"myAllTopicPic",component:Ne},{path:"/list",name:"list",component:kt},{path:"/404",name:"404",component:Dt},{path:"*",redirect:{name:"404"}}]}),Ee=i("Dd8w"),Ue=i.n(Ee),Be=R.a.ajaxPrefix;function Fe(t){return new z.a(function(e,i){$.ajax(Ue()({},t,{timeout:2e4,success:function(t){e(t)},error:function(t,e){i(e)}}))})}function Le(t){return Fe({type:"GET",url:Be+"/home?hToken="+t.hToken+"&topicId="+t.topicId,dataType:"json"}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Oe(t){return Fe({type:"POST",url:Be+"/pic/upload?topicId="+t.topicId+"&albumId="+t.albumId+"&picDescription="+t.desc+"&position="+t.position,processData:!1,contentType:!1,data:t.formData,headers:{token:t.token}}).then(function(t){return t})}function Me(t){var e=t.token,i=t.id;return Fe({type:"POST",url:Be+"/like?token="+e+"&id="+i,contentType:"application/json"}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Re(t){return Fe({type:"GET",url:Be+"/image/list?hToken="+t.hToken+"&topicId="+t.topicId,contentType:"application/json"}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function je(){return Fe({type:"GET",url:Be+"/topic/list"}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function $e(t){return Fe({type:"POST",data:I()(t),url:Be+"/sms/send",contentType:"application/json;charset=utf-8"}).then(function(t){return t}).catch(function(t){})}function Ge(t){return Fe({type:"POST",data:I()(t),url:Be+"/sms/verification",contentType:"application/json;charset=utf-8"}).then(function(t){return t}).catch(function(t){})}function He(t){return Fe({type:"GET",url:Be+"/user/come",headers:{token:t,accept:"application/json; charset=utf-8"}}).then(function(t){return 200==t.code?t:10005==t.code?{errMsg:t.message}:void 0}).catch(function(t){})}function Qe(t){var e=t.userName,i=t.imageBase64,n=t.token;return Fe({type:"POST",data:i,url:Be+"/user/login?nickname="+e,contentType:"application/json;charset=utf-8",beforeSend:function(t){t.setRequestHeader("token",n)}}).then(function(t){return t}).catch(function(t){})}function Ve(t){return Fe({type:"GET",contentType:"application/json",headers:{token:t.token},url:Be+"/pic/list?pageNum="+t.pageNo+"&pageSize="+t.pageSize}).then(function(t){return t}).catch(function(t){})}function We(t){return Fe({type:"POST",url:Be+"/pic/delete?picId="+t.id,contentType:"application/json;charset=utf-8",headers:{token:t.token}}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Je(t){return Fe({type:"POST",url:Be+"/album/add?name="+t.name+"&description="+t.description,contentType:"application/json;charset=utf-8",headers:{token:t.token}}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function ze(t){return Fe({type:"POST",url:Be+"/album/edit?albumId="+t.albumId+"&name="+t.name+"&description="+t.description,contentType:"application/json;charset=utf-8",headers:{token:t.token}}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Ye(t){return Fe({type:"POST",url:Be+"/album/delete?albumId="+t.albumId,contentType:"application/json;charset=utf-8",headers:{token:t.token}}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Xe(t){return Fe({type:"POST",url:Be+"/album/cover/config?albumId="+t.albumId+"&picId="+t.picId,contentType:"application/json;charset=utf-8",headers:{token:t.token}}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Ke(t){return Fe({type:"GET",contentType:"application/json",headers:{token:t.token},url:Be+"/album/my/list?pageNum="+t.pageNum}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function qe(t){return Fe({type:"POST",url:Be+"/like?um5="+t.um5+"&picId="+t.picId,contentType:"application/json;charset=utf-8"}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function Ze(t){return Fe({type:"GET",contentType:"application/json",headers:{token:t.token},url:Be+"pic/my/list?cursor=1&"+t.pageNum}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function ti(t){return Fe({type:"GET",contentType:"application/json",headers:{token:t.token},url:Be+"/album/my/picture/list?albumId="+t.albumId+"&cursor="+t.cursor}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function ei(t){return Fe({type:"GET",contentType:"application/json",headers:{token:t.token},url:Be+"/pic/my/topic/picture/list?topicId="+t.topicId+"&cursor="+t.cursor}).then(function(t){if(200==t.code)return t}).catch(function(t){})}function ii(t){return Fe({type:"GET",contentType:"application/json",headers:{token:t.token},url:Be+"/pic/my/topic/list"}).then(function(t){if(200==t.code)return t}).catch(function(t){})}var ni=function(){function t(){u()(this,t)}return m()(t,null,[{key:"compareVersion",value:function(t,e){for(var i in e){var n=parseInt(e[i],10)||0,a=parseInt(t[i],10)||0;if(n>a)return!0;if(n<a)return!1}return!1}},{key:"_load",value:function(t,e){var i=document.createElement("script");i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,e&&e())}:i.onload=function(){e&&e()},i.src=t,document.getElementsByTagName("head")[0].appendChild(i)}},{key:"lStoragePut",value:function(t,e){localStorage.setItem(t,I()(e))}},{key:"lStorageGet",value:function(t,e){if("undefined"==localStorage.getItem(t))return"";var i=JSON.parse(localStorage.getItem(t));return e&&localStorage.removeItem(t),i}},{key:"getQueryString",value:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?decodeURIComponent(i[2]):null}},{key:"isToday",value:function(t){return new Date(t).toDateString()===(new Date).toDateString()||!(new Date(t)<new Date)&&void 0}},{key:"getCodelength",value:function(t){for(var e=0,i=0;i<t.length;i++){var n=t.charAt(i);encodeURI(n).length>2?e+=1:e+=.5}return e}},{key:"checkEmoji",value:function(t){var e=/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g;return e.test(t)}},{key:"checkPhone",value:function(t){var e=t.trim();if(0==e.trim().length)throw new Error("请输入手机号");if(!/^1(3|5|7|8|9)\d{9}$/.test(e))throw new Error("请输入有效的手机号")}},{key:"checkUserName",value:function(e,i){if(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g.test(e))throw new Error("用户名格式不支持");if(0==e.trim().length)throw new Error("请输入用户名");if(t.getCodelength(e.trim())>i)throw new Error("用户名长度超过限制")}},{key:"browserPrevent",value:function(){var t=0;document.documentElement.addEventListener("touchend",function(e){var i=Date.now();i-t<=300&&e.preventDefault(),t=i},!1),document.addEventListener("gesturestart",function(t){t.preventDefault()})}}]),t}(),ai={props:{text:{type:String,default:"错误提示"},show:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!1}},methods:{hide:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.show=!1,this.text="",t&&setTimeout(function(){$(".reminder").css({opacity:0})},80)}}},si=(i("rVsc"),Object(ut.a)(ai,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"reminder mask"},[i("div",{staticClass:"wpr"},[i("p",{domProps:{innerHTML:t._s(t.text)}}),t._v(" "),i("button",{attrs:{type:"button",name:"button"},on:{click:t.hide}},[t._v("确定")]),t._v(" "),i("var",[t._v("客服微信：Cattemii")])])])},[],!1,null,null,null).exports),ri=void 0,oi=r.a.extend(si);(ri=new oi({el:document.createElement("div")})).show=!1;var ci={show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&((t.el?t.el:document.querySelector("body")).appendChild(ri.$el),ri.text=t.text||"");ri.show=!0,setTimeout(function(){ri.$el.style.opacity="1"},30)},hide:function(){ri.$el.style.opacity="0",ri.show=!1}},li={install:function(){r.a.reminderMsg||(r.a.$reminderMsg=ci),r.a.mixin({created:function(){this.$reminderMsg=r.a.$reminderMsg}})}},ui=i("bqTm"),hi=i.n(ui);i("F+tC");r.a.use(Xt.a),r.a.use(hi.a),r.a.use(s.a,{preLoad:1.3,error:"static/img/loaderr.png",attempt:1,listenEvents:["scroll"],observer:!0,observerOptions:{rootMargin:"0px",threshold:.1},filter:{webp:function(t,e){if(e.supportWebp){/^(http|https):\/\/b612/.test(t.src)&&(t.src+="?x-oss-process=image/format,webp")}}}});var mi={install:function(t,e){t.prototype.$ut=ni,t.prototype.$loading=nt,t.prototype.$ajax=n,r.a.prototype.$http=qt.a,t.prototype.$userState={}}};r.a.use(mi),r.a.use(li),r.a.use(s.a,{error:i("3aV2"),loading:i("3aV2")}),new r.a({el:"#app",router:Te,template:"<App/>",components:{App:mt}})},NauE:function(t,e,i){"use strict";var n=i("LOy8");i.n(n).a},Ng7G:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAbBAMAAABRv8j0AAAAJFBMVEUzMzP////Ozs7j4+PJyck5OTm4uLiysrK/v79SUlJpaWmdnZ1OFjqNAAAAdklEQVQI1y3PsQ2EMAxAUQsh0uLkBoANaNInGzAClJRswAg3wi1x++Hk29XTVxTZclVtM8szOD5SgS6DI/ZkIDX01KBldERZgS6jwxKw5Ih7Afr8QPoeIAfeJDlBDvxjAVjoSHKDPLFP2m+wBXYmGMrkd/1P8AKcCxWXOwVs7wAAAABJRU5ErkJggg=="},OHL8:function(t,e){},Oa2a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAADcBAMAAADpdNKyAAAAGFBMVEXE9/8+37v//riM7eNm59Ct8/Tw/cvW+uquuelSAAACA0lEQVR42u3Yv26bUBiGcTdAmF+pF1AxODMCX8CRfQFFNnvkoVmjLr39Nn9UJQ7U2OZ7olrvM3j96XA+DJzFwjnnnHPOOeecc84555z7xH79qKrlwyODlfvqpQdUQ7w3GuG91arqPli7fadVy+BLWR10F8r9POSWobdD9aFv3M5F797+Ixc4nOWAFjgst0PckpvL5x65uYyczXKYuyO3Lm7zboa5Cp2UsFmBuf0Id38V3IgWdeOZ+3+5674RrvtPDH4iwM87+Gk+MpphL5rwm9gNOSn4WzT8jUB/AZXs993AsIR+vZbo4uiTB/pchT41gs/E6BO/BXye6Zxzzjnn3GhF3zfPrZ9+Vn0f5WybdpM00NfNuulnldqNjrVZr77PYE2h/q5zvbpoWc106rULLuHJ1vncttVZnYU1SaK4otX5odip3IXYadzF2EncLonjshmwydwM1/EEbpvEcXMtbRqXJYHcfEubwBVJIJfNqx3hthLI7URyrUCuqAVyM4/kES5GE6uJ1Ua4KG2Yq0VycZqQ/5J/cblILhPJhd0Cw1wtktuJ5DKRXPDGHXK1SC4XycVfyndcJ5LLhHIJ5XKRXJFQrhPJFUK5DuWoxYld3CsnlOtYLqFcLpSrUa4Qyn1huYRymVCuY7mEcuRc/uFylqtZTubMmTNnzpw5c+bMmTP3adxvc8H11zsYiqIAAAAASUVORK5CYII="},QV1Y:function(t,e,i){"use strict";var n=i("lCfa");i.n(n).a},QlV2:function(t,e){},SR97:function(t,e){},TcyI:function(t,e){t.exports={assetsPublicPath:"./",assetsRoot:"../dist/local/",scheme:"b612cnb://",ajaxPrefix:"http://foodie-beta.kajicam.com/fs/api",sitePrefix:"http://h5-beta.kajicam.com/events",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/stickerinfo/upload-only",siteUrl:"http://10.35.33.222:8080/index.html",imagePrefix:"http://h5-template-beta.oss-cn-beijing.aliyuncs.com/",filterId:"235",categoryId:"20136",stickerId:"301197",activityName:"2019splicePic",downLink:"https://lnk0.com/easylink/EL50AJ9g"}},TgpH:function(t,e){t.exports={assetsPublicPath:"//h5-pre.kajicam.com/events/sept/",assetsRoot:"../dist/pre/",scheme:"b612cn://",sitePrefix:"h5-pre.kajicam.com/events/",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",imgProcess:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu",imagePrefix:"https://qa-b612.snowcam.cn/owfs/"}},Th96:function(t,e){},UEJ9:function(t,e){},ULH5:function(t,e){},VUlv:function(t,e,i){"use strict";var n=i("jpjt");i.n(n).a},XK7a:function(t,e,i){"use strict";var n=i("EjCg");i.n(n).a},"Y+yO":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAMAAAA2a+hwAAAAPFBMVEVHcEz/a2T/al//a1//a1//a2D/a1//amD/al//al//amD/a1//amD/amD/a2L/al//a1//a1//a2D/a2DL7ZpXAAAAE3RSTlMACOn1I1iFPdu1L5h0ZxfDp0rUkelSUAAAAOlJREFUGBl1wQdipDAAwEBRjemg//81gCE4d7szZLa24KtgGfgmqBNfTB4aPhs81XzUeer4pDeZYJv5x+oN2o6/Zh8jtSt/RB8ltU4kcwsEX/TqzCVYQ+mrjerCZbRh8D89p86mNtl9LRwajZ3J2PuqgdLXQPDXCJuZFkYfETozAdi9VQQfsbXkUHurGHw0GDlFk4roo8DAqTepWLwN9CNJacLuraDgtnrpWEwmXq2XltXLTqbxUhO8NGSCpxVYPFQFmd5TAcweOnKbh41TUDtyozqRhMqqIDNow6PenXgVloHMEHk1cebyA1XDHmV6/wMrAAAAAElFTkSuQmCC"},YYkU:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbBAMAAAB/+ulmAAAAMFBMVEVHcEyTk5OSkpKTk5OTk5OTk5OTk5OTk5ORkZGSkpKTk5OTk5OTk5OTk5OSkpKTk5NK6G1OAAAAD3RSTlMAZ1GcGiY89g2w1n3BiuXp+RyrAAABBUlEQVQYGQXBv0obcRwA8E/qH5QoubXTBcT58gb5lT6AKZRCJ29zTBYdBLnQ4Ci2axezdaxToZtvkNIXSOnW6VJPqkkDXz8f8OL7lz8/xwDtKiLiArD9df3t7buX8RvI1yW8j1toRcblmPw/DO+5qppkO7qoM5v1Kk4pRrRX7C0Hr1fsNnQeOBpRD+zEWHHHcMo84yYzz5h0mZUUPbMSbKxwPFUl0D/F9UgkaEdCZ6FOcHwGnYVZCXkPjn6ZZ5DfQvFRcQf5D+hnOg+wBSLZX8ObEhtLVF3UCwyfUPzDzZStKsN+dPmQOGnAvEkwiR5oVc3h+PIg/gImEY8RywTw6nN1/mkAz4mzYnLqPQw2AAAAAElFTkSuQmCC"},YngQ:function(t,e){},Z16d:function(t,e,i){"use strict";var n=i("xXY5");i.n(n).a},Z6Dd:function(t,e,i){"use strict";var n=i("hvPe");i.n(n).a},cWa9:function(t,e){},d684:function(t,e,i){"use strict";var n=i("sSD/");i.n(n).a},dyQ0:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA9CAMAAAApvJHbAAAAaVBMVEVHcEz////////////////+/v7///////////////////////////////////////////////////////8yMjKGhoZ6enrJycmVlZVbW1v5+fmioqKnp6c6Ojq6urry8vJra2uurq6zs7MjULdNAAAAE3RSTlMAiWgXlf8o9OkDecxX2KNJGLq1rHis4wAAAdFJREFUSMe1l+t6gyAMhtGCeKjaNtSq7Xq6/4sc2j5zQoJYtu+vvgpJ+EgYw5XEfF+mAkRa7nmcMH9ldZXCXGlVZ17sJjLR9weizSK74xIoSb5zrzmn2ZHPHetPCliQKMgAbiUsS25xOAIfCRFhW+YgwE/c3jwHf3ETzmGNciNgsE6z0CVyJS1/JS4rYK2KKXIxrFf8U9vyA1ruPkiWlTa/XwvRoz83K/R6QuljZ9TiWLGZYQai+zphsHqYdjGEvTZfvCG4hi/WF2tNV9abCI7BUGkacTELR+Fh6QkWIgM/qjOah4SosxneErCuN8JR+gknYZ2zA/Gkv7/xVrVUBR1YST263dXVDUPJUvJZP+AuGFJGW6HQeOOChWSuk9F36u48Osxlw2fVjXsnz7hj33BRR734p2vfpQsW0Dc0Lkoy3y8YnPiBvL0eL1h7SmOd7KnWYjc88CQe42cMnqqZkqHxC3HG0KDPYBIfrKlahEdjOuPeYvkaXE2YwGvMU082rCNv46OnWjm7tQL18zMgfm7eJUJrzUVm3GOe7Qv/kzs07P4O7B3C+pbAnimwXwvsFYc+1RvGmvT802X/QX/uMxtAkfzTXBI4E4XOY6Gz4Jo59BtmathzyrwxLAAAAABJRU5ErkJggg=="},eyNm:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAATlBMVEVHcEz///////////////////////////////////////////////////////////////////////+tra1oaGi2trZVVVXW1tZBQUGBgYGjTeotAAAAEnRSTlMAkmpC6XhfB/LT+yK9EbI23FZlGjw/AAABi0lEQVRYw72Y0XaDIAyGA0UIiNqmXde9/4vuot2OtVSi/Nt/pwe/kwQJSYhWNHkzRsci7OJo/ER71NuRRZL8KIkIj7bfRgk+S1kp+6DGDJ2TFblu0FnTsVTkOoVVh6ModDzUzDGilFk1qo+iVlzZwAPLBvFb93ySTUq+zLGyWbbEOaXtoHQqxGcHRyS9xKln2SVe7F2IslPx+X8yslvmKUDSoAnh2MK5TprU/eYfbgO5AWPQr0nBtYLcPUq+tu7yUVtxP725tuxaBWUiol7aQdKrsocCZDWeaUCZKDACxIEmQYBk0iRYDchqEogGZGjEgEaKGFAkhwE5YgyIqfz+PNfta/70Wf6CytfZZa7bdf50fgNyKNeOqGDDth/2Q8KOCOzQwtIILLHBUi0u+cOuI9gFWb+y3x345ZUNKyJgZU1zocUDuvQjQhWjTeXxcxeBKthxLQSsqcG1WbjGb08rmuzfNse4dh03QMCNNHBDFt3Yh7vwn4Mo4GjsMazLLy5y3jqse9i1HB+u2fINePEdTtyZ+F0AAAAASUVORK5CYII="},guCZ:function(t,e,i){"use strict";var n=i("OHL8");i.n(n).a},hvPe:function(t,e){},i14U:function(t,e){},iWqf:function(t,e,i){"use strict";var n=i("ULH5");i.n(n).a},jpjt:function(t,e){},kDhU:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAMAAABjROYVAAAAP1BMVEX/8l379cPe8JT/82tY9rP////383H29/pR5K6U+87/9Jb89Kr49uF38L73+PH+9Hrk9aOf+dLY9ZjZ9+y989/DjAZlAAADFklEQVRo3s3b23arIBAG4GFjYkQOJfH9n7XGxFpTGAYBZ/83venKt0BEhBH6vFgtRuWchCXSOTUKbTN/BDL+Vwv1xj4jldANUBsFf8G2KioUkKJELdSOEsiRo62AagWZUboQzScpLOAdCweDdzKGCgmHI8Uh9FjPkvoYWjQz1dgIahVUiLI5qHZQJU7T0fKuxbs4hAqoGEFDR6iakYJWNkMqNDcDKrQ3/6rQcAxFRxOcYX6qO1TLVqjUMdQ6aBZnI6iChlFhVEDTiBDa7oL+uaxwTufuOxhO6txdB6+ole1RaT/QEU7IuEc1nBK9Q9U5qPqNntTQtamANfT673CuWFMX1Ib/434ryD38m/YHjQzdW1GQAbyg4Xv0WoaGO1iuaGQyaoIu0xIgw6gJql5oZBg1Qp9DCeJTfSZqpslQULGgqgY69Jc5vUmjakFlBdRf3jFJVD7R6BSYg67mpU+i81QI8ad3Bjr9oJchiYoZVRXQx4ZOSVTNqKyA9hv6SKKyBwt1W+qT6EzqGqjZ0PRAmklRA92aOhFQAWMVdFWnGwEdQdVBb+bR9w9zo6AKXCWUPOHPb3CZqKmDSiI6eD8smf+aMhR7mfiFmje4xg8lKFDQT3JhTVt0CMe3RP0QU00rtIuaKbUARcw55iCK3zK4iarYLYNODikTG01HZyQzpPMSOvMKEcUmfE9EjenWbC424SOPNkpD5w7exB2LPdqQh7gnoR/mk00+xJHlykBLF1ax5Up8YeZopu/CKrYwiy9BC9Cnii1BkcU2sXtNWEUX26KwpaGLiqICe4EqQjuDvkBFLyoV9XmoxF+Ki9AOfykWTbq3w1//7bkovqXjSm6ZKKoSm1dFDe0Sm1exbbqicdQltuliG5JlaGpDMjKUvkouaXLrNTqUvgi5B5PeZObZTmc5OOA5ImE5DOI59mI54OM5ymx+aAv6fzme5jmI5yk5YCmu4Ckj4SmY4SkN4imC4in34ils4ynh4ylW5CnL5ClA5Sm1ZSoq5imfZioU5ymJZyr+Z/rMgemDjtU9+9MVpo90qn6O9A2HSbhJAKZU6QAAAABJRU5ErkJggg=="},lCfa:function(t,e){},lYRQ:function(t,e){},n5LQ:function(t,e){},opSD:function(t,e){},pe4C:function(t,e,i){var n;!function(){function i(t,e,i,n){var a=t.naturalWidth,s=t.naturalHeight;if(a+s){var r=i.width,o=i.height,c=e.getContext("2d");c.save(),function(t,e,i,n,a){switch(a){case 5:case 6:case 7:case 8:t.width=n,t.height=i;break;default:t.width=i,t.height=n}switch(a){case 2:e.translate(i,0),e.scale(-1,1);break;case 3:e.translate(i,n),e.rotate(Math.PI);break;case 4:e.translate(0,n),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-n);break;case 7:e.rotate(.5*Math.PI),e.translate(i,-n),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-i,0)}}(e,c,r,o,i.orientation),function(t){var e=t.naturalWidth;if(e*t.naturalHeight>1048576){var i=document.createElement("canvas");i.width=i.height=1;var n=i.getContext("2d");return n.drawImage(t,1-e,0),0===n.getImageData(0,0,1,1).data[3]}return!1}(t)&&(a/=2,s/=2);var l=1024,u=document.createElement("canvas");u.width=u.height=l;for(var h=u.getContext("2d"),m=n?function(t,e,i){var n=document.createElement("canvas");n.width=1,n.height=i;var a=n.getContext("2d");a.drawImage(t,0,0);for(var s=a.getImageData(0,0,1,i).data,r=0,o=i,c=i;c>r;)0===s[4*(c-1)+3]?o=c:r=c,c=o+r>>1;var l=c/i;return 0===l?1:l}(t,0,s):1,d=Math.ceil(l*r/a),g=Math.ceil(l*o/s/m),f=0,p=0;f<s;){for(var v=0,b=0;v<a;)h.clearRect(0,0,l,l),h.drawImage(t,-v,-f),c.drawImage(u,0,0,l,l,b,p,d,g),v+=l,b+=d;f+=l,p+=g}c.restore(),u=h=null}}var a=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;function s(t){if(window.Blob&&t instanceof Blob){if(!a)throw Error("No createObjectURL function found to create blob url");var e=new Image;e.src=a.createObjectURL(t),this.blob=t,t=e}if(!t.naturalWidth&&!t.naturalHeight){var i=this;t.onload=t.onerror=function(){var t=i.imageLoadListeners;if(t){i.imageLoadListeners=null;for(var e=0,n=t.length;e<n;e++)t[e]()}},this.imageLoadListeners=[]}this.srcImage=t}s.prototype.render=function(t,e,n){if(this.imageLoadListeners){var s=this;this.imageLoadListeners.push(function(){s.render(t,e,n)})}else{e=e||{};var r=this.srcImage.naturalWidth,o=this.srcImage.naturalHeight,c=e.width,l=e.height,u=e.maxWidth,h=e.maxHeight,m=!this.blob||"image/jpeg"===this.blob.type;c&&!l?l=o*c/r<<0:l&&!c?c=r*l/o<<0:(c=r,l=o),u&&c>u&&(l=o*(c=u)/r<<0),h&&l>h&&(c=r*(l=h)/o<<0);var d={};for(var g in e)d[g]=e[g];d.width=c,d.height=l;var f=t.tagName.toLowerCase();"img"===f?t.src=function(t,e,n){var a=document.createElement("canvas");return i(t,a,e,n),a.toDataURL("image/jpeg",e.quality||.8)}(this.srcImage,d,m):"canvas"===f&&i(this.srcImage,t,d,m),"function"==typeof this.onrender&&this.onrender(t),n&&n(),this.blob&&(this.blob=null,a.revokeObjectURL(this.srcImage.src))}},void 0===(n=function(){return s}.apply(e,[]))||(t.exports=n)}()},qFWR:function(t,e){},qtDI:function(t,e,i){"use strict";var n=i("i14U");i.n(n).a},qtba:function(t,e,i){"use strict";var n=i("SR97");i.n(n).a},qz0N:function(t,e){},rD4D:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAS1BMVEVHcEz////////////////////////////////////////////////////////////////////////////////////////////////ScsZwAAAAGHRSTlMAp9ghLvPLamxOl8OO4OhDCrs6sxX8gFs+gQdxAAACBklEQVRIx6WW3YKrIAyEAwqKiD+11u/9n/RcWLugWN093KmMkwwJGZHjKqtm1J0xnR6bqpQbq280ADPvpdvHBcT5dWewSillw/rk3RfIwwKE1hXbm8K1AcCfsjUA6vBXpwDaLKS0gMrmXU6ALTICzBBOY3cdmEOIDpiG83SHEeh3PKdRJxknwRfA6+oEWzDP6Dlc8oiIKLAJ83SnWnwUTwndHYwMBjbh9UGXs7WA/6g9yc1l4bERxaI89xvjF+Wb6gEqCtubOsXUxg+JFsUqXVQfTyBB1SSBuFVAQ4g3VSmqBqr4u0GLPPbnmmyr98SioJDXQe8IVR0wssAiinmvV7Whqn1sq36tWPThNN5cOYwMhkk6RsminMthRDRWTHxKCSqPEY8+AYmbYc52/0T3e5DCSJet1uo8vIlOdNyNByHqXKFr8ZkG/Ca5dHhpfprx1uEW0EgN7pdlVEkJzXnBHlENlCJdmlSmNeo0pbBC+4smLJImbNeyjapvCPskakLa7uX7Yol+NRwmSjEkjWE3xvHuFeY/ueiD6l8uS/vDaYZb1/IcTZv2c9te3q+v/xs1fxtq0rOvphwPZWZQP88hhSczkHqgO1V+MTlL8DYfU9bO9CPgi3ObM+3ZBjfxzTD0FkA3SxlZvwAwfrNvi92s26jUuFm38arKNpPIfZOY2NGgxzZrR/8BIsAvo8V4qDgAAAAASUVORK5CYII="},rVsc:function(t,e,i){"use strict";var n=i("89MH");i.n(n).a},sOei:function(t,e,i){"use strict";var n=i("qFWR");i.n(n).a},"sSD/":function(t,e){},sX15:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAPFBMVEVHcEz///////////////////////////////////////////////////////////////////////////+PybD1AAAAE3RSTlMA+0ckEzh90QU/d+7fNMamnlhdAZm6QAAAAM5JREFUOMt9UkG2hCAMCwIWB0Hn5/53/Qt1BGxlBSQPkjSYZYG50rYjk9HEhcRCumAQhJyBmLl6Fd/JDwCElU7RkSo5HdtActH+n65DfDKSnO/fjDjic3sRBy8jPnrZuvdPpbeXRn/HuJR2+gcdXB76R4ZX9HWMtb7ggBcy/+FlVTL7l34I6ZS5tPjX02Sc+UeTcfmLRsfu/IvWsS7/IGo/mvzD6OWRf+mVpmf+PUObT3G3l02d78+L2Y9wAMHCDy8TqtkfoDgSc37pR5H9H1KlDbYAHzVrAAAAAElFTkSuQmCC"},t4Cc:function(t,e,i){"use strict";var n=i("QlV2");i.n(n).a},t4Wa:function(t,e,i){"use strict";var n=i("78d6");i.n(n).a},tTJh:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAAAqBAMAAADmCtAYAAAAMFBMVEVHcEz/////////////////////////3wC/gAD////ktADSmgD1yQD60gD/9a3/7mzu2l7MAAAAB3RSTlMAvhnzgnmwW6pqOgAAAX5JREFUOMuNlb1OwzAQx73wBEzsLIyMrGxsvAZP4BATMfYUl4EPgbKwxnLTOVb9AKnSsFflCXgCVu7SJG1Tk/gkW7b0u/P/zvGFMXZ+mgzZ5TVDO0nG7Bapu1HqnUJ98mH7wWAXye8I9Zi8sJuxUBjsjZ19jFL3z+zKg3pliQeVdNTDFw4eFfUmqnCqHFQQc66mZlJvQkAXKNyUmagpLmfWgLUWx8JBRZATyw20FjuoELQCnXGtZ0BjgetDCh1l0PmHkDl1EaV2p4SQuipRLWUJss6Bf9utfKd60VLLIfVrQPVSp3yDymNNlh1Tytb+VFcB84rsuKogRUeZZt2nSgOxaHTxDeROKsRCpB1l6joIyHtURPkIoArklCNRTYb7J84Dora6QEKGCTpuiAe7WCoF/f9tt7oi7kOhpLSdetSaTqTa6wHKQqteboFy5aAMPJH65jtAoCnHIbWyBelqDIEApOMN+b3HYcqvA/h1E7/O5Nfl/DqmX/f17OQ+f4U/GpAbqCjkv4QAAAAASUVORK5CYII="},tkK8:function(t,e,i){"use strict";var n=i("YngQ");i.n(n).a},xLz0:function(t,e){window.QRCode,function(){function t(t){this.mode=o.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=[],i=0,n=this.data.length;n>i;i++){var a=this.data.charCodeAt(i);a>65536?(e[0]=240|(1835008&a)>>>18,e[1]=128|(258048&a)>>>12,e[2]=128|(4032&a)>>>6,e[3]=128|63&a):a>2048?(e[0]=224|(61440&a)>>>12,e[1]=128|(4032&a)>>>6,e[2]=128|63&a):a>128?(e[0]=192|(1984&a)>>>6,e[1]=128|63&a):e[0]=a,this.parsedData=this.parsedData.concat(e)}this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function i(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function n(t,e){this.totalCount=t,this.dataCount=e}function a(){this.buffer=[],this.length=0}function s(){var t=!1,e=navigator.userAgent;return/android/i.test(e)&&(t=!0,aMat=e.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(t=parseFloat(aMat[1]))),t}function r(t,e){for(var i=1,n=function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}(t),a=0,s=d.length;s>=a;a++){var r=0;switch(e){case c.L:r=d[a][0];break;case c.M:r=d[a][1];break;case c.Q:r=d[a][2];break;case c.H:r=d[a][3]}if(r>=n)break;i++}if(i>d.length)throw new Error("Too long data");return i}t.prototype={getLength:function(){return this.parsedData.length},write:function(t){for(var e=0,i=this.parsedData.length;i>e;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var i=new t(e);this.dataList.push(i),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,i){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,i),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},setupPositionProbePattern:function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+i][e+n]=i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n)},getBestMaskPattern:function(){for(var t=0,e=0,i=0;8>i;i++){this.makeImpl(!0,i);var n=u.getLostPoint(this);(0==i||t>n)&&(t=n,e=i)}return e},createMovieClip:function(t,e,i){var n=t.createEmptyMovieClip(e,i);this.make();for(var a=0;a<this.modules.length;a++)for(var s=1*a,r=0;r<this.modules[a].length;r++){var o=1*r;this.modules[a][r]&&(n.beginFill(0,100),n.moveTo(o,s),n.lineTo(o+1,s),n.lineTo(o+1,s+1),n.lineTo(o,s+1),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var t=u.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],a=t[i];if(null==this.modules[n][a])for(var s=-2;2>=s;s++)for(var r=-2;2>=r;r++)this.modules[n+s][a+r]=-2==s||2==s||-2==r||2==r||0==s&&0==r}},setupTypeNumber:function(t){for(var e=u.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!t&&1==(1&e>>i);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;18>i;i++){n=!t&&1==(1&e>>i);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=this.errorCorrectLevel<<3|e,n=u.getBCHTypeInfo(i),a=0;15>a;a++){var s=!t&&1==(1&n>>a);6>a?this.modules[a][8]=s:8>a?this.modules[a+1][8]=s:this.modules[this.moduleCount-15+a][8]=s}for(a=0;15>a;a++){s=!t&&1==(1&n>>a);8>a?this.modules[8][this.moduleCount-a-1]=s:9>a?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,a=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var o=0;2>o;o++)if(null==this.modules[n][r-o]){var c=!1;s<t.length&&(c=1==(1&t[s]>>>a)),u.getMask(e,n,r-o)&&(c=!c),this.modules[n][r-o]=c,-1==--a&&(s++,a=7)}if(0>(n+=i)||this.moduleCount<=n){n-=i,i=-i;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,i,s){for(var r=n.getRSBlocks(t,i),o=new a,c=0;c<s.length;c++){var l=s[c];o.put(l.mode,4),o.put(l.getLength(),u.getLengthInBits(l.mode,t)),l.write(o)}var h=0;for(c=0;c<r.length;c++)h+=r[c].dataCount;if(o.getLengthInBits()>8*h)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*h+")");for(o.getLengthInBits()+4<=8*h&&o.put(0,4);0!=o.getLengthInBits()%8;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*h)&&(o.put(e.PAD0,8),!(o.getLengthInBits()>=8*h));)o.put(e.PAD1,8);return e.createBytes(o,r)},e.createBytes=function(t,e){for(var n=0,a=0,s=0,r=new Array(e.length),o=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,h=e[c].totalCount-l;a=Math.max(a,l),s=Math.max(s,h),r[c]=new Array(l);for(var m=0;m<r[c].length;m++)r[c][m]=255&t.buffer[m+n];n+=l;var d=u.getErrorCorrectPolynomial(h),g=new i(r[c],d.getLength()-1).mod(d);o[c]=new Array(d.getLength()-1);for(m=0;m<o[c].length;m++){var f=m+g.getLength()-o[c].length;o[c][m]=f>=0?g.get(f):0}}var p=0;for(m=0;m<e.length;m++)p+=e[m].totalCount;var v=new Array(p),b=0;for(m=0;a>m;m++)for(c=0;c<e.length;c++)m<r[c].length&&(v[b++]=r[c][m]);for(m=0;s>m;m++)for(c=0;c<e.length;c++)m<o[c].length&&(v[b++]=o[c][m]);return v};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},c={L:1,M:0,Q:3,H:2},l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;u.getBCHDigit(e)-u.getBCHDigit(u.G15)>=0;)e^=u.G15<<u.getBCHDigit(e)-u.getBCHDigit(u.G15);return(t<<10|e)^u.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;u.getBCHDigit(e)-u.getBCHDigit(u.G18)>=0;)e^=u.G18<<u.getBCHDigit(e)-u.getBCHDigit(u.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return u.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case l.PATTERN000:return 0==(e+i)%2;case l.PATTERN001:return 0==e%2;case l.PATTERN010:return 0==i%3;case l.PATTERN011:return 0==(e+i)%3;case l.PATTERN100:return 0==(Math.floor(e/2)+Math.floor(i/3))%2;case l.PATTERN101:return 0==e*i%2+e*i%3;case l.PATTERN110:return 0==(e*i%2+e*i%3)%2;case l.PATTERN111:return 0==(e*i%3+(e+i)%2)%2;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),n=0;t>n;n++)e=e.multiply(new i([1,h.gexp(n)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0;e>n;n++)for(var a=0;e>a;a++){for(var s=0,r=t.isDark(n,a),o=-1;1>=o;o++)if(!(0>n+o||n+o>=e))for(var c=-1;1>=c;c++)0>a+c||a+c>=e||(0!=o||0!=c)&&r==t.isDark(n+o,a+c)&&s++;s>5&&(i+=3+s-5)}for(n=0;e-1>n;n++)for(a=0;e-1>a;a++){var l=0;t.isDark(n,a)&&l++,t.isDark(n+1,a)&&l++,t.isDark(n,a+1)&&l++,t.isDark(n+1,a+1)&&l++,(0==l||4==l)&&(i+=3)}for(n=0;e>n;n++)for(a=0;e-6>a;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(i+=40);for(a=0;e>a;a++)for(n=0;e-6>n;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(i+=40);var u=0;for(a=0;e>a;a++)for(n=0;e>n;n++)t.isDark(n,a)&&u++;return i+10*(Math.abs(100*u/e/e-50)/5)}},h={glog:function(t){if(1>t)throw new Error("glog("+t+")");return h.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return h.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;8>m;m++)h.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)h.EXP_TABLE[m]=h.EXP_TABLE[m-4]^h.EXP_TABLE[m-5]^h.EXP_TABLE[m-6]^h.EXP_TABLE[m-8];for(m=0;255>m;m++)h.LOG_TABLE[h.EXP_TABLE[m]]=m;i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var a=0;a<t.getLength();a++)e[n+a]^=h.gexp(h.glog(this.get(n))+h.glog(t.get(a)));return new i(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=h.glog(this.get(0))-h.glog(t.get(0)),n=new Array(this.getLength()),a=0;a<this.getLength();a++)n[a]=this.get(a);for(a=0;a<t.getLength();a++)n[a]^=h.gexp(h.glog(t.get(a))+e);return new i(n,0).mod(t)}},n.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],n.getRSBlocks=function(t,e){var i=n.getRsBlockTable(t,e);if(void 0==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var a=i.length/3,s=[],r=0;a>r;r++)for(var o=i[3*r+0],c=i[3*r+1],l=i[3*r+2],u=0;o>u;u++)s.push(new n(c,l));return s},n.getRsBlockTable=function(t,e){switch(e){case c.L:return n.RS_BLOCK_TABLE[4*(t-1)+0];case c.M:return n.RS_BLOCK_TABLE[4*(t-1)+1];case c.Q:return n.RS_BLOCK_TABLE[4*(t-1)+2];case c.H:return n.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},a.prototype={get:function(t){var e=Math.floor(t/8);return 1==(1&this.buffer[e]>>>7-t%8)},put:function(t,e){for(var i=0;e>i;i++)this.putBit(1==(1&t>>>e-i-1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var d=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],g=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)e.hasOwnProperty(n)&&i.setAttribute(n,e[n]);return i}var i=this._htOption,n=this._el,a=t.getModuleCount();Math.floor(i.width/a),Math.floor(i.height/a),this.clear();var s=e("svg",{viewBox:"0 0 "+String(a)+" "+String(a),width:"100%",height:"100%",fill:i.colorLight});s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(s),s.appendChild(e("rect",{fill:i.colorDark,width:"1",height:"1",id:"template"}));for(var r=0;a>r;r++)for(var o=0;a>o;o++)if(t.isDark(r,o)){var c=e("use",{x:String(r),y:String(o)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),s.appendChild(c)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),f="svg"===document.documentElement.tagName.toLowerCase()?g:"undefined"!=typeof CanvasRenderingContext2D?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,i=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,n,a,s,r,o,c,l){if("nodeName"in t&&/img/i.test(t.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*e;else void 0===l&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);i.apply(this,arguments)}}var n=function(t,e){this._bIsPainted=!1,this._android=s(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(t){var e=this._elImage,i=this._oContext,n=this._htOption,a=t.getModuleCount(),s=n.width/a,r=n.height/a,o=Math.round(s),c=Math.round(r);e.style.display="none",this.clear();for(var l=0;a>l;l++)for(var u=0;a>u;u++){var h=t.isDark(l,u),m=u*s,d=l*r;i.strokeStyle=h?n.colorDark:n.colorLight,i.lineWidth=1,i.fillStyle=h?n.colorDark:n.colorLight,i.fillRect(m,d,s,r),i.strokeRect(Math.floor(m)+.5,Math.floor(d)+.5,o,c),i.strokeRect(Math.ceil(m)-.5,Math.ceil(d)-.5,o,c)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&function(t,e){var i=this;if(i._fFail=e,i._fSuccess=t,null===i._bSupportDataURI){var n=document.createElement("img"),a=function(){i._bSupportDataURI=!1,i._fFail&&_fFail.call(i)};return n.onabort=a,n.onerror=a,n.onload=function(){i._bSupportDataURI=!0,i._fSuccess&&i._fSuccess.call(i)},void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===i._bSupportDataURI&&i._fSuccess?i._fSuccess.call(i):!1===i._bSupportDataURI&&i._fFail&&i._fFail.call(i)}.call(this,t)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},n}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,i=this._el,n=t.getModuleCount(),a=Math.floor(e.width/n),s=Math.floor(e.height/n),r=['<table style="border:0;border-collapse:collapse;">'],o=0;n>o;o++){r.push("<tr>");for(var c=0;n>c;c++)r.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+a+"px;height:"+s+"px;background-color:"+(t.isDark(o,c)?e.colorDark:e.colorLight)+';"></td>');r.push("</tr>")}r.push("</table>"),i.innerHTML=r.join("");var l=i.childNodes[0],u=(e.width-l.offsetWidth)/2,h=(e.height-l.offsetHeight)/2;u>0&&h>0&&(l.style.margin=h+"px "+u+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:c.H},"string"==typeof e&&(e={text:e}),e)for(var i in e)this._htOption[i]=e[i];"string"==typeof t&&(t=document.getElementById(t)),this._android=s(),this._el=t,this._oQRCode=null,this._oDrawing=new f(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(t){this._oQRCode=new e(r(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=c}()},xTLl:function(t,e,i){"use strict";var n=i("cWa9");i.n(n).a},xXY5:function(t,e){},yns3:function(t,e,i){"use strict";var n=i("qz0N");i.n(n).a}},["NHnr"]);
//# sourceMappingURL=app.995070.js.map